function Ak(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const l=Object.getOwnPropertyDescriptor(s,r);l&&Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function $u(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Tk(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var kf={exports:{}},La={},Af={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function Ek(){if(My)return He;My=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(O,Y,he){this.props=O,this.context=Y,this.refs=w,this.updater=he||b}C.prototype.isReactComponent={},C.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=C.prototype;function E(O,Y,he){this.props=O,this.context=Y,this.refs=w,this.updater=he||b}var T=E.prototype=new N;T.constructor=E,S(T,C.prototype),T.isPureReactComponent=!0;var M=Array.isArray,R=Object.prototype.hasOwnProperty,I={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function k(O,Y,he){var ue,ae={},me=null,L=null;if(Y!=null)for(ue in Y.ref!==void 0&&(L=Y.ref),Y.key!==void 0&&(me=""+Y.key),Y)R.call(Y,ue)&&!j.hasOwnProperty(ue)&&(ae[ue]=Y[ue]);var F=arguments.length-2;if(F===1)ae.children=he;else if(1<F){for(var se=Array(F),re=0;re<F;re++)se[re]=arguments[re+2];ae.children=se}if(O&&O.defaultProps)for(ue in F=O.defaultProps,F)ae[ue]===void 0&&(ae[ue]=F[ue]);return{$$typeof:n,type:O,key:me,ref:L,props:ae,_owner:I.current}}function D(O,Y){return{$$typeof:n,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return Y[he]})}var B=/\/+/g;function Z(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function z(O,Y,he,ue,ae){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var L=!1;if(O===null)L=!0;else switch(me){case"string":case"number":L=!0;break;case"object":switch(O.$$typeof){case n:case e:L=!0}}if(L)return L=O,ae=ae(L),O=ue===""?"."+Z(L,0):ue,M(ae)?(he="",O!=null&&(he=O.replace(B,"$&/")+"/"),z(ae,Y,he,"",function(re){return re})):ae!=null&&(A(ae)&&(ae=D(ae,he+(!ae.key||L&&L.key===ae.key?"":(""+ae.key).replace(B,"$&/")+"/")+O)),Y.push(ae)),1;if(L=0,ue=ue===""?".":ue+":",M(O))for(var F=0;F<O.length;F++){me=O[F];var se=ue+Z(me,F);L+=z(me,Y,he,se,ae)}else if(se=x(O),typeof se=="function")for(O=se.call(O),F=0;!(me=O.next()).done;)me=me.value,se=ue+Z(me,F++),L+=z(me,Y,he,se,ae);else if(me==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return L}function H(O,Y,he){if(O==null)return O;var ue=[],ae=0;return z(O,ue,"","",function(me){return Y.call(he,me,ae++)}),ue}function X(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Q={current:null},$={transition:null},q={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:$,ReactCurrentOwner:I};function W(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:H,forEach:function(O,Y,he){H(O,function(){Y.apply(this,arguments)},he)},count:function(O){var Y=0;return H(O,function(){Y++}),Y},toArray:function(O){return H(O,function(Y){return Y})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=C,He.Fragment=t,He.Profiler=r,He.PureComponent=E,He.StrictMode=s,He.Suspense=d,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,He.act=W,He.cloneElement=function(O,Y,he){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ue=S({},O.props),ae=O.key,me=O.ref,L=O._owner;if(Y!=null){if(Y.ref!==void 0&&(me=Y.ref,L=I.current),Y.key!==void 0&&(ae=""+Y.key),O.type&&O.type.defaultProps)var F=O.type.defaultProps;for(se in Y)R.call(Y,se)&&!j.hasOwnProperty(se)&&(ue[se]=Y[se]===void 0&&F!==void 0?F[se]:Y[se])}var se=arguments.length-2;if(se===1)ue.children=he;else if(1<se){F=Array(se);for(var re=0;re<se;re++)F[re]=arguments[re+2];ue.children=F}return{$$typeof:n,type:O.type,key:ae,ref:me,props:ue,_owner:L}},He.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},He.createElement=k,He.createFactory=function(O){var Y=k.bind(null,O);return Y.type=O,Y},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:c,render:O}},He.isValidElement=A,He.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:X}},He.memo=function(O,Y){return{$$typeof:f,type:O,compare:Y===void 0?null:Y}},He.startTransition=function(O){var Y=$.transition;$.transition={};try{O()}finally{$.transition=Y}},He.unstable_act=W,He.useCallback=function(O,Y){return Q.current.useCallback(O,Y)},He.useContext=function(O){return Q.current.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O){return Q.current.useDeferredValue(O)},He.useEffect=function(O,Y){return Q.current.useEffect(O,Y)},He.useId=function(){return Q.current.useId()},He.useImperativeHandle=function(O,Y,he){return Q.current.useImperativeHandle(O,Y,he)},He.useInsertionEffect=function(O,Y){return Q.current.useInsertionEffect(O,Y)},He.useLayoutEffect=function(O,Y){return Q.current.useLayoutEffect(O,Y)},He.useMemo=function(O,Y){return Q.current.useMemo(O,Y)},He.useReducer=function(O,Y,he){return Q.current.useReducer(O,Y,he)},He.useRef=function(O){return Q.current.useRef(O)},He.useState=function(O){return Q.current.useState(O)},He.useSyncExternalStore=function(O,Y,he){return Q.current.useSyncExternalStore(O,Y,he)},He.useTransition=function(){return Q.current.useTransition()},He.version="18.3.1",He}var Py;function Wu(){return Py||(Py=1,Af.exports=Ek()),Af.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function Rk(){if(Oy)return La;Oy=1;var n=Wu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,f){var p,m={},x=null,b=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)s.call(d,p)&&!l.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:x,ref:b,props:m,_owner:r.current}}return La.Fragment=t,La.jsx=u,La.jsxs=u,La}var Iy;function Mk(){return Iy||(Iy=1,kf.exports=Rk()),kf.exports}var i=Mk(),zc={},Tf={exports:{}},jn={},Ef={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function Pk(){return Dy||(Dy=1,(function(n){function e($,q){var W=$.length;$.push(q);e:for(;0<W;){var O=W-1>>>1,Y=$[O];if(0<r(Y,q))$[O]=q,$[W]=Y,W=O;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var q=$[0],W=$.pop();if(W!==q){$[0]=W;e:for(var O=0,Y=$.length,he=Y>>>1;O<he;){var ue=2*(O+1)-1,ae=$[ue],me=ue+1,L=$[me];if(0>r(ae,W))me<Y&&0>r(L,ae)?($[O]=L,$[me]=W,O=me):($[O]=ae,$[ue]=W,O=ue);else if(me<Y&&0>r(L,W))$[O]=L,$[me]=W,O=me;else break e}}return q}function r($,q){var W=$.sortIndex-q.sortIndex;return W!==0?W:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],f=[],p=1,m=null,x=3,b=!1,S=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var q=t(f);q!==null;){if(q.callback===null)s(f);else if(q.startTime<=$)s(f),q.sortIndex=q.expirationTime,e(d,q);else break;q=t(f)}}function M($){if(w=!1,T($),!S)if(t(d)!==null)S=!0,X(R);else{var q=t(f);q!==null&&Q(M,q.startTime-$)}}function R($,q){S=!1,w&&(w=!1,N(k),k=-1),b=!0;var W=x;try{for(T(q),m=t(d);m!==null&&(!(m.expirationTime>q)||$&&!V());){var O=m.callback;if(typeof O=="function"){m.callback=null,x=m.priorityLevel;var Y=O(m.expirationTime<=q);q=n.unstable_now(),typeof Y=="function"?m.callback=Y:m===t(d)&&s(d),T(q)}else s(d);m=t(d)}if(m!==null)var he=!0;else{var ue=t(f);ue!==null&&Q(M,ue.startTime-q),he=!1}return he}finally{m=null,x=W,b=!1}}var I=!1,j=null,k=-1,D=5,A=-1;function V(){return!(n.unstable_now()-A<D)}function B(){if(j!==null){var $=n.unstable_now();A=$;var q=!0;try{q=j(!0,$)}finally{q?Z():(I=!1,j=null)}}else I=!1}var Z;if(typeof E=="function")Z=function(){E(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=B,Z=function(){H.postMessage(null)}}else Z=function(){C(B,0)};function X($){j=$,I||(I=!0,Z())}function Q($,q){k=C(function(){$(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,X(R))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var W=x;x=q;try{return $()}finally{x=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=x;x=$;try{return q()}finally{x=W}},n.unstable_scheduleCallback=function($,q,W){var O=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?O+W:O):W=O,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,$={id:p++,callback:q,priorityLevel:$,startTime:W,expirationTime:Y,sortIndex:-1},W>O?($.sortIndex=W,e(f,$),t(d)===null&&$===t(f)&&(w?(N(k),k=-1):w=!0,Q(M,W-O))):($.sortIndex=Y,e(d,$),S||b||(S=!0,X(R))),$},n.unstable_shouldYield=V,n.unstable_wrapCallback=function($){var q=x;return function(){var W=x;x=q;try{return $.apply(this,arguments)}finally{x=W}}}})(Rf)),Rf}var Vy;function Ok(){return Vy||(Vy=1,Ef.exports=Pk()),Ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function Ik(){if(Fy)return jn;Fy=1;var n=Wu(),e=Ok();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function l(o,a){u(o,a),u(o+"Capture",a)}function u(o,a){for(r[o]=a,o=0;o<a.length;o++)s.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(o){return d.call(m,o)?!0:d.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function b(o,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,a,h,g){if(a===null||typeof a>"u"||b(o,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(o,a,h,g,y,_,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=_,this.removeEmptyString=P}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){C[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];C[a]=new w(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){C[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){C[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){C[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){C[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){C[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){C[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){C[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(N,E);C[a]=new w(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(N,E);C[a]=new w(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(N,E);C[a]=new w(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){C[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){C[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,a,h,g){var y=C.hasOwnProperty(a)?C[a]:null;(y!==null?y.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,h,y,g)&&(h=null),g||y===null?x(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):y.mustUseProperty?o[y.propertyName]=h===null?y.type===3?!1:"":h:(a=y.attributeName,g=y.attributeNamespace,h===null?o.removeAttribute(a):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,g?o.setAttributeNS(g,a,h):o.setAttribute(a,h))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),$=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var W=Object.assign,O;function Y(o){if(O===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);O=a&&a[1]||""}return`
`+O+o}var he=!1;function ue(o,a){if(!o||he)return"";he=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var g=ne}Reflect.construct(o,[],a)}else{try{a.call()}catch(ne){g=ne}o.call(a.prototype)}else{try{throw Error()}catch(ne){g=ne}o()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var y=ne.stack.split(`
`),_=g.stack.split(`
`),P=y.length-1,G=_.length-1;1<=P&&0<=G&&y[P]!==_[G];)G--;for(;1<=P&&0<=G;P--,G--)if(y[P]!==_[G]){if(P!==1||G!==1)do if(P--,G--,0>G||y[P]!==_[G]){var U=`
`+y[P].replace(" at new "," at ");return o.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",o.displayName)),U}while(1<=P&&0<=G);break}}}finally{he=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?Y(o):""}function ae(o){switch(o.tag){case 5:return Y(o.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return o=ue(o.type,!1),o;case 11:return o=ue(o.type.render,!1),o;case 1:return o=ue(o.type,!0),o;default:return""}}function me(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case I:return"Portal";case D:return"Profiler";case k:return"StrictMode";case Z:return"Suspense";case z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case A:return(o._context.displayName||"Context")+".Provider";case B:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return a=o.displayName||null,a!==null?a:me(o.type)||"Memo";case X:a=o._payload,o=o._init;try{return me(o(a))}catch{}}return null}function L(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function F(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function se(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function re(o){var a=se(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),g=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,_=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(P){g=""+P,_.call(this,P)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function xe(o){o._valueTracker||(o._valueTracker=re(o))}function ge(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return o&&(g=se(o)?o.checked?"true":"false":o.value),o=g,o!==h?(a.setValue(o),!0):!1}function Ie(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Re(o,a){var h=a.checked;return W({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function ce(o,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=F(a.value!=null?a.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Se(o,a){a=a.checked,a!=null&&T(o,"checked",a,!1)}function Ke(o,a){Se(o,a);var h=F(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?$e(o,a.type,h):a.hasOwnProperty("defaultValue")&&$e(o,a.type,F(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Ye(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function $e(o,a,h){(a!=="number"||Ie(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Qe=Array.isArray;function be(o,a,h,g){if(o=o.options,a){a={};for(var y=0;y<h.length;y++)a["$"+h[y]]=!0;for(h=0;h<o.length;h++)y=a.hasOwnProperty("$"+o[h].value),o[h].selected!==y&&(o[h].selected=y),y&&g&&(o[h].defaultSelected=!0)}else{for(h=""+F(h),a=null,y=0;y<o.length;y++){if(o[y].value===h){o[y].selected=!0,g&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function et(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function wn(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(Qe(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:F(h)}}function hr(o,a){var h=F(a.value),g=F(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function Li(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Rl(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vd(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Rl(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ml,Ug=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,y){MSApp.execUnsafeLocalFunction(function(){return o(a,h,g,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ml.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ta(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mj=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(o){Mj.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),na[a]=na[o]})});function Hg(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||na.hasOwnProperty(o)&&na[o]?(""+a).trim():a+"px"}function Qg(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,y=Hg(h,a[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,y):o[h]=y}}var Pj=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fd(o,a){if(a){if(Pj[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ld(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=null;function Bd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qd=null,zi=null,Bi=null;function Kg(o){if(o=_a(o)){if(typeof qd!="function")throw Error(t(280));var a=o.stateNode;a&&(a=tc(a),qd(o.stateNode,o.type,a))}}function Yg(o){zi?Bi?Bi.push(o):Bi=[o]:zi=o}function Xg(){if(zi){var o=zi,a=Bi;if(Bi=zi=null,Kg(o),a)for(o=0;o<a.length;o++)Kg(a[o])}}function Zg(o,a){return o(a)}function Jg(){}var Gd=!1;function ex(o,a,h){if(Gd)return o(a,h);Gd=!0;try{return Zg(o,a,h)}finally{Gd=!1,(zi!==null||Bi!==null)&&(Jg(),Xg())}}function sa(o,a){var h=o.stateNode;if(h===null)return null;var g=tc(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var $d=!1;if(c)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){$d=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{$d=!1}function Oj(o,a,h,g,y,_,P,G,U){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(h,ne)}catch(oe){this.onError(oe)}}var ia=!1,Pl=null,Ol=!1,Wd=null,Ij={onError:function(o){ia=!0,Pl=o}};function Dj(o,a,h,g,y,_,P,G,U){ia=!1,Pl=null,Oj.apply(Ij,arguments)}function Vj(o,a,h,g,y,_,P,G,U){if(Dj.apply(this,arguments),ia){if(ia){var ne=Pl;ia=!1,Pl=null}else throw Error(t(198));Ol||(Ol=!0,Wd=ne)}}function ri(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function tx(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function nx(o){if(ri(o)!==o)throw Error(t(188))}function Fj(o){var a=o.alternate;if(!a){if(a=ri(o),a===null)throw Error(t(188));return a!==o?null:o}for(var h=o,g=a;;){var y=h.return;if(y===null)break;var _=y.alternate;if(_===null){if(g=y.return,g!==null){h=g;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===h)return nx(y),o;if(_===g)return nx(y),a;_=_.sibling}throw Error(t(188))}if(h.return!==g.return)h=y,g=_;else{for(var P=!1,G=y.child;G;){if(G===h){P=!0,h=y,g=_;break}if(G===g){P=!0,g=y,h=_;break}G=G.sibling}if(!P){for(G=_.child;G;){if(G===h){P=!0,h=_,g=y;break}if(G===g){P=!0,g=_,h=y;break}G=G.sibling}if(!P)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:a}function sx(o){return o=Fj(o),o!==null?rx(o):null}function rx(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=rx(o);if(a!==null)return a;o=o.sibling}return null}var ix=e.unstable_scheduleCallback,ox=e.unstable_cancelCallback,Lj=e.unstable_shouldYield,zj=e.unstable_requestPaint,Rt=e.unstable_now,Bj=e.unstable_getCurrentPriorityLevel,Ud=e.unstable_ImmediatePriority,ax=e.unstable_UserBlockingPriority,Il=e.unstable_NormalPriority,qj=e.unstable_LowPriority,lx=e.unstable_IdlePriority,Dl=null,ys=null;function Gj(o){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Dl,o,void 0,(o.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:Uj,$j=Math.log,Wj=Math.LN2;function Uj(o){return o>>>=0,o===0?32:31-($j(o)/Wj|0)|0}var Vl=64,Fl=4194304;function oa(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ll(o,a){var h=o.pendingLanes;if(h===0)return 0;var g=0,y=o.suspendedLanes,_=o.pingedLanes,P=h&268435455;if(P!==0){var G=P&~y;G!==0?g=oa(G):(_&=P,_!==0&&(g=oa(_)))}else P=h&~y,P!==0?g=oa(P):_!==0&&(g=oa(_));if(g===0)return 0;if(a!==0&&a!==g&&(a&y)===0&&(y=g&-g,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=g;0<a;)h=31-Zn(a),y=1<<h,g|=o[h],a&=~y;return g}function Hj(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qj(o,a){for(var h=o.suspendedLanes,g=o.pingedLanes,y=o.expirationTimes,_=o.pendingLanes;0<_;){var P=31-Zn(_),G=1<<P,U=y[P];U===-1?((G&h)===0||(G&g)!==0)&&(y[P]=Hj(G,a)):U<=a&&(o.expiredLanes|=G),_&=~G}}function Hd(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function cx(){var o=Vl;return Vl<<=1,(Vl&4194240)===0&&(Vl=64),o}function Qd(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function aa(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Zn(a),o[a]=h}function Kj(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var y=31-Zn(h),_=1<<y;a[y]=0,g[y]=-1,o[y]=-1,h&=~_}}function Kd(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var g=31-Zn(h),y=1<<g;y&a|o[g]&a&&(o[g]|=a),h&=~y}}var nt=0;function ux(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var dx,Yd,hx,fx,px,Xd=!1,zl=[],fr=null,pr=null,mr=null,la=new Map,ca=new Map,gr=[],Yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mx(o,a){switch(o){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":la.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(a.pointerId)}}function ua(o,a,h,g,y,_){return o===null||o.nativeEvent!==_?(o={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[y]},a!==null&&(a=_a(a),a!==null&&Yd(a)),o):(o.eventSystemFlags|=g,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function Xj(o,a,h,g,y){switch(a){case"focusin":return fr=ua(fr,o,a,h,g,y),!0;case"dragenter":return pr=ua(pr,o,a,h,g,y),!0;case"mouseover":return mr=ua(mr,o,a,h,g,y),!0;case"pointerover":var _=y.pointerId;return la.set(_,ua(la.get(_)||null,o,a,h,g,y)),!0;case"gotpointercapture":return _=y.pointerId,ca.set(_,ua(ca.get(_)||null,o,a,h,g,y)),!0}return!1}function gx(o){var a=ii(o.target);if(a!==null){var h=ri(a);if(h!==null){if(a=h.tag,a===13){if(a=tx(h),a!==null){o.blockedOn=a,px(o.priority,function(){hx(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Bl(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=Jd(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);zd=g,h.target.dispatchEvent(g),zd=null}else return a=_a(h),a!==null&&Yd(a),o.blockedOn=h,!1;a.shift()}return!0}function xx(o,a,h){Bl(o)&&h.delete(a)}function Zj(){Xd=!1,fr!==null&&Bl(fr)&&(fr=null),pr!==null&&Bl(pr)&&(pr=null),mr!==null&&Bl(mr)&&(mr=null),la.forEach(xx),ca.forEach(xx)}function da(o,a){o.blockedOn===a&&(o.blockedOn=null,Xd||(Xd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zj)))}function ha(o){function a(y){return da(y,o)}if(0<zl.length){da(zl[0],o);for(var h=1;h<zl.length;h++){var g=zl[h];g.blockedOn===o&&(g.blockedOn=null)}}for(fr!==null&&da(fr,o),pr!==null&&da(pr,o),mr!==null&&da(mr,o),la.forEach(a),ca.forEach(a),h=0;h<gr.length;h++)g=gr[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<gr.length&&(h=gr[0],h.blockedOn===null);)gx(h),h.blockedOn===null&&gr.shift()}var qi=M.ReactCurrentBatchConfig,ql=!0;function Jj(o,a,h,g){var y=nt,_=qi.transition;qi.transition=null;try{nt=1,Zd(o,a,h,g)}finally{nt=y,qi.transition=_}}function e2(o,a,h,g){var y=nt,_=qi.transition;qi.transition=null;try{nt=4,Zd(o,a,h,g)}finally{nt=y,qi.transition=_}}function Zd(o,a,h,g){if(ql){var y=Jd(o,a,h,g);if(y===null)gh(o,a,g,Gl,h),mx(o,g);else if(Xj(y,o,a,h,g))g.stopPropagation();else if(mx(o,g),a&4&&-1<Yj.indexOf(o)){for(;y!==null;){var _=_a(y);if(_!==null&&dx(_),_=Jd(o,a,h,g),_===null&&gh(o,a,g,Gl,h),_===y)break;y=_}y!==null&&g.stopPropagation()}else gh(o,a,g,null,h)}}var Gl=null;function Jd(o,a,h,g){if(Gl=null,o=Bd(g),o=ii(o),o!==null)if(a=ri(o),a===null)o=null;else if(h=a.tag,h===13){if(o=tx(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Gl=o,null}function vx(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bj()){case Ud:return 1;case ax:return 4;case Il:case qj:return 16;case lx:return 536870912;default:return 16}default:return 16}}var xr=null,eh=null,$l=null;function yx(){if($l)return $l;var o,a=eh,h=a.length,g,y="value"in xr?xr.value:xr.textContent,_=y.length;for(o=0;o<h&&a[o]===y[o];o++);var P=h-o;for(g=1;g<=P&&a[h-g]===y[_-g];g++);return $l=y.slice(o,1<g?1-g:void 0)}function Wl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ul(){return!0}function wx(){return!1}function En(o){function a(h,g,y,_,P){this._reactName=h,this._targetInst=y,this.type=g,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var G in o)o.hasOwnProperty(G)&&(h=o[G],this[G]=h?h(_):_[G]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ul:wx,this.isPropagationStopped=wx,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),a}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=En(Gi),fa=W({},Gi,{view:0,detail:0}),t2=En(fa),nh,sh,pa,Hl=W({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pa&&(pa&&o.type==="mousemove"?(nh=o.screenX-pa.screenX,sh=o.screenY-pa.screenY):sh=nh=0,pa=o),nh)},movementY:function(o){return"movementY"in o?o.movementY:sh}}),bx=En(Hl),n2=W({},Hl,{dataTransfer:0}),s2=En(n2),r2=W({},fa,{relatedTarget:0}),rh=En(r2),i2=W({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),o2=En(i2),a2=W({},Gi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),l2=En(a2),c2=W({},Gi,{data:0}),Cx=En(c2),u2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f2(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=h2[o])?!!a[o]:!1}function ih(){return f2}var p2=W({},fa,{key:function(o){if(o.key){var a=u2[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Wl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?d2[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(o){return o.type==="keypress"?Wl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Wl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),m2=En(p2),g2=W({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=En(g2),x2=W({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),v2=En(x2),y2=W({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w2=En(y2),b2=W({},Hl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),C2=En(b2),S2=[9,13,27,32],oh=c&&"CompositionEvent"in window,ma=null;c&&"documentMode"in document&&(ma=document.documentMode);var _2=c&&"TextEvent"in window&&!ma,_x=c&&(!oh||ma&&8<ma&&11>=ma),Nx=" ",jx=!1;function kx(o,a){switch(o){case"keyup":return S2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ax(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var $i=!1;function N2(o,a){switch(o){case"compositionend":return Ax(a);case"keypress":return a.which!==32?null:(jx=!0,Nx);case"textInput":return o=a.data,o===Nx&&jx?null:o;default:return null}}function j2(o,a){if($i)return o==="compositionend"||!oh&&kx(o,a)?(o=yx(),$l=eh=xr=null,$i=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _x&&a.locale!=="ko"?null:a.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!k2[o.type]:a==="textarea"}function Ex(o,a,h,g){Yg(g),a=Zl(a,"onChange"),0<a.length&&(h=new th("onChange","change",null,h,g),o.push({event:h,listeners:a}))}var ga=null,xa=null;function A2(o){Qx(o,0)}function Ql(o){var a=Ki(o);if(ge(a))return o}function T2(o,a){if(o==="change")return a}var Rx=!1;if(c){var ah;if(c){var lh="oninput"in document;if(!lh){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),lh=typeof Mx.oninput=="function"}ah=lh}else ah=!1;Rx=ah&&(!document.documentMode||9<document.documentMode)}function Px(){ga&&(ga.detachEvent("onpropertychange",Ox),xa=ga=null)}function Ox(o){if(o.propertyName==="value"&&Ql(xa)){var a=[];Ex(a,xa,o,Bd(o)),ex(A2,a)}}function E2(o,a,h){o==="focusin"?(Px(),ga=a,xa=h,ga.attachEvent("onpropertychange",Ox)):o==="focusout"&&Px()}function R2(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ql(xa)}function M2(o,a){if(o==="click")return Ql(a)}function P2(o,a){if(o==="input"||o==="change")return Ql(a)}function O2(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Jn=typeof Object.is=="function"?Object.is:O2;function va(o,a){if(Jn(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var y=h[g];if(!d.call(a,y)||!Jn(o[y],a[y]))return!1}return!0}function Ix(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Dx(o,a){var h=Ix(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=a&&g>=a)return{node:h,offset:a-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ix(h)}}function Vx(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Vx(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Fx(){for(var o=window,a=Ie();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=Ie(o.document)}return a}function ch(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function I2(o){var a=Fx(),h=o.focusedElem,g=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&Vx(h.ownerDocument.documentElement,h)){if(g!==null&&ch(h)){if(a=g.start,o=g.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=h.textContent.length,_=Math.min(g.start,y);g=g.end===void 0?_:Math.min(g.end,y),!o.extend&&_>g&&(y=g,g=_,_=y),y=Dx(h,_);var P=Dx(h,g);y&&P&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),_>g?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var D2=c&&"documentMode"in document&&11>=document.documentMode,Wi=null,uh=null,ya=null,dh=!1;function Lx(o,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;dh||Wi==null||Wi!==Ie(g)||(g=Wi,"selectionStart"in g&&ch(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ya&&va(ya,g)||(ya=g,g=Zl(uh,"onSelect"),0<g.length&&(a=new th("onSelect","select",null,a,h),o.push({event:a,listeners:g}),a.target=Wi)))}function Kl(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var Ui={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},hh={},zx={};c&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Yl(o){if(hh[o])return hh[o];if(!Ui[o])return o;var a=Ui[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in zx)return hh[o]=a[h];return o}var Bx=Yl("animationend"),qx=Yl("animationiteration"),Gx=Yl("animationstart"),$x=Yl("transitionend"),Wx=new Map,Ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(o,a){Wx.set(o,a),l(a,[o])}for(var fh=0;fh<Ux.length;fh++){var ph=Ux[fh],V2=ph.toLowerCase(),F2=ph[0].toUpperCase()+ph.slice(1);vr(V2,"on"+F2)}vr(Bx,"onAnimationEnd"),vr(qx,"onAnimationIteration"),vr(Gx,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr($x,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L2=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Hx(o,a,h){var g=o.type||"unknown-event";o.currentTarget=h,Vj(g,a,void 0,o),o.currentTarget=null}function Qx(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],y=g.event;g=g.listeners;e:{var _=void 0;if(a)for(var P=g.length-1;0<=P;P--){var G=g[P],U=G.instance,ne=G.currentTarget;if(G=G.listener,U!==_&&y.isPropagationStopped())break e;Hx(y,G,ne),_=U}else for(P=0;P<g.length;P++){if(G=g[P],U=G.instance,ne=G.currentTarget,G=G.listener,U!==_&&y.isPropagationStopped())break e;Hx(y,G,ne),_=U}}}if(Ol)throw o=Wd,Ol=!1,Wd=null,o}function ut(o,a){var h=a[Ch];h===void 0&&(h=a[Ch]=new Set);var g=o+"__bubble";h.has(g)||(Kx(a,o,2,!1),h.add(g))}function mh(o,a,h){var g=0;a&&(g|=4),Kx(h,o,g,a)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function ba(o){if(!o[Xl]){o[Xl]=!0,s.forEach(function(h){h!=="selectionchange"&&(L2.has(h)||mh(h,!1,o),mh(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Xl]||(a[Xl]=!0,mh("selectionchange",!1,a))}}function Kx(o,a,h,g){switch(vx(a)){case 1:var y=Jj;break;case 4:y=e2;break;default:y=Zd}h=y.bind(null,a,h,o),y=void 0,!$d||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),g?y!==void 0?o.addEventListener(a,h,{capture:!0,passive:y}):o.addEventListener(a,h,!0):y!==void 0?o.addEventListener(a,h,{passive:y}):o.addEventListener(a,h,!1)}function gh(o,a,h,g,y){var _=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var G=g.stateNode.containerInfo;if(G===y||G.nodeType===8&&G.parentNode===y)break;if(P===4)for(P=g.return;P!==null;){var U=P.tag;if((U===3||U===4)&&(U=P.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;P=P.return}for(;G!==null;){if(P=ii(G),P===null)return;if(U=P.tag,U===5||U===6){g=_=P;continue e}G=G.parentNode}}g=g.return}ex(function(){var ne=_,oe=Bd(h),le=[];e:{var ie=Wx.get(o);if(ie!==void 0){var we=th,_e=o;switch(o){case"keypress":if(Wl(h)===0)break e;case"keydown":case"keyup":we=m2;break;case"focusin":_e="focus",we=rh;break;case"focusout":_e="blur",we=rh;break;case"beforeblur":case"afterblur":we=rh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=s2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=v2;break;case Bx:case qx:case Gx:we=o2;break;case $x:we=w2;break;case"scroll":we=t2;break;case"wheel":we=C2;break;case"copy":case"cut":case"paste":we=l2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Sx}var je=(a&4)!==0,Mt=!je&&o==="scroll",J=je?ie!==null?ie+"Capture":null:ie;je=[];for(var K=ne,te;K!==null;){te=K;var fe=te.stateNode;if(te.tag===5&&fe!==null&&(te=fe,J!==null&&(fe=sa(K,J),fe!=null&&je.push(Ca(K,fe,te)))),Mt)break;K=K.return}0<je.length&&(ie=new we(ie,_e,null,h,oe),le.push({event:ie,listeners:je}))}}if((a&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",ie&&h!==zd&&(_e=h.relatedTarget||h.fromElement)&&(ii(_e)||_e[zs]))break e;if((we||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,we?(_e=h.relatedTarget||h.toElement,we=ne,_e=_e?ii(_e):null,_e!==null&&(Mt=ri(_e),_e!==Mt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(we=null,_e=ne),we!==_e)){if(je=bx,fe="onMouseLeave",J="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(je=Sx,fe="onPointerLeave",J="onPointerEnter",K="pointer"),Mt=we==null?ie:Ki(we),te=_e==null?ie:Ki(_e),ie=new je(fe,K+"leave",we,h,oe),ie.target=Mt,ie.relatedTarget=te,fe=null,ii(oe)===ne&&(je=new je(J,K+"enter",_e,h,oe),je.target=te,je.relatedTarget=Mt,fe=je),Mt=fe,we&&_e)t:{for(je=we,J=_e,K=0,te=je;te;te=Hi(te))K++;for(te=0,fe=J;fe;fe=Hi(fe))te++;for(;0<K-te;)je=Hi(je),K--;for(;0<te-K;)J=Hi(J),te--;for(;K--;){if(je===J||J!==null&&je===J.alternate)break t;je=Hi(je),J=Hi(J)}je=null}else je=null;we!==null&&Yx(le,ie,we,je,!1),_e!==null&&Mt!==null&&Yx(le,Mt,_e,je,!0)}}e:{if(ie=ne?Ki(ne):window,we=ie.nodeName&&ie.nodeName.toLowerCase(),we==="select"||we==="input"&&ie.type==="file")var ke=T2;else if(Tx(ie))if(Rx)ke=P2;else{ke=R2;var De=E2}else(we=ie.nodeName)&&we.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=M2);if(ke&&(ke=ke(o,ne))){Ex(le,ke,h,oe);break e}De&&De(o,ie,ne),o==="focusout"&&(De=ie._wrapperState)&&De.controlled&&ie.type==="number"&&$e(ie,"number",ie.value)}switch(De=ne?Ki(ne):window,o){case"focusin":(Tx(De)||De.contentEditable==="true")&&(Wi=De,uh=ne,ya=null);break;case"focusout":ya=uh=Wi=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Lx(le,h,oe);break;case"selectionchange":if(D2)break;case"keydown":case"keyup":Lx(le,h,oe)}var Ve;if(oh)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else $i?kx(o,h)&&(Le="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(_x&&h.locale!=="ko"&&($i||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&$i&&(Ve=yx()):(xr=oe,eh="value"in xr?xr.value:xr.textContent,$i=!0)),De=Zl(ne,Le),0<De.length&&(Le=new Cx(Le,o,null,h,oe),le.push({event:Le,listeners:De}),Ve?Le.data=Ve:(Ve=Ax(h),Ve!==null&&(Le.data=Ve)))),(Ve=_2?N2(o,h):j2(o,h))&&(ne=Zl(ne,"onBeforeInput"),0<ne.length&&(oe=new Cx("onBeforeInput","beforeinput",null,h,oe),le.push({event:oe,listeners:ne}),oe.data=Ve))}Qx(le,a)})}function Ca(o,a,h){return{instance:o,listener:a,currentTarget:h}}function Zl(o,a){for(var h=a+"Capture",g=[];o!==null;){var y=o,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=sa(o,h),_!=null&&g.unshift(Ca(o,_,y)),_=sa(o,a),_!=null&&g.push(Ca(o,_,y))),o=o.return}return g}function Hi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Yx(o,a,h,g,y){for(var _=a._reactName,P=[];h!==null&&h!==g;){var G=h,U=G.alternate,ne=G.stateNode;if(U!==null&&U===g)break;G.tag===5&&ne!==null&&(G=ne,y?(U=sa(h,_),U!=null&&P.unshift(Ca(h,U,G))):y||(U=sa(h,_),U!=null&&P.push(Ca(h,U,G)))),h=h.return}P.length!==0&&o.push({event:a,listeners:P})}var z2=/\r\n?/g,B2=/\u0000|\uFFFD/g;function Xx(o){return(typeof o=="string"?o:""+o).replace(z2,`
`).replace(B2,"")}function Jl(o,a,h){if(a=Xx(a),Xx(o)!==a&&h)throw Error(t(425))}function ec(){}var xh=null,vh=null;function yh(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,Zx=typeof Promise=="function"?Promise:void 0,G2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zx<"u"?function(o){return Zx.resolve(null).then(o).catch($2)}:wh;function $2(o){setTimeout(function(){throw o})}function bh(o,a){var h=a,g=0;do{var y=h.nextSibling;if(o.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(g===0){o.removeChild(y),ha(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=y}while(h);ha(a)}function yr(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Jx(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),ws="__reactFiber$"+Qi,Sa="__reactProps$"+Qi,zs="__reactContainer$"+Qi,Ch="__reactEvents$"+Qi,W2="__reactListeners$"+Qi,U2="__reactHandles$"+Qi;function ii(o){var a=o[ws];if(a)return a;for(var h=o.parentNode;h;){if(a=h[zs]||h[ws]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=Jx(o);o!==null;){if(h=o[ws])return h;o=Jx(o)}return a}o=h,h=o.parentNode}return null}function _a(o){return o=o[ws]||o[zs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ki(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function tc(o){return o[Sa]||null}var Sh=[],Yi=-1;function wr(o){return{current:o}}function dt(o){0>Yi||(o.current=Sh[Yi],Sh[Yi]=null,Yi--)}function at(o,a){Yi++,Sh[Yi]=o.current,o.current=a}var br={},nn=wr(br),bn=wr(!1),oi=br;function Xi(o,a){var h=o.type.contextTypes;if(!h)return br;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in h)y[_]=a[_];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Cn(o){return o=o.childContextTypes,o!=null}function nc(){dt(bn),dt(nn)}function ev(o,a,h){if(nn.current!==br)throw Error(t(168));at(nn,a),at(bn,h)}function tv(o,a,h){var g=o.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var y in g)if(!(y in a))throw Error(t(108,L(o)||"Unknown",y));return W({},h,g)}function sc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||br,oi=nn.current,at(nn,o),at(bn,bn.current),!0}function nv(o,a,h){var g=o.stateNode;if(!g)throw Error(t(169));h?(o=tv(o,a,oi),g.__reactInternalMemoizedMergedChildContext=o,dt(bn),dt(nn),at(nn,o)):dt(bn),at(bn,h)}var Bs=null,rc=!1,_h=!1;function sv(o){Bs===null?Bs=[o]:Bs.push(o)}function H2(o){rc=!0,sv(o)}function Cr(){if(!_h&&Bs!==null){_h=!0;var o=0,a=nt;try{var h=Bs;for(nt=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}Bs=null,rc=!1}catch(y){throw Bs!==null&&(Bs=Bs.slice(o+1)),ix(Ud,Cr),y}finally{nt=a,_h=!1}}return null}var Zi=[],Ji=0,ic=null,oc=0,Bn=[],qn=0,ai=null,qs=1,Gs="";function li(o,a){Zi[Ji++]=oc,Zi[Ji++]=ic,ic=o,oc=a}function rv(o,a,h){Bn[qn++]=qs,Bn[qn++]=Gs,Bn[qn++]=ai,ai=o;var g=qs;o=Gs;var y=32-Zn(g)-1;g&=~(1<<y),h+=1;var _=32-Zn(a)+y;if(30<_){var P=y-y%5;_=(g&(1<<P)-1).toString(32),g>>=P,y-=P,qs=1<<32-Zn(a)+y|h<<y|g,Gs=_+o}else qs=1<<_|h<<y|g,Gs=o}function Nh(o){o.return!==null&&(li(o,1),rv(o,1,0))}function jh(o){for(;o===ic;)ic=Zi[--Ji],Zi[Ji]=null,oc=Zi[--Ji],Zi[Ji]=null;for(;o===ai;)ai=Bn[--qn],Bn[qn]=null,Gs=Bn[--qn],Bn[qn]=null,qs=Bn[--qn],Bn[qn]=null}var Rn=null,Mn=null,vt=!1,es=null;function iv(o,a){var h=Un(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function ov(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Rn=o,Mn=yr(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Rn=o,Mn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=ai!==null?{id:qs,overflow:Gs}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Un(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,Rn=o,Mn=null,!0):!1;default:return!1}}function kh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ah(o){if(vt){var a=Mn;if(a){var h=a;if(!ov(o,a)){if(kh(o))throw Error(t(418));a=yr(h.nextSibling);var g=Rn;a&&ov(o,a)?iv(g,h):(o.flags=o.flags&-4097|2,vt=!1,Rn=o)}}else{if(kh(o))throw Error(t(418));o.flags=o.flags&-4097|2,vt=!1,Rn=o}}}function av(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rn=o}function ac(o){if(o!==Rn)return!1;if(!vt)return av(o),vt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!yh(o.type,o.memoizedProps)),a&&(a=Mn)){if(kh(o))throw lv(),Error(t(418));for(;a;)iv(o,a),a=yr(a.nextSibling)}if(av(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){Mn=yr(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}Mn=null}}else Mn=Rn?yr(o.stateNode.nextSibling):null;return!0}function lv(){for(var o=Mn;o;)o=yr(o.nextSibling)}function eo(){Mn=Rn=null,vt=!1}function Th(o){es===null?es=[o]:es.push(o)}var Q2=M.ReactCurrentBatchConfig;function Na(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,o));var y=g,_=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(P){var G=y.refs;P===null?delete G[_]:G[_]=P},a._stringRef=_,a)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function lc(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function cv(o){var a=o._init;return a(o._payload)}function uv(o){function a(J,K){if(o){var te=J.deletions;te===null?(J.deletions=[K],J.flags|=16):te.push(K)}}function h(J,K){if(!o)return null;for(;K!==null;)a(J,K),K=K.sibling;return null}function g(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function y(J,K){return J=Er(J,K),J.index=0,J.sibling=null,J}function _(J,K,te){return J.index=te,o?(te=J.alternate,te!==null?(te=te.index,te<K?(J.flags|=2,K):te):(J.flags|=2,K)):(J.flags|=1048576,K)}function P(J){return o&&J.alternate===null&&(J.flags|=2),J}function G(J,K,te,fe){return K===null||K.tag!==6?(K=bf(te,J.mode,fe),K.return=J,K):(K=y(K,te),K.return=J,K)}function U(J,K,te,fe){var ke=te.type;return ke===j?oe(J,K,te.props.children,fe,te.key):K!==null&&(K.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===X&&cv(ke)===K.type)?(fe=y(K,te.props),fe.ref=Na(J,K,te),fe.return=J,fe):(fe=Mc(te.type,te.key,te.props,null,J.mode,fe),fe.ref=Na(J,K,te),fe.return=J,fe)}function ne(J,K,te,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=Cf(te,J.mode,fe),K.return=J,K):(K=y(K,te.children||[]),K.return=J,K)}function oe(J,K,te,fe,ke){return K===null||K.tag!==7?(K=gi(te,J.mode,fe,ke),K.return=J,K):(K=y(K,te),K.return=J,K)}function le(J,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return K=bf(""+K,J.mode,te),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case R:return te=Mc(K.type,K.key,K.props,null,J.mode,te),te.ref=Na(J,null,K),te.return=J,te;case I:return K=Cf(K,J.mode,te),K.return=J,K;case X:var fe=K._init;return le(J,fe(K._payload),te)}if(Qe(K)||q(K))return K=gi(K,J.mode,te,null),K.return=J,K;lc(J,K)}return null}function ie(J,K,te,fe){var ke=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return ke!==null?null:G(J,K,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return te.key===ke?U(J,K,te,fe):null;case I:return te.key===ke?ne(J,K,te,fe):null;case X:return ke=te._init,ie(J,K,ke(te._payload),fe)}if(Qe(te)||q(te))return ke!==null?null:oe(J,K,te,fe,null);lc(J,te)}return null}function we(J,K,te,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return J=J.get(te)||null,G(K,J,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case R:return J=J.get(fe.key===null?te:fe.key)||null,U(K,J,fe,ke);case I:return J=J.get(fe.key===null?te:fe.key)||null,ne(K,J,fe,ke);case X:var De=fe._init;return we(J,K,te,De(fe._payload),ke)}if(Qe(fe)||q(fe))return J=J.get(te)||null,oe(K,J,fe,ke,null);lc(K,fe)}return null}function _e(J,K,te,fe){for(var ke=null,De=null,Ve=K,Le=K=0,Xt=null;Ve!==null&&Le<te.length;Le++){Ve.index>Le?(Xt=Ve,Ve=null):Xt=Ve.sibling;var Je=ie(J,Ve,te[Le],fe);if(Je===null){Ve===null&&(Ve=Xt);break}o&&Ve&&Je.alternate===null&&a(J,Ve),K=_(Je,K,Le),De===null?ke=Je:De.sibling=Je,De=Je,Ve=Xt}if(Le===te.length)return h(J,Ve),vt&&li(J,Le),ke;if(Ve===null){for(;Le<te.length;Le++)Ve=le(J,te[Le],fe),Ve!==null&&(K=_(Ve,K,Le),De===null?ke=Ve:De.sibling=Ve,De=Ve);return vt&&li(J,Le),ke}for(Ve=g(J,Ve);Le<te.length;Le++)Xt=we(Ve,J,Le,te[Le],fe),Xt!==null&&(o&&Xt.alternate!==null&&Ve.delete(Xt.key===null?Le:Xt.key),K=_(Xt,K,Le),De===null?ke=Xt:De.sibling=Xt,De=Xt);return o&&Ve.forEach(function(Rr){return a(J,Rr)}),vt&&li(J,Le),ke}function je(J,K,te,fe){var ke=q(te);if(typeof ke!="function")throw Error(t(150));if(te=ke.call(te),te==null)throw Error(t(151));for(var De=ke=null,Ve=K,Le=K=0,Xt=null,Je=te.next();Ve!==null&&!Je.done;Le++,Je=te.next()){Ve.index>Le?(Xt=Ve,Ve=null):Xt=Ve.sibling;var Rr=ie(J,Ve,Je.value,fe);if(Rr===null){Ve===null&&(Ve=Xt);break}o&&Ve&&Rr.alternate===null&&a(J,Ve),K=_(Rr,K,Le),De===null?ke=Rr:De.sibling=Rr,De=Rr,Ve=Xt}if(Je.done)return h(J,Ve),vt&&li(J,Le),ke;if(Ve===null){for(;!Je.done;Le++,Je=te.next())Je=le(J,Je.value,fe),Je!==null&&(K=_(Je,K,Le),De===null?ke=Je:De.sibling=Je,De=Je);return vt&&li(J,Le),ke}for(Ve=g(J,Ve);!Je.done;Le++,Je=te.next())Je=we(Ve,J,Le,Je.value,fe),Je!==null&&(o&&Je.alternate!==null&&Ve.delete(Je.key===null?Le:Je.key),K=_(Je,K,Le),De===null?ke=Je:De.sibling=Je,De=Je);return o&&Ve.forEach(function(kk){return a(J,kk)}),vt&&li(J,Le),ke}function Mt(J,K,te,fe){if(typeof te=="object"&&te!==null&&te.type===j&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case R:e:{for(var ke=te.key,De=K;De!==null;){if(De.key===ke){if(ke=te.type,ke===j){if(De.tag===7){h(J,De.sibling),K=y(De,te.props.children),K.return=J,J=K;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===X&&cv(ke)===De.type){h(J,De.sibling),K=y(De,te.props),K.ref=Na(J,De,te),K.return=J,J=K;break e}h(J,De);break}else a(J,De);De=De.sibling}te.type===j?(K=gi(te.props.children,J.mode,fe,te.key),K.return=J,J=K):(fe=Mc(te.type,te.key,te.props,null,J.mode,fe),fe.ref=Na(J,K,te),fe.return=J,J=fe)}return P(J);case I:e:{for(De=te.key;K!==null;){if(K.key===De)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){h(J,K.sibling),K=y(K,te.children||[]),K.return=J,J=K;break e}else{h(J,K);break}else a(J,K);K=K.sibling}K=Cf(te,J.mode,fe),K.return=J,J=K}return P(J);case X:return De=te._init,Mt(J,K,De(te._payload),fe)}if(Qe(te))return _e(J,K,te,fe);if(q(te))return je(J,K,te,fe);lc(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,K!==null&&K.tag===6?(h(J,K.sibling),K=y(K,te),K.return=J,J=K):(h(J,K),K=bf(te,J.mode,fe),K.return=J,J=K),P(J)):h(J,K)}return Mt}var to=uv(!0),dv=uv(!1),cc=wr(null),uc=null,no=null,Eh=null;function Rh(){Eh=no=uc=null}function Mh(o){var a=cc.current;dt(cc),o._currentValue=a}function Ph(o,a,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),o===h)break;o=o.return}}function so(o,a){uc=o,Eh=no=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Sn=!0),o.firstContext=null)}function Gn(o){var a=o._currentValue;if(Eh!==o)if(o={context:o,memoizedValue:a,next:null},no===null){if(uc===null)throw Error(t(308));no=o,uc.dependencies={lanes:0,firstContext:o}}else no=no.next=o;return a}var ci=null;function Oh(o){ci===null?ci=[o]:ci.push(o)}function hv(o,a,h,g){var y=a.interleaved;return y===null?(h.next=h,Oh(a)):(h.next=y.next,y.next=h),a.interleaved=h,$s(o,g)}function $s(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Sr=!1;function Ih(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ws(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function _r(o,a,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Xe&2)!==0){var y=g.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),g.pending=a,$s(o,h)}return y=g.interleaved,y===null?(a.next=a,Oh(g)):(a.next=y.next,y.next=a),g.interleaved=a,$s(o,h)}function dc(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,Kd(o,h)}}function pv(o,a){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var y=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};_===null?y=_=P:_=_.next=P,h=h.next}while(h!==null);_===null?y=_=a:_=_.next=a}else y=_=a;h={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function hc(o,a,h,g){var y=o.updateQueue;Sr=!1;var _=y.firstBaseUpdate,P=y.lastBaseUpdate,G=y.shared.pending;if(G!==null){y.shared.pending=null;var U=G,ne=U.next;U.next=null,P===null?_=ne:P.next=ne,P=U;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,G=oe.lastBaseUpdate,G!==P&&(G===null?oe.firstBaseUpdate=ne:G.next=ne,oe.lastBaseUpdate=U))}if(_!==null){var le=y.baseState;P=0,oe=ne=U=null,G=_;do{var ie=G.lane,we=G.eventTime;if((g&ie)===ie){oe!==null&&(oe=oe.next={eventTime:we,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var _e=o,je=G;switch(ie=a,we=h,je.tag){case 1:if(_e=je.payload,typeof _e=="function"){le=_e.call(we,le,ie);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=je.payload,ie=typeof _e=="function"?_e.call(we,le,ie):_e,ie==null)break e;le=W({},le,ie);break e;case 2:Sr=!0}}G.callback!==null&&G.lane!==0&&(o.flags|=64,ie=y.effects,ie===null?y.effects=[G]:ie.push(G))}else we={eventTime:we,lane:ie,tag:G.tag,payload:G.payload,callback:G.callback,next:null},oe===null?(ne=oe=we,U=le):oe=oe.next=we,P|=ie;if(G=G.next,G===null){if(G=y.shared.pending,G===null)break;ie=G,G=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(oe===null&&(U=le),y.baseState=U,y.firstBaseUpdate=ne,y.lastBaseUpdate=oe,a=y.shared.interleaved,a!==null){y=a;do P|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);hi|=P,o.lanes=P,o.memoizedState=le}}function mv(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var g=o[a],y=g.callback;if(y!==null){if(g.callback=null,g=h,typeof y!="function")throw Error(t(191,y));y.call(g)}}}var ja={},bs=wr(ja),ka=wr(ja),Aa=wr(ja);function ui(o){if(o===ja)throw Error(t(174));return o}function Dh(o,a){switch(at(Aa,a),at(ka,o),at(bs,ja),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Vd(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Vd(a,o)}dt(bs),at(bs,a)}function ro(){dt(bs),dt(ka),dt(Aa)}function gv(o){ui(Aa.current);var a=ui(bs.current),h=Vd(a,o.type);a!==h&&(at(ka,o),at(bs,h))}function Vh(o){ka.current===o&&(dt(bs),dt(ka))}var Ct=wr(0);function fc(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fh=[];function Lh(){for(var o=0;o<Fh.length;o++)Fh[o]._workInProgressVersionPrimary=null;Fh.length=0}var pc=M.ReactCurrentDispatcher,zh=M.ReactCurrentBatchConfig,di=0,St=null,$t=null,Kt=null,mc=!1,Ta=!1,Ea=0,K2=0;function sn(){throw Error(t(321))}function Bh(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!Jn(o[h],a[h]))return!1;return!0}function qh(o,a,h,g,y,_){if(di=_,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,pc.current=o===null||o.memoizedState===null?J2:ek,o=h(g,y),Ta){_=0;do{if(Ta=!1,Ea=0,25<=_)throw Error(t(301));_+=1,Kt=$t=null,a.updateQueue=null,pc.current=tk,o=h(g,y)}while(Ta)}if(pc.current=vc,a=$t!==null&&$t.next!==null,di=0,Kt=$t=St=null,mc=!1,a)throw Error(t(300));return o}function Gh(){var o=Ea!==0;return Ea=0,o}function Cs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?St.memoizedState=Kt=o:Kt=Kt.next=o,Kt}function $n(){if($t===null){var o=St.alternate;o=o!==null?o.memoizedState:null}else o=$t.next;var a=Kt===null?St.memoizedState:Kt.next;if(a!==null)Kt=a,$t=o;else{if(o===null)throw Error(t(310));$t=o,o={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Kt===null?St.memoizedState=Kt=o:Kt=Kt.next=o}return Kt}function Ra(o,a){return typeof a=="function"?a(o):a}function $h(o){var a=$n(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var g=$t,y=g.baseQueue,_=h.pending;if(_!==null){if(y!==null){var P=y.next;y.next=_.next,_.next=P}g.baseQueue=y=_,h.pending=null}if(y!==null){_=y.next,g=g.baseState;var G=P=null,U=null,ne=_;do{var oe=ne.lane;if((di&oe)===oe)U!==null&&(U=U.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:o(g,ne.action);else{var le={lane:oe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};U===null?(G=U=le,P=g):U=U.next=le,St.lanes|=oe,hi|=oe}ne=ne.next}while(ne!==null&&ne!==_);U===null?P=g:U.next=G,Jn(g,a.memoizedState)||(Sn=!0),a.memoizedState=g,a.baseState=P,a.baseQueue=U,h.lastRenderedState=g}if(o=h.interleaved,o!==null){y=o;do _=y.lane,St.lanes|=_,hi|=_,y=y.next;while(y!==o)}else y===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Wh(o){var a=$n(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var g=h.dispatch,y=h.pending,_=a.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do _=o(_,P.action),P=P.next;while(P!==y);Jn(_,a.memoizedState)||(Sn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),h.lastRenderedState=_}return[_,g]}function xv(){}function vv(o,a){var h=St,g=$n(),y=a(),_=!Jn(g.memoizedState,y);if(_&&(g.memoizedState=y,Sn=!0),g=g.queue,Uh(bv.bind(null,h,g,o),[o]),g.getSnapshot!==a||_||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,Ma(9,wv.bind(null,h,g,y,a),void 0,null),Yt===null)throw Error(t(349));(di&30)!==0||yv(h,a,y)}return y}function yv(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function wv(o,a,h,g){a.value=h,a.getSnapshot=g,Cv(a)&&Sv(o)}function bv(o,a,h){return h(function(){Cv(a)&&Sv(o)})}function Cv(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!Jn(o,h)}catch{return!0}}function Sv(o){var a=$s(o,1);a!==null&&rs(a,o,1,-1)}function _v(o){var a=Cs();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:o},a.queue=o,o=o.dispatch=Z2.bind(null,St,o),[a.memoizedState,o]}function Ma(o,a,h,g){return o={tag:o,create:a,destroy:h,deps:g,next:null},a=St.updateQueue,a===null?(a={lastEffect:null,stores:null},St.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,a.lastEffect=o)),o}function Nv(){return $n().memoizedState}function gc(o,a,h,g){var y=Cs();St.flags|=o,y.memoizedState=Ma(1|a,h,void 0,g===void 0?null:g)}function xc(o,a,h,g){var y=$n();g=g===void 0?null:g;var _=void 0;if($t!==null){var P=$t.memoizedState;if(_=P.destroy,g!==null&&Bh(g,P.deps)){y.memoizedState=Ma(a,h,_,g);return}}St.flags|=o,y.memoizedState=Ma(1|a,h,_,g)}function jv(o,a){return gc(8390656,8,o,a)}function Uh(o,a){return xc(2048,8,o,a)}function kv(o,a){return xc(4,2,o,a)}function Av(o,a){return xc(4,4,o,a)}function Tv(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Ev(o,a,h){return h=h!=null?h.concat([o]):null,xc(4,4,Tv.bind(null,a,o),h)}function Hh(){}function Rv(o,a){var h=$n();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Bh(a,g[1])?g[0]:(h.memoizedState=[o,a],o)}function Mv(o,a){var h=$n();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Bh(a,g[1])?g[0]:(o=o(),h.memoizedState=[o,a],o)}function Pv(o,a,h){return(di&21)===0?(o.baseState&&(o.baseState=!1,Sn=!0),o.memoizedState=h):(Jn(h,a)||(h=cx(),St.lanes|=h,hi|=h,o.baseState=!0),a)}function Y2(o,a){var h=nt;nt=h!==0&&4>h?h:4,o(!0);var g=zh.transition;zh.transition={};try{o(!1),a()}finally{nt=h,zh.transition=g}}function Ov(){return $n().memoizedState}function X2(o,a,h){var g=Ar(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Iv(o))Dv(a,h);else if(h=hv(o,a,h,g),h!==null){var y=hn();rs(h,o,g,y),Vv(h,a,g)}}function Z2(o,a,h){var g=Ar(o),y={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Iv(o))Dv(a,y);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var P=a.lastRenderedState,G=_(P,h);if(y.hasEagerState=!0,y.eagerState=G,Jn(G,P)){var U=a.interleaved;U===null?(y.next=y,Oh(a)):(y.next=U.next,U.next=y),a.interleaved=y;return}}catch{}finally{}h=hv(o,a,y,g),h!==null&&(y=hn(),rs(h,o,g,y),Vv(h,a,g))}}function Iv(o){var a=o.alternate;return o===St||a!==null&&a===St}function Dv(o,a){Ta=mc=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function Vv(o,a,h){if((h&4194240)!==0){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,Kd(o,h)}}var vc={readContext:Gn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},J2={readContext:Gn,useCallback:function(o,a){return Cs().memoizedState=[o,a===void 0?null:a],o},useContext:Gn,useEffect:jv,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,gc(4194308,4,Tv.bind(null,a,o),h)},useLayoutEffect:function(o,a){return gc(4194308,4,o,a)},useInsertionEffect:function(o,a){return gc(4,2,o,a)},useMemo:function(o,a){var h=Cs();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var g=Cs();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},g.queue=o,o=o.dispatch=X2.bind(null,St,o),[g.memoizedState,o]},useRef:function(o){var a=Cs();return o={current:o},a.memoizedState=o},useState:_v,useDebugValue:Hh,useDeferredValue:function(o){return Cs().memoizedState=o},useTransition:function(){var o=_v(!1),a=o[0];return o=Y2.bind(null,o[1]),Cs().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var g=St,y=Cs();if(vt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),Yt===null)throw Error(t(349));(di&30)!==0||yv(g,a,h)}y.memoizedState=h;var _={value:h,getSnapshot:a};return y.queue=_,jv(bv.bind(null,g,_,o),[o]),g.flags|=2048,Ma(9,wv.bind(null,g,_,h,a),void 0,null),h},useId:function(){var o=Cs(),a=Yt.identifierPrefix;if(vt){var h=Gs,g=qs;h=(g&~(1<<32-Zn(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=Ea++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=K2++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},ek={readContext:Gn,useCallback:Rv,useContext:Gn,useEffect:Uh,useImperativeHandle:Ev,useInsertionEffect:kv,useLayoutEffect:Av,useMemo:Mv,useReducer:$h,useRef:Nv,useState:function(){return $h(Ra)},useDebugValue:Hh,useDeferredValue:function(o){var a=$n();return Pv(a,$t.memoizedState,o)},useTransition:function(){var o=$h(Ra)[0],a=$n().memoizedState;return[o,a]},useMutableSource:xv,useSyncExternalStore:vv,useId:Ov,unstable_isNewReconciler:!1},tk={readContext:Gn,useCallback:Rv,useContext:Gn,useEffect:Uh,useImperativeHandle:Ev,useInsertionEffect:kv,useLayoutEffect:Av,useMemo:Mv,useReducer:Wh,useRef:Nv,useState:function(){return Wh(Ra)},useDebugValue:Hh,useDeferredValue:function(o){var a=$n();return $t===null?a.memoizedState=o:Pv(a,$t.memoizedState,o)},useTransition:function(){var o=Wh(Ra)[0],a=$n().memoizedState;return[o,a]},useMutableSource:xv,useSyncExternalStore:vv,useId:Ov,unstable_isNewReconciler:!1};function ts(o,a){if(o&&o.defaultProps){a=W({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function Qh(o,a,h,g){a=o.memoizedState,h=h(g,a),h=h==null?a:W({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var yc={isMounted:function(o){return(o=o._reactInternals)?ri(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var g=hn(),y=Ar(o),_=Ws(g,y);_.payload=a,h!=null&&(_.callback=h),a=_r(o,_,y),a!==null&&(rs(a,o,y,g),dc(a,o,y))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var g=hn(),y=Ar(o),_=Ws(g,y);_.tag=1,_.payload=a,h!=null&&(_.callback=h),a=_r(o,_,y),a!==null&&(rs(a,o,y,g),dc(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=hn(),g=Ar(o),y=Ws(h,g);y.tag=2,a!=null&&(y.callback=a),a=_r(o,y,g),a!==null&&(rs(a,o,g,h),dc(a,o,g))}};function Fv(o,a,h,g,y,_,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,_,P):a.prototype&&a.prototype.isPureReactComponent?!va(h,g)||!va(y,_):!0}function Lv(o,a,h){var g=!1,y=br,_=a.contextType;return typeof _=="object"&&_!==null?_=Gn(_):(y=Cn(a)?oi:nn.current,g=a.contextTypes,_=(g=g!=null)?Xi(o,y):br),a=new a(h,_),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=yc,o.stateNode=a,a._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=_),a}function zv(o,a,h,g){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==o&&yc.enqueueReplaceState(a,a.state,null)}function Kh(o,a,h,g){var y=o.stateNode;y.props=h,y.state=o.memoizedState,y.refs={},Ih(o);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Gn(_):(_=Cn(a)?oi:nn.current,y.context=Xi(o,_)),y.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qh(o,a,_,h),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&yc.enqueueReplaceState(y,y.state,null),hc(o,h,y,g),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function io(o,a){try{var h="",g=a;do h+=ae(g),g=g.return;while(g);var y=h}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:a,stack:y,digest:null}}function Yh(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function Xh(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var nk=typeof WeakMap=="function"?WeakMap:Map;function Bv(o,a,h){h=Ws(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){jc||(jc=!0,ff=g),Xh(o,a)},h}function qv(o,a,h){h=Ws(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=a.value;h.payload=function(){return g(y)},h.callback=function(){Xh(o,a)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(h.callback=function(){Xh(o,a),typeof g!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),h}function Gv(o,a,h){var g=o.pingCache;if(g===null){g=o.pingCache=new nk;var y=new Set;g.set(a,y)}else y=g.get(a),y===void 0&&(y=new Set,g.set(a,y));y.has(h)||(y.add(h),o=gk.bind(null,o,a,h),a.then(o,o))}function $v(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Wv(o,a,h,g,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=Ws(-1,1),a.tag=2,_r(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var sk=M.ReactCurrentOwner,Sn=!1;function dn(o,a,h,g){a.child=o===null?dv(a,null,h,g):to(a,o.child,h,g)}function Uv(o,a,h,g,y){h=h.render;var _=a.ref;return so(a,y),g=qh(o,a,h,g,_,y),h=Gh(),o!==null&&!Sn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,Us(o,a,y)):(vt&&h&&Nh(a),a.flags|=1,dn(o,a,g,y),a.child)}function Hv(o,a,h,g,y){if(o===null){var _=h.type;return typeof _=="function"&&!wf(_)&&_.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=_,Qv(o,a,_,g,y)):(o=Mc(h.type,null,g,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(_=o.child,(o.lanes&y)===0){var P=_.memoizedProps;if(h=h.compare,h=h!==null?h:va,h(P,g)&&o.ref===a.ref)return Us(o,a,y)}return a.flags|=1,o=Er(_,g),o.ref=a.ref,o.return=a,a.child=o}function Qv(o,a,h,g,y){if(o!==null){var _=o.memoizedProps;if(va(_,g)&&o.ref===a.ref)if(Sn=!1,a.pendingProps=g=_,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Sn=!0);else return a.lanes=o.lanes,Us(o,a,y)}return Zh(o,a,h,g,y)}function Kv(o,a,h){var g=a.pendingProps,y=g.children,_=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ao,Pn),Pn|=h;else{if((h&1073741824)===0)return o=_!==null?_.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,at(ao,Pn),Pn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:h,at(ao,Pn),Pn|=g}else _!==null?(g=_.baseLanes|h,a.memoizedState=null):g=h,at(ao,Pn),Pn|=g;return dn(o,a,y,h),a.child}function Yv(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function Zh(o,a,h,g,y){var _=Cn(h)?oi:nn.current;return _=Xi(a,_),so(a,y),h=qh(o,a,h,g,_,y),g=Gh(),o!==null&&!Sn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,Us(o,a,y)):(vt&&g&&Nh(a),a.flags|=1,dn(o,a,h,y),a.child)}function Xv(o,a,h,g,y){if(Cn(h)){var _=!0;sc(a)}else _=!1;if(so(a,y),a.stateNode===null)bc(o,a),Lv(a,h,g),Kh(a,h,g,y),g=!0;else if(o===null){var P=a.stateNode,G=a.memoizedProps;P.props=G;var U=P.context,ne=h.contextType;typeof ne=="object"&&ne!==null?ne=Gn(ne):(ne=Cn(h)?oi:nn.current,ne=Xi(a,ne));var oe=h.getDerivedStateFromProps,le=typeof oe=="function"||typeof P.getSnapshotBeforeUpdate=="function";le||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(G!==g||U!==ne)&&zv(a,P,g,ne),Sr=!1;var ie=a.memoizedState;P.state=ie,hc(a,g,P,y),U=a.memoizedState,G!==g||ie!==U||bn.current||Sr?(typeof oe=="function"&&(Qh(a,h,oe,g),U=a.memoizedState),(G=Sr||Fv(a,h,G,g,ie,U,ne))?(le||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=U),P.props=g,P.state=U,P.context=ne,g=G):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{P=a.stateNode,fv(o,a),G=a.memoizedProps,ne=a.type===a.elementType?G:ts(a.type,G),P.props=ne,le=a.pendingProps,ie=P.context,U=h.contextType,typeof U=="object"&&U!==null?U=Gn(U):(U=Cn(h)?oi:nn.current,U=Xi(a,U));var we=h.getDerivedStateFromProps;(oe=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(G!==le||ie!==U)&&zv(a,P,g,U),Sr=!1,ie=a.memoizedState,P.state=ie,hc(a,g,P,y);var _e=a.memoizedState;G!==le||ie!==_e||bn.current||Sr?(typeof we=="function"&&(Qh(a,h,we,g),_e=a.memoizedState),(ne=Sr||Fv(a,h,ne,g,ie,_e,U)||!1)?(oe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,_e,U),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,_e,U)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||G===o.memoizedProps&&ie===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&ie===o.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=_e),P.props=g,P.state=_e,P.context=U,g=ne):(typeof P.componentDidUpdate!="function"||G===o.memoizedProps&&ie===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&ie===o.memoizedState||(a.flags|=1024),g=!1)}return Jh(o,a,h,g,_,y)}function Jh(o,a,h,g,y,_){Yv(o,a);var P=(a.flags&128)!==0;if(!g&&!P)return y&&nv(a,h,!1),Us(o,a,_);g=a.stateNode,sk.current=a;var G=P&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,o!==null&&P?(a.child=to(a,o.child,null,_),a.child=to(a,null,G,_)):dn(o,a,G,_),a.memoizedState=g.state,y&&nv(a,h,!0),a.child}function Zv(o){var a=o.stateNode;a.pendingContext?ev(o,a.pendingContext,a.pendingContext!==a.context):a.context&&ev(o,a.context,!1),Dh(o,a.containerInfo)}function Jv(o,a,h,g,y){return eo(),Th(y),a.flags|=256,dn(o,a,h,g),a.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(o){return{baseLanes:o,cachePool:null,transitions:null}}function ey(o,a,h){var g=a.pendingProps,y=Ct.current,_=!1,P=(a.flags&128)!==0,G;if((G=P)||(G=o!==null&&o.memoizedState===null?!1:(y&2)!==0),G?(_=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),at(Ct,y&1),o===null)return Ah(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=g.children,o=g.fallback,_?(g=a.mode,_=a.child,P={mode:"hidden",children:P},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=P):_=Pc(P,g,0,null),o=gi(o,g,h,null),_.return=a,o.return=a,_.sibling=o,a.child=_,a.child.memoizedState=tf(h),a.memoizedState=ef,o):nf(a,P));if(y=o.memoizedState,y!==null&&(G=y.dehydrated,G!==null))return rk(o,a,P,g,G,y,h);if(_){_=g.fallback,P=a.mode,y=o.child,G=y.sibling;var U={mode:"hidden",children:g.children};return(P&1)===0&&a.child!==y?(g=a.child,g.childLanes=0,g.pendingProps=U,a.deletions=null):(g=Er(y,U),g.subtreeFlags=y.subtreeFlags&14680064),G!==null?_=Er(G,_):(_=gi(_,P,h,null),_.flags|=2),_.return=a,g.return=a,g.sibling=_,a.child=g,g=_,_=a.child,P=o.child.memoizedState,P=P===null?tf(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},_.memoizedState=P,_.childLanes=o.childLanes&~h,a.memoizedState=ef,g}return _=o.child,o=_.sibling,g=Er(_,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=g,a.memoizedState=null,g}function nf(o,a){return a=Pc({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function wc(o,a,h,g){return g!==null&&Th(g),to(a,o.child,null,h),o=nf(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function rk(o,a,h,g,y,_,P){if(h)return a.flags&256?(a.flags&=-257,g=Yh(Error(t(422))),wc(o,a,P,g)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(_=g.fallback,y=a.mode,g=Pc({mode:"visible",children:g.children},y,0,null),_=gi(_,y,P,null),_.flags|=2,g.return=a,_.return=a,g.sibling=_,a.child=g,(a.mode&1)!==0&&to(a,o.child,null,P),a.child.memoizedState=tf(P),a.memoizedState=ef,_);if((a.mode&1)===0)return wc(o,a,P,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var G=g.dgst;return g=G,_=Error(t(419)),g=Yh(_,g,void 0),wc(o,a,P,g)}if(G=(P&o.childLanes)!==0,Sn||G){if(g=Yt,g!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|P))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,$s(o,y),rs(g,o,y,-1))}return yf(),g=Yh(Error(t(421))),wc(o,a,P,g)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=xk.bind(null,o),y._reactRetry=a,null):(o=_.treeContext,Mn=yr(y.nextSibling),Rn=a,vt=!0,es=null,o!==null&&(Bn[qn++]=qs,Bn[qn++]=Gs,Bn[qn++]=ai,qs=o.id,Gs=o.overflow,ai=a),a=nf(a,g.children),a.flags|=4096,a)}function ty(o,a,h){o.lanes|=a;var g=o.alternate;g!==null&&(g.lanes|=a),Ph(o.return,a,h)}function sf(o,a,h,g,y){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=h,_.tailMode=y)}function ny(o,a,h){var g=a.pendingProps,y=g.revealOrder,_=g.tail;if(dn(o,a,g.children,h),g=Ct.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ty(o,h,a);else if(o.tag===19)ty(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(at(Ct,g),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(h=a.child,y=null;h!==null;)o=h.alternate,o!==null&&fc(o)===null&&(y=h),h=h.sibling;h=y,h===null?(y=a.child,a.child=null):(y=h.sibling,h.sibling=null),sf(a,!1,y,h,_);break;case"backwards":for(h=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&fc(o)===null){a.child=y;break}o=y.sibling,y.sibling=h,h=y,y=o}sf(a,!0,h,null,_);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bc(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Us(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),hi|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,h=Er(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=Er(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function ik(o,a,h){switch(a.tag){case 3:Zv(a),eo();break;case 5:gv(a);break;case 1:Cn(a.type)&&sc(a);break;case 4:Dh(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,y=a.memoizedProps.value;at(cc,g._currentValue),g._currentValue=y;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(at(Ct,Ct.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?ey(o,a,h):(at(Ct,Ct.current&1),o=Us(o,a,h),o!==null?o.sibling:null);at(Ct,Ct.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(o.flags&128)!==0){if(g)return ny(o,a,h);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),at(Ct,Ct.current),g)break;return null;case 22:case 23:return a.lanes=0,Kv(o,a,h)}return Us(o,a,h)}var sy,rf,ry,iy;sy=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},rf=function(){},ry=function(o,a,h,g){var y=o.memoizedProps;if(y!==g){o=a.stateNode,ui(bs.current);var _=null;switch(h){case"input":y=Re(o,y),g=Re(o,g),_=[];break;case"select":y=W({},y,{value:void 0}),g=W({},g,{value:void 0}),_=[];break;case"textarea":y=et(o,y),g=et(o,g),_=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=ec)}Fd(h,g);var P;h=null;for(ne in y)if(!g.hasOwnProperty(ne)&&y.hasOwnProperty(ne)&&y[ne]!=null)if(ne==="style"){var G=y[ne];for(P in G)G.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(r.hasOwnProperty(ne)?_||(_=[]):(_=_||[]).push(ne,null));for(ne in g){var U=g[ne];if(G=y?.[ne],g.hasOwnProperty(ne)&&U!==G&&(U!=null||G!=null))if(ne==="style")if(G){for(P in G)!G.hasOwnProperty(P)||U&&U.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in U)U.hasOwnProperty(P)&&G[P]!==U[P]&&(h||(h={}),h[P]=U[P])}else h||(_||(_=[]),_.push(ne,h)),h=U;else ne==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,G=G?G.__html:void 0,U!=null&&G!==U&&(_=_||[]).push(ne,U)):ne==="children"?typeof U!="string"&&typeof U!="number"||(_=_||[]).push(ne,""+U):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(r.hasOwnProperty(ne)?(U!=null&&ne==="onScroll"&&ut("scroll",o),_||G===U||(_=[])):(_=_||[]).push(ne,U))}h&&(_=_||[]).push("style",h);var ne=_;(a.updateQueue=ne)&&(a.flags|=4)}},iy=function(o,a,h,g){h!==g&&(a.flags|=4)};function Pa(o,a){if(!vt)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function rn(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(a)for(var y=o.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=g,o.childLanes=h,a}function ok(o,a,h){var g=a.pendingProps;switch(jh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return Cn(a.type)&&nc(),rn(a),null;case 3:return g=a.stateNode,ro(),dt(bn),dt(nn),Lh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(ac(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,es!==null&&(gf(es),es=null))),rf(o,a),rn(a),null;case 5:Vh(a);var y=ui(Aa.current);if(h=a.type,o!==null&&a.stateNode!=null)ry(o,a,h,g,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return rn(a),null}if(o=ui(bs.current),ac(a)){g=a.stateNode,h=a.type;var _=a.memoizedProps;switch(g[ws]=a,g[Sa]=_,o=(a.mode&1)!==0,h){case"dialog":ut("cancel",g),ut("close",g);break;case"iframe":case"object":case"embed":ut("load",g);break;case"video":case"audio":for(y=0;y<wa.length;y++)ut(wa[y],g);break;case"source":ut("error",g);break;case"img":case"image":case"link":ut("error",g),ut("load",g);break;case"details":ut("toggle",g);break;case"input":ce(g,_),ut("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},ut("invalid",g);break;case"textarea":wn(g,_),ut("invalid",g)}Fd(h,_),y=null;for(var P in _)if(_.hasOwnProperty(P)){var G=_[P];P==="children"?typeof G=="string"?g.textContent!==G&&(_.suppressHydrationWarning!==!0&&Jl(g.textContent,G,o),y=["children",G]):typeof G=="number"&&g.textContent!==""+G&&(_.suppressHydrationWarning!==!0&&Jl(g.textContent,G,o),y=["children",""+G]):r.hasOwnProperty(P)&&G!=null&&P==="onScroll"&&ut("scroll",g)}switch(h){case"input":xe(g),Ye(g,_,!0);break;case"textarea":xe(g),Li(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=ec)}g=y,a.updateQueue=g,g!==null&&(a.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Rl(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=P.createElement(h,{is:g.is}):(o=P.createElement(h),h==="select"&&(P=o,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):o=P.createElementNS(o,h),o[ws]=a,o[Sa]=g,sy(o,a,!1,!1),a.stateNode=o;e:{switch(P=Ld(h,g),h){case"dialog":ut("cancel",o),ut("close",o),y=g;break;case"iframe":case"object":case"embed":ut("load",o),y=g;break;case"video":case"audio":for(y=0;y<wa.length;y++)ut(wa[y],o);y=g;break;case"source":ut("error",o),y=g;break;case"img":case"image":case"link":ut("error",o),ut("load",o),y=g;break;case"details":ut("toggle",o),y=g;break;case"input":ce(o,g),y=Re(o,g),ut("invalid",o);break;case"option":y=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},y=W({},g,{value:void 0}),ut("invalid",o);break;case"textarea":wn(o,g),y=et(o,g),ut("invalid",o);break;default:y=g}Fd(h,y),G=y;for(_ in G)if(G.hasOwnProperty(_)){var U=G[_];_==="style"?Qg(o,U):_==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Ug(o,U)):_==="children"?typeof U=="string"?(h!=="textarea"||U!=="")&&ta(o,U):typeof U=="number"&&ta(o,""+U):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?U!=null&&_==="onScroll"&&ut("scroll",o):U!=null&&T(o,_,U,P))}switch(h){case"input":xe(o),Ye(o,g,!1);break;case"textarea":xe(o),Li(o);break;case"option":g.value!=null&&o.setAttribute("value",""+F(g.value));break;case"select":o.multiple=!!g.multiple,_=g.value,_!=null?be(o,!!g.multiple,_,!1):g.defaultValue!=null&&be(o,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=ec)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(o&&a.stateNode!=null)iy(o,a,o.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(h=ui(Aa.current),ui(bs.current),ac(a)){if(g=a.stateNode,h=a.memoizedProps,g[ws]=a,(_=g.nodeValue!==h)&&(o=Rn,o!==null))switch(o.tag){case 3:Jl(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jl(g.nodeValue,h,(o.mode&1)!==0)}_&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[ws]=a,a.stateNode=g}return rn(a),null;case 13:if(dt(Ct),g=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(vt&&Mn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)lv(),eo(),a.flags|=98560,_=!1;else if(_=ac(a),g!==null&&g.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[ws]=a}else eo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),_=!1}else es!==null&&(gf(es),es=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Ct.current&1)!==0?Wt===0&&(Wt=3):yf())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return ro(),rf(o,a),o===null&&ba(a.stateNode.containerInfo),rn(a),null;case 10:return Mh(a.type._context),rn(a),null;case 17:return Cn(a.type)&&nc(),rn(a),null;case 19:if(dt(Ct),_=a.memoizedState,_===null)return rn(a),null;if(g=(a.flags&128)!==0,P=_.rendering,P===null)if(g)Pa(_,!1);else{if(Wt!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(P=fc(o),P!==null){for(a.flags|=128,Pa(_,!1),g=P.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)_=h,o=g,_.flags&=14680066,P=_.alternate,P===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=P.childLanes,_.lanes=P.lanes,_.child=P.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=P.memoizedProps,_.memoizedState=P.memoizedState,_.updateQueue=P.updateQueue,_.type=P.type,o=P.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return at(Ct,Ct.current&1|2),a.child}o=o.sibling}_.tail!==null&&Rt()>lo&&(a.flags|=128,g=!0,Pa(_,!1),a.lanes=4194304)}else{if(!g)if(o=fc(P),o!==null){if(a.flags|=128,g=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Pa(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!vt)return rn(a),null}else 2*Rt()-_.renderingStartTime>lo&&h!==1073741824&&(a.flags|=128,g=!0,Pa(_,!1),a.lanes=4194304);_.isBackwards?(P.sibling=a.child,a.child=P):(h=_.last,h!==null?h.sibling=P:a.child=P,_.last=P)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Rt(),a.sibling=null,h=Ct.current,at(Ct,g?h&1|2:h&1),a):(rn(a),null);case 22:case 23:return vf(),g=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Pn&1073741824)!==0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function ak(o,a){switch(jh(a),a.tag){case 1:return Cn(a.type)&&nc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return ro(),dt(bn),dt(nn),Lh(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Vh(a),null;case 13:if(dt(Ct),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));eo()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return dt(Ct),null;case 4:return ro(),null;case 10:return Mh(a.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var Cc=!1,on=!1,lk=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function oo(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){jt(o,a,g)}else h.current=null}function of(o,a,h){try{h()}catch(g){jt(o,a,g)}}var oy=!1;function ck(o,a){if(xh=ql,o=Fx(),ch(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var y=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var P=0,G=-1,U=-1,ne=0,oe=0,le=o,ie=null;t:for(;;){for(var we;le!==h||y!==0&&le.nodeType!==3||(G=P+y),le!==_||g!==0&&le.nodeType!==3||(U=P+g),le.nodeType===3&&(P+=le.nodeValue.length),(we=le.firstChild)!==null;)ie=le,le=we;for(;;){if(le===o)break t;if(ie===h&&++ne===y&&(G=P),ie===_&&++oe===g&&(U=P),(we=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=we}h=G===-1||U===-1?null:{start:G,end:U}}else h=null}h=h||{start:0,end:0}}else h=null;for(vh={focusedElem:o,selectionRange:h},ql=!1,Ce=a;Ce!==null;)if(a=Ce,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ce=o;else for(;Ce!==null;){a=Ce;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var je=_e.memoizedProps,Mt=_e.memoizedState,J=a.stateNode,K=J.getSnapshotBeforeUpdate(a.elementType===a.type?je:ts(a.type,je),Mt);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var te=a.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){jt(a,a.return,fe)}if(o=a.sibling,o!==null){o.return=a.return,Ce=o;break}Ce=a.return}return _e=oy,oy=!1,_e}function Oa(o,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&o)===o){var _=y.destroy;y.destroy=void 0,_!==void 0&&of(a,h,_)}y=y.next}while(y!==g)}}function Sc(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function af(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function ay(o){var a=o.alternate;a!==null&&(o.alternate=null,ay(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[ws],delete a[Sa],delete a[Ch],delete a[W2],delete a[U2])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function ly(o){return o.tag===5||o.tag===3||o.tag===4}function cy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ly(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function lf(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=ec));else if(g!==4&&(o=o.child,o!==null))for(lf(o,a,h),o=o.sibling;o!==null;)lf(o,a,h),o=o.sibling}function cf(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(cf(o,a,h),o=o.sibling;o!==null;)cf(o,a,h),o=o.sibling}var Jt=null,ns=!1;function Nr(o,a,h){for(h=h.child;h!==null;)uy(o,a,h),h=h.sibling}function uy(o,a,h){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Dl,h)}catch{}switch(h.tag){case 5:on||oo(h,a);case 6:var g=Jt,y=ns;Jt=null,Nr(o,a,h),Jt=g,ns=y,Jt!==null&&(ns?(o=Jt,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Jt.removeChild(h.stateNode));break;case 18:Jt!==null&&(ns?(o=Jt,h=h.stateNode,o.nodeType===8?bh(o.parentNode,h):o.nodeType===1&&bh(o,h),ha(o)):bh(Jt,h.stateNode));break;case 4:g=Jt,y=ns,Jt=h.stateNode.containerInfo,ns=!0,Nr(o,a,h),Jt=g,ns=y;break;case 0:case 11:case 14:case 15:if(!on&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var _=y,P=_.destroy;_=_.tag,P!==void 0&&((_&2)!==0||(_&4)!==0)&&of(h,a,P),y=y.next}while(y!==g)}Nr(o,a,h);break;case 1:if(!on&&(oo(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(G){jt(h,a,G)}Nr(o,a,h);break;case 21:Nr(o,a,h);break;case 22:h.mode&1?(on=(g=on)||h.memoizedState!==null,Nr(o,a,h),on=g):Nr(o,a,h);break;default:Nr(o,a,h)}}function dy(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new lk),a.forEach(function(g){var y=vk.bind(null,o,g);h.has(g)||(h.add(g),g.then(y,y))})}}function ss(o,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var y=h[g];try{var _=o,P=a,G=P;e:for(;G!==null;){switch(G.tag){case 5:Jt=G.stateNode,ns=!1;break e;case 3:Jt=G.stateNode.containerInfo,ns=!0;break e;case 4:Jt=G.stateNode.containerInfo,ns=!0;break e}G=G.return}if(Jt===null)throw Error(t(160));uy(_,P,y),Jt=null,ns=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(ne){jt(y,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)hy(a,o),a=a.sibling}function hy(o,a){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ss(a,o),Ss(o),g&4){try{Oa(3,o,o.return),Sc(3,o)}catch(je){jt(o,o.return,je)}try{Oa(5,o,o.return)}catch(je){jt(o,o.return,je)}}break;case 1:ss(a,o),Ss(o),g&512&&h!==null&&oo(h,h.return);break;case 5:if(ss(a,o),Ss(o),g&512&&h!==null&&oo(h,h.return),o.flags&32){var y=o.stateNode;try{ta(y,"")}catch(je){jt(o,o.return,je)}}if(g&4&&(y=o.stateNode,y!=null)){var _=o.memoizedProps,P=h!==null?h.memoizedProps:_,G=o.type,U=o.updateQueue;if(o.updateQueue=null,U!==null)try{G==="input"&&_.type==="radio"&&_.name!=null&&Se(y,_),Ld(G,P);var ne=Ld(G,_);for(P=0;P<U.length;P+=2){var oe=U[P],le=U[P+1];oe==="style"?Qg(y,le):oe==="dangerouslySetInnerHTML"?Ug(y,le):oe==="children"?ta(y,le):T(y,oe,le,ne)}switch(G){case"input":Ke(y,_);break;case"textarea":hr(y,_);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var we=_.value;we!=null?be(y,!!_.multiple,we,!1):ie!==!!_.multiple&&(_.defaultValue!=null?be(y,!!_.multiple,_.defaultValue,!0):be(y,!!_.multiple,_.multiple?[]:"",!1))}y[Sa]=_}catch(je){jt(o,o.return,je)}}break;case 6:if(ss(a,o),Ss(o),g&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,_=o.memoizedProps;try{y.nodeValue=_}catch(je){jt(o,o.return,je)}}break;case 3:if(ss(a,o),Ss(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ha(a.containerInfo)}catch(je){jt(o,o.return,je)}break;case 4:ss(a,o),Ss(o);break;case 13:ss(a,o),Ss(o),y=o.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(hf=Rt())),g&4&&dy(o);break;case 22:if(oe=h!==null&&h.memoizedState!==null,o.mode&1?(on=(ne=on)||oe,ss(a,o),on=ne):ss(a,o),Ss(o),g&8192){if(ne=o.memoizedState!==null,(o.stateNode.isHidden=ne)&&!oe&&(o.mode&1)!==0)for(Ce=o,oe=o.child;oe!==null;){for(le=Ce=oe;Ce!==null;){switch(ie=Ce,we=ie.child,ie.tag){case 0:case 11:case 14:case 15:Oa(4,ie,ie.return);break;case 1:oo(ie,ie.return);var _e=ie.stateNode;if(typeof _e.componentWillUnmount=="function"){g=ie,h=ie.return;try{a=g,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(je){jt(g,h,je)}}break;case 5:oo(ie,ie.return);break;case 22:if(ie.memoizedState!==null){my(le);continue}}we!==null?(we.return=ie,Ce=we):my(le)}oe=oe.sibling}e:for(oe=null,le=o;;){if(le.tag===5){if(oe===null){oe=le;try{y=le.stateNode,ne?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(G=le.stateNode,U=le.memoizedProps.style,P=U!=null&&U.hasOwnProperty("display")?U.display:null,G.style.display=Hg("display",P))}catch(je){jt(o,o.return,je)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=ne?"":le.memoizedProps}catch(je){jt(o,o.return,je)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===o)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===o)break e;for(;le.sibling===null;){if(le.return===null||le.return===o)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ss(a,o),Ss(o),g&4&&dy(o);break;case 21:break;default:ss(a,o),Ss(o)}}function Ss(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(ly(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(ta(y,""),g.flags&=-33);var _=cy(o);cf(o,_,y);break;case 3:case 4:var P=g.stateNode.containerInfo,G=cy(o);lf(o,G,P);break;default:throw Error(t(161))}}catch(U){jt(o,o.return,U)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function uk(o,a,h){Ce=o,fy(o)}function fy(o,a,h){for(var g=(o.mode&1)!==0;Ce!==null;){var y=Ce,_=y.child;if(y.tag===22&&g){var P=y.memoizedState!==null||Cc;if(!P){var G=y.alternate,U=G!==null&&G.memoizedState!==null||on;G=Cc;var ne=on;if(Cc=P,(on=U)&&!ne)for(Ce=y;Ce!==null;)P=Ce,U=P.child,P.tag===22&&P.memoizedState!==null?gy(y):U!==null?(U.return=P,Ce=U):gy(y);for(;_!==null;)Ce=_,fy(_),_=_.sibling;Ce=y,Cc=G,on=ne}py(o)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,Ce=_):py(o)}}function py(o){for(;Ce!==null;){var a=Ce;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:on||Sc(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!on)if(h===null)g.componentDidMount();else{var y=a.elementType===a.type?h.memoizedProps:ts(a.type,h.memoizedProps);g.componentDidUpdate(y,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&mv(a,_,g);break;case 3:var P=a.updateQueue;if(P!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}mv(a,P,h)}break;case 5:var G=a.stateNode;if(h===null&&a.flags&4){h=G;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&h.focus();break;case"img":U.src&&(h.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var oe=ne.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&ha(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}on||a.flags&512&&af(a)}catch(ie){jt(a,a.return,ie)}}if(a===o){Ce=null;break}if(h=a.sibling,h!==null){h.return=a.return,Ce=h;break}Ce=a.return}}function my(o){for(;Ce!==null;){var a=Ce;if(a===o){Ce=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Ce=h;break}Ce=a.return}}function gy(o){for(;Ce!==null;){var a=Ce;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Sc(4,a)}catch(U){jt(a,h,U)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var y=a.return;try{g.componentDidMount()}catch(U){jt(a,y,U)}}var _=a.return;try{af(a)}catch(U){jt(a,_,U)}break;case 5:var P=a.return;try{af(a)}catch(U){jt(a,P,U)}}}catch(U){jt(a,a.return,U)}if(a===o){Ce=null;break}var G=a.sibling;if(G!==null){G.return=a.return,Ce=G;break}Ce=a.return}}var dk=Math.ceil,_c=M.ReactCurrentDispatcher,uf=M.ReactCurrentOwner,Wn=M.ReactCurrentBatchConfig,Xe=0,Yt=null,Vt=null,en=0,Pn=0,ao=wr(0),Wt=0,Ia=null,hi=0,Nc=0,df=0,Da=null,_n=null,hf=0,lo=1/0,Hs=null,jc=!1,ff=null,jr=null,kc=!1,kr=null,Ac=0,Va=0,pf=null,Tc=-1,Ec=0;function hn(){return(Xe&6)!==0?Rt():Tc!==-1?Tc:Tc=Rt()}function Ar(o){return(o.mode&1)===0?1:(Xe&2)!==0&&en!==0?en&-en:Q2.transition!==null?(Ec===0&&(Ec=cx()),Ec):(o=nt,o!==0||(o=window.event,o=o===void 0?16:vx(o.type)),o)}function rs(o,a,h,g){if(50<Va)throw Va=0,pf=null,Error(t(185));aa(o,h,g),((Xe&2)===0||o!==Yt)&&(o===Yt&&((Xe&2)===0&&(Nc|=h),Wt===4&&Tr(o,en)),Nn(o,g),h===1&&Xe===0&&(a.mode&1)===0&&(lo=Rt()+500,rc&&Cr()))}function Nn(o,a){var h=o.callbackNode;Qj(o,a);var g=Ll(o,o===Yt?en:0);if(g===0)h!==null&&ox(h),o.callbackNode=null,o.callbackPriority=0;else if(a=g&-g,o.callbackPriority!==a){if(h!=null&&ox(h),a===1)o.tag===0?H2(vy.bind(null,o)):sv(vy.bind(null,o)),G2(function(){(Xe&6)===0&&Cr()}),h=null;else{switch(ux(g)){case 1:h=Ud;break;case 4:h=ax;break;case 16:h=Il;break;case 536870912:h=lx;break;default:h=Il}h=jy(h,xy.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function xy(o,a){if(Tc=-1,Ec=0,(Xe&6)!==0)throw Error(t(327));var h=o.callbackNode;if(co()&&o.callbackNode!==h)return null;var g=Ll(o,o===Yt?en:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||a)a=Rc(o,g);else{a=g;var y=Xe;Xe|=2;var _=wy();(Yt!==o||en!==a)&&(Hs=null,lo=Rt()+500,pi(o,a));do try{pk();break}catch(G){yy(o,G)}while(!0);Rh(),_c.current=_,Xe=y,Vt!==null?a=0:(Yt=null,en=0,a=Wt)}if(a!==0){if(a===2&&(y=Hd(o),y!==0&&(g=y,a=mf(o,y))),a===1)throw h=Ia,pi(o,0),Tr(o,g),Nn(o,Rt()),h;if(a===6)Tr(o,g);else{if(y=o.current.alternate,(g&30)===0&&!hk(y)&&(a=Rc(o,g),a===2&&(_=Hd(o),_!==0&&(g=_,a=mf(o,_))),a===1))throw h=Ia,pi(o,0),Tr(o,g),Nn(o,Rt()),h;switch(o.finishedWork=y,o.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:mi(o,_n,Hs);break;case 3:if(Tr(o,g),(g&130023424)===g&&(a=hf+500-Rt(),10<a)){if(Ll(o,0)!==0)break;if(y=o.suspendedLanes,(y&g)!==g){hn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=wh(mi.bind(null,o,_n,Hs),a);break}mi(o,_n,Hs);break;case 4:if(Tr(o,g),(g&4194240)===g)break;for(a=o.eventTimes,y=-1;0<g;){var P=31-Zn(g);_=1<<P,P=a[P],P>y&&(y=P),g&=~_}if(g=y,g=Rt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*dk(g/1960))-g,10<g){o.timeoutHandle=wh(mi.bind(null,o,_n,Hs),g);break}mi(o,_n,Hs);break;case 5:mi(o,_n,Hs);break;default:throw Error(t(329))}}}return Nn(o,Rt()),o.callbackNode===h?xy.bind(null,o):null}function mf(o,a){var h=Da;return o.current.memoizedState.isDehydrated&&(pi(o,a).flags|=256),o=Rc(o,a),o!==2&&(a=_n,_n=h,a!==null&&gf(a)),o}function gf(o){_n===null?_n=o:_n.push.apply(_n,o)}function hk(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var y=h[g],_=y.getSnapshot;y=y.value;try{if(!Jn(_(),y))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Tr(o,a){for(a&=~df,a&=~Nc,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-Zn(a),g=1<<h;o[h]=-1,a&=~g}}function vy(o){if((Xe&6)!==0)throw Error(t(327));co();var a=Ll(o,0);if((a&1)===0)return Nn(o,Rt()),null;var h=Rc(o,a);if(o.tag!==0&&h===2){var g=Hd(o);g!==0&&(a=g,h=mf(o,g))}if(h===1)throw h=Ia,pi(o,0),Tr(o,a),Nn(o,Rt()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,mi(o,_n,Hs),Nn(o,Rt()),null}function xf(o,a){var h=Xe;Xe|=1;try{return o(a)}finally{Xe=h,Xe===0&&(lo=Rt()+500,rc&&Cr())}}function fi(o){kr!==null&&kr.tag===0&&(Xe&6)===0&&co();var a=Xe;Xe|=1;var h=Wn.transition,g=nt;try{if(Wn.transition=null,nt=1,o)return o()}finally{nt=g,Wn.transition=h,Xe=a,(Xe&6)===0&&Cr()}}function vf(){Pn=ao.current,dt(ao)}function pi(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,q2(h)),Vt!==null)for(h=Vt.return;h!==null;){var g=h;switch(jh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&nc();break;case 3:ro(),dt(bn),dt(nn),Lh();break;case 5:Vh(g);break;case 4:ro();break;case 13:dt(Ct);break;case 19:dt(Ct);break;case 10:Mh(g.type._context);break;case 22:case 23:vf()}h=h.return}if(Yt=o,Vt=o=Er(o.current,null),en=Pn=a,Wt=0,Ia=null,df=Nc=hi=0,_n=Da=null,ci!==null){for(a=0;a<ci.length;a++)if(h=ci[a],g=h.interleaved,g!==null){h.interleaved=null;var y=g.next,_=h.pending;if(_!==null){var P=_.next;_.next=y,g.next=P}h.pending=g}ci=null}return o}function yy(o,a){do{var h=Vt;try{if(Rh(),pc.current=vc,mc){for(var g=St.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}mc=!1}if(di=0,Kt=$t=St=null,Ta=!1,Ea=0,uf.current=null,h===null||h.return===null){Wt=1,Ia=a,Vt=null;break}e:{var _=o,P=h.return,G=h,U=a;if(a=en,G.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=U,oe=G,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var we=$v(P);if(we!==null){we.flags&=-257,Wv(we,P,G,_,a),we.mode&1&&Gv(_,ne,a),a=we,U=ne;var _e=a.updateQueue;if(_e===null){var je=new Set;je.add(U),a.updateQueue=je}else _e.add(U);break e}else{if((a&1)===0){Gv(_,ne,a),yf();break e}U=Error(t(426))}}else if(vt&&G.mode&1){var Mt=$v(P);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),Wv(Mt,P,G,_,a),Th(io(U,G));break e}}_=U=io(U,G),Wt!==4&&(Wt=2),Da===null?Da=[_]:Da.push(_),_=P;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var J=Bv(_,U,a);pv(_,J);break e;case 1:G=U;var K=_.type,te=_.stateNode;if((_.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(jr===null||!jr.has(te)))){_.flags|=65536,a&=-a,_.lanes|=a;var fe=qv(_,G,a);pv(_,fe);break e}}_=_.return}while(_!==null)}Cy(h)}catch(ke){a=ke,Vt===h&&h!==null&&(Vt=h=h.return);continue}break}while(!0)}function wy(){var o=_c.current;return _c.current=vc,o===null?vc:o}function yf(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Yt===null||(hi&268435455)===0&&(Nc&268435455)===0||Tr(Yt,en)}function Rc(o,a){var h=Xe;Xe|=2;var g=wy();(Yt!==o||en!==a)&&(Hs=null,pi(o,a));do try{fk();break}catch(y){yy(o,y)}while(!0);if(Rh(),Xe=h,_c.current=g,Vt!==null)throw Error(t(261));return Yt=null,en=0,Wt}function fk(){for(;Vt!==null;)by(Vt)}function pk(){for(;Vt!==null&&!Lj();)by(Vt)}function by(o){var a=Ny(o.alternate,o,Pn);o.memoizedProps=o.pendingProps,a===null?Cy(o):Vt=a,uf.current=null}function Cy(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=ok(h,a,Pn),h!==null){Vt=h;return}}else{if(h=ak(h,a),h!==null){h.flags&=32767,Vt=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Wt=6,Vt=null;return}}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=o}while(a!==null);Wt===0&&(Wt=5)}function mi(o,a,h){var g=nt,y=Wn.transition;try{Wn.transition=null,nt=1,mk(o,a,h,g)}finally{Wn.transition=y,nt=g}return null}function mk(o,a,h,g){do co();while(kr!==null);if((Xe&6)!==0)throw Error(t(327));h=o.finishedWork;var y=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=h.lanes|h.childLanes;if(Kj(o,_),o===Yt&&(Vt=Yt=null,en=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||kc||(kc=!0,jy(Il,function(){return co(),null})),_=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||_){_=Wn.transition,Wn.transition=null;var P=nt;nt=1;var G=Xe;Xe|=4,uf.current=null,ck(o,h),hy(h,o),I2(vh),ql=!!xh,vh=xh=null,o.current=h,uk(h),zj(),Xe=G,nt=P,Wn.transition=_}else o.current=h;if(kc&&(kc=!1,kr=o,Ac=y),_=o.pendingLanes,_===0&&(jr=null),Gj(h.stateNode),Nn(o,Rt()),a!==null)for(g=o.onRecoverableError,h=0;h<a.length;h++)y=a[h],g(y.value,{componentStack:y.stack,digest:y.digest});if(jc)throw jc=!1,o=ff,ff=null,o;return(Ac&1)!==0&&o.tag!==0&&co(),_=o.pendingLanes,(_&1)!==0?o===pf?Va++:(Va=0,pf=o):Va=0,Cr(),null}function co(){if(kr!==null){var o=ux(Ac),a=Wn.transition,h=nt;try{if(Wn.transition=null,nt=16>o?16:o,kr===null)var g=!1;else{if(o=kr,kr=null,Ac=0,(Xe&6)!==0)throw Error(t(331));var y=Xe;for(Xe|=4,Ce=o.current;Ce!==null;){var _=Ce,P=_.child;if((Ce.flags&16)!==0){var G=_.deletions;if(G!==null){for(var U=0;U<G.length;U++){var ne=G[U];for(Ce=ne;Ce!==null;){var oe=Ce;switch(oe.tag){case 0:case 11:case 15:Oa(8,oe,_)}var le=oe.child;if(le!==null)le.return=oe,Ce=le;else for(;Ce!==null;){oe=Ce;var ie=oe.sibling,we=oe.return;if(ay(oe),oe===ne){Ce=null;break}if(ie!==null){ie.return=we,Ce=ie;break}Ce=we}}}var _e=_.alternate;if(_e!==null){var je=_e.child;if(je!==null){_e.child=null;do{var Mt=je.sibling;je.sibling=null,je=Mt}while(je!==null)}}Ce=_}}if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,Ce=P;else e:for(;Ce!==null;){if(_=Ce,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Oa(9,_,_.return)}var J=_.sibling;if(J!==null){J.return=_.return,Ce=J;break e}Ce=_.return}}var K=o.current;for(Ce=K;Ce!==null;){P=Ce;var te=P.child;if((P.subtreeFlags&2064)!==0&&te!==null)te.return=P,Ce=te;else e:for(P=K;Ce!==null;){if(G=Ce,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Sc(9,G)}}catch(ke){jt(G,G.return,ke)}if(G===P){Ce=null;break e}var fe=G.sibling;if(fe!==null){fe.return=G.return,Ce=fe;break e}Ce=G.return}}if(Xe=y,Cr(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Dl,o)}catch{}g=!0}return g}finally{nt=h,Wn.transition=a}}return!1}function Sy(o,a,h){a=io(h,a),a=Bv(o,a,1),o=_r(o,a,1),a=hn(),o!==null&&(aa(o,1,a),Nn(o,a))}function jt(o,a,h){if(o.tag===3)Sy(o,o,h);else for(;a!==null;){if(a.tag===3){Sy(a,o,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(jr===null||!jr.has(g))){o=io(h,o),o=qv(a,o,1),a=_r(a,o,1),o=hn(),a!==null&&(aa(a,1,o),Nn(a,o));break}}a=a.return}}function gk(o,a,h){var g=o.pingCache;g!==null&&g.delete(a),a=hn(),o.pingedLanes|=o.suspendedLanes&h,Yt===o&&(en&h)===h&&(Wt===4||Wt===3&&(en&130023424)===en&&500>Rt()-hf?pi(o,0):df|=h),Nn(o,a)}function _y(o,a){a===0&&((o.mode&1)===0?a=1:(a=Fl,Fl<<=1,(Fl&130023424)===0&&(Fl=4194304)));var h=hn();o=$s(o,a),o!==null&&(aa(o,a,h),Nn(o,h))}function xk(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),_y(o,h)}function vk(o,a){var h=0;switch(o.tag){case 13:var g=o.stateNode,y=o.memoizedState;y!==null&&(h=y.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),_y(o,h)}var Ny;Ny=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||bn.current)Sn=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return Sn=!1,ik(o,a,h);Sn=(o.flags&131072)!==0}else Sn=!1,vt&&(a.flags&1048576)!==0&&rv(a,oc,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;bc(o,a),o=a.pendingProps;var y=Xi(a,nn.current);so(a,h),y=qh(null,a,g,o,y,h);var _=Gh();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Cn(g)?(_=!0,sc(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ih(a),y.updater=yc,a.stateNode=y,y._reactInternals=a,Kh(a,g,o,h),a=Jh(null,a,g,!0,_,h)):(a.tag=0,vt&&_&&Nh(a),dn(null,a,y,h),a=a.child),a;case 16:g=a.elementType;e:{switch(bc(o,a),o=a.pendingProps,y=g._init,g=y(g._payload),a.type=g,y=a.tag=wk(g),o=ts(g,o),y){case 0:a=Zh(null,a,g,o,h);break e;case 1:a=Xv(null,a,g,o,h);break e;case 11:a=Uv(null,a,g,o,h);break e;case 14:a=Hv(null,a,g,ts(g.type,o),h);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:ts(g,y),Zh(o,a,g,y,h);case 1:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:ts(g,y),Xv(o,a,g,y,h);case 3:e:{if(Zv(a),o===null)throw Error(t(387));g=a.pendingProps,_=a.memoizedState,y=_.element,fv(o,a),hc(a,g,null,h);var P=a.memoizedState;if(g=P.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=io(Error(t(423)),a),a=Jv(o,a,g,h,y);break e}else if(g!==y){y=io(Error(t(424)),a),a=Jv(o,a,g,h,y);break e}else for(Mn=yr(a.stateNode.containerInfo.firstChild),Rn=a,vt=!0,es=null,h=dv(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(eo(),g===y){a=Us(o,a,h);break e}dn(o,a,g,h)}a=a.child}return a;case 5:return gv(a),o===null&&Ah(a),g=a.type,y=a.pendingProps,_=o!==null?o.memoizedProps:null,P=y.children,yh(g,y)?P=null:_!==null&&yh(g,_)&&(a.flags|=32),Yv(o,a),dn(o,a,P,h),a.child;case 6:return o===null&&Ah(a),null;case 13:return ey(o,a,h);case 4:return Dh(a,a.stateNode.containerInfo),g=a.pendingProps,o===null?a.child=to(a,null,g,h):dn(o,a,g,h),a.child;case 11:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:ts(g,y),Uv(o,a,g,y,h);case 7:return dn(o,a,a.pendingProps,h),a.child;case 8:return dn(o,a,a.pendingProps.children,h),a.child;case 12:return dn(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,y=a.pendingProps,_=a.memoizedProps,P=y.value,at(cc,g._currentValue),g._currentValue=P,_!==null)if(Jn(_.value,P)){if(_.children===y.children&&!bn.current){a=Us(o,a,h);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var G=_.dependencies;if(G!==null){P=_.child;for(var U=G.firstContext;U!==null;){if(U.context===g){if(_.tag===1){U=Ws(-1,h&-h),U.tag=2;var ne=_.updateQueue;if(ne!==null){ne=ne.shared;var oe=ne.pending;oe===null?U.next=U:(U.next=oe.next,oe.next=U),ne.pending=U}}_.lanes|=h,U=_.alternate,U!==null&&(U.lanes|=h),Ph(_.return,h,a),G.lanes|=h;break}U=U.next}}else if(_.tag===10)P=_.type===a.type?null:_.child;else if(_.tag===18){if(P=_.return,P===null)throw Error(t(341));P.lanes|=h,G=P.alternate,G!==null&&(G.lanes|=h),Ph(P,h,a),P=_.sibling}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===a){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}dn(o,a,y.children,h),a=a.child}return a;case 9:return y=a.type,g=a.pendingProps.children,so(a,h),y=Gn(y),g=g(y),a.flags|=1,dn(o,a,g,h),a.child;case 14:return g=a.type,y=ts(g,a.pendingProps),y=ts(g.type,y),Hv(o,a,g,y,h);case 15:return Qv(o,a,a.type,a.pendingProps,h);case 17:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:ts(g,y),bc(o,a),a.tag=1,Cn(g)?(o=!0,sc(a)):o=!1,so(a,h),Lv(a,g,y),Kh(a,g,y,h),Jh(null,a,g,!0,o,h);case 19:return ny(o,a,h);case 22:return Kv(o,a,h)}throw Error(t(156,a.tag))};function jy(o,a){return ix(o,a)}function yk(o,a,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(o,a,h,g){return new yk(o,a,h,g)}function wf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wk(o){if(typeof o=="function")return wf(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===H)return 14}return 2}function Er(o,a){var h=o.alternate;return h===null?(h=Un(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Mc(o,a,h,g,y,_){var P=2;if(g=o,typeof o=="function")wf(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case j:return gi(h.children,y,_,a);case k:P=8,y|=8;break;case D:return o=Un(12,h,a,y|2),o.elementType=D,o.lanes=_,o;case Z:return o=Un(13,h,a,y),o.elementType=Z,o.lanes=_,o;case z:return o=Un(19,h,a,y),o.elementType=z,o.lanes=_,o;case Q:return Pc(h,y,_,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:P=10;break e;case V:P=9;break e;case B:P=11;break e;case H:P=14;break e;case X:P=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Un(P,h,a,y),a.elementType=o,a.type=g,a.lanes=_,a}function gi(o,a,h,g){return o=Un(7,o,g,a),o.lanes=h,o}function Pc(o,a,h,g){return o=Un(22,o,g,a),o.elementType=Q,o.lanes=h,o.stateNode={isHidden:!1},o}function bf(o,a,h){return o=Un(6,o,null,a),o.lanes=h,o}function Cf(o,a,h){return a=Un(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function bk(o,a,h,g,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Sf(o,a,h,g,y,_,P,G,U){return o=new bk(o,a,h,G,U),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Un(3,null,null,a),o.current=_,_.stateNode=o,_.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(_),o}function Ck(o,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:g==null?null:""+g,children:o,containerInfo:a,implementation:h}}function ky(o){if(!o)return br;o=o._reactInternals;e:{if(ri(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Cn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(Cn(h))return tv(o,h,a)}return a}function Ay(o,a,h,g,y,_,P,G,U){return o=Sf(h,g,!0,o,y,_,P,G,U),o.context=ky(null),h=o.current,g=hn(),y=Ar(h),_=Ws(g,y),_.callback=a??null,_r(h,_,y),o.current.lanes=y,aa(o,y,g),Nn(o,g),o}function Oc(o,a,h,g){var y=a.current,_=hn(),P=Ar(y);return h=ky(h),a.context===null?a.context=h:a.pendingContext=h,a=Ws(_,P),a.payload={element:o},g=g===void 0?null:g,g!==null&&(a.callback=g),o=_r(y,a,P),o!==null&&(rs(o,y,P,_),dc(o,y,P)),P}function Ic(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Ty(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function _f(o,a){Ty(o,a),(o=o.alternate)&&Ty(o,a)}function Sk(){return null}var Ey=typeof reportError=="function"?reportError:function(o){console.error(o)};function Nf(o){this._internalRoot=o}Dc.prototype.render=Nf.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Oc(o,a,null,null)},Dc.prototype.unmount=Nf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;fi(function(){Oc(null,o,null,null)}),a[zs]=null}};function Dc(o){this._internalRoot=o}Dc.prototype.unstable_scheduleHydration=function(o){if(o){var a=fx();o={blockedOn:null,target:o,priority:a};for(var h=0;h<gr.length&&a!==0&&a<gr[h].priority;h++);gr.splice(h,0,o),h===0&&gx(o)}};function jf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Vc(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Ry(){}function _k(o,a,h,g,y){if(y){if(typeof g=="function"){var _=g;g=function(){var ne=Ic(P);_.call(ne)}}var P=Ay(a,g,o,0,null,!1,!1,"",Ry);return o._reactRootContainer=P,o[zs]=P.current,ba(o.nodeType===8?o.parentNode:o),fi(),P}for(;y=o.lastChild;)o.removeChild(y);if(typeof g=="function"){var G=g;g=function(){var ne=Ic(U);G.call(ne)}}var U=Sf(o,0,!1,null,null,!1,!1,"",Ry);return o._reactRootContainer=U,o[zs]=U.current,ba(o.nodeType===8?o.parentNode:o),fi(function(){Oc(a,U,h,g)}),U}function Fc(o,a,h,g,y){var _=h._reactRootContainer;if(_){var P=_;if(typeof y=="function"){var G=y;y=function(){var U=Ic(P);G.call(U)}}Oc(a,P,o,y)}else P=_k(h,a,o,y,g);return Ic(P)}dx=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=oa(a.pendingLanes);h!==0&&(Kd(a,h|1),Nn(a,Rt()),(Xe&6)===0&&(lo=Rt()+500,Cr()))}break;case 13:fi(function(){var g=$s(o,1);if(g!==null){var y=hn();rs(g,o,1,y)}}),_f(o,1)}},Yd=function(o){if(o.tag===13){var a=$s(o,134217728);if(a!==null){var h=hn();rs(a,o,134217728,h)}_f(o,134217728)}},hx=function(o){if(o.tag===13){var a=Ar(o),h=$s(o,a);if(h!==null){var g=hn();rs(h,o,a,g)}_f(o,a)}},fx=function(){return nt},px=function(o,a){var h=nt;try{return nt=o,a()}finally{nt=h}},qd=function(o,a,h){switch(a){case"input":if(Ke(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==o&&g.form===o.form){var y=tc(g);if(!y)throw Error(t(90));ge(g),Ke(g,y)}}}break;case"textarea":hr(o,h);break;case"select":a=h.value,a!=null&&be(o,!!h.multiple,a,!1)}},Zg=xf,Jg=fi;var Nk={usingClientEntryPoint:!1,Events:[_a,Ki,tc,Yg,Xg,xf]},Fa={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jk={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=sx(o),o===null?null:o.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||Sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Dl=Lc.inject(jk),ys=Lc}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk,jn.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(a))throw Error(t(200));return Ck(o,a,null,h)},jn.createRoot=function(o,a){if(!jf(o))throw Error(t(299));var h=!1,g="",y=Ey;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Sf(o,1,!1,null,null,h,!1,g,y),o[zs]=a.current,ba(o.nodeType===8?o.parentNode:o),new Nf(a)},jn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=sx(a),o=o===null?null:o.stateNode,o},jn.flushSync=function(o){return fi(o)},jn.hydrate=function(o,a,h){if(!Vc(a))throw Error(t(200));return Fc(null,o,a,!0,h)},jn.hydrateRoot=function(o,a,h){if(!jf(o))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,y=!1,_="",P=Ey;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),a=Ay(a,null,o,1,h??null,y,!1,_,P),o[zs]=a.current,ba(o),g)for(o=0;o<g.length;o++)h=g[o],y=h._getVersion,y=y(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,y]:a.mutableSourceEagerHydrationData.push(h,y);return new Dc(a)},jn.render=function(o,a,h){if(!Vc(a))throw Error(t(200));return Fc(null,o,a,!1,h)},jn.unmountComponentAtNode=function(o){if(!Vc(o))throw Error(t(40));return o._reactRootContainer?(fi(function(){Fc(null,null,o,!1,function(){o._reactRootContainer=null,o[zs]=null})}),!0):!1},jn.unstable_batchedUpdates=xf,jn.unstable_renderSubtreeIntoContainer=function(o,a,h,g){if(!Vc(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Fc(o,a,h,!1,g)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var Ly;function qw(){if(Ly)return Tf.exports;Ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tf.exports=Ik(),Tf.exports}var zy;function Dk(){if(zy)return zc;zy=1;var n=qw();return zc.createRoot=n.createRoot,zc.hydrateRoot=n.hydrateRoot,zc}var Vk=Dk();function Fk(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,s,r,l,u=[],c="",d=n.split("/");for(d[0]||d.shift();r=d.shift();)t=r[0],t==="*"?(u.push(t),c+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(s=r.indexOf("?",1),l=r.indexOf(".",1),u.push(r.substring(1,~s?s:~l?l:r.length)),c+=~s&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(c+=(~s?"?":"")+"\\"+r.substring(l))):c+="/"+r;return{keys:u,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var v=Wu();const ot=$u(v),Yp=Ak({__proto__:null,default:ot},[v]);var Mf={exports:{}},Pf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function Lk(){if(By)return Pf;By=1;var n=Wu();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var t=typeof Object.is=="function"?Object.is:e,s=n.useState,r=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function c(m,x){var b=x(),S=s({inst:{value:b,getSnapshot:x}}),w=S[0].inst,C=S[1];return l(function(){w.value=b,w.getSnapshot=x,d(w)&&C({inst:w})},[m,b,x]),r(function(){return d(w)&&C({inst:w}),m(function(){d(w)&&C({inst:w})})},[m]),u(b),b}function d(m){var x=m.getSnapshot;m=m.value;try{var b=x();return!t(m,b)}catch{return!0}}function f(m,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Pf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,Pf}var qy;function zk(){return qy||(qy=1,Mf.exports=Lk()),Mf.exports}var Gw=zk();const Bk=Yp.useInsertionEffect,qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gk=qk?v.useLayoutEffect:v.useEffect,$k=Bk||Gk,$w=n=>{const e=v.useRef([n,(...t)=>e[0](...t)]).current;return $k(()=>{e[0]=n}),e[1]},Wk="popstate",Xp="pushState",Zp="replaceState",Uk="hashchange",Gy=[Wk,Xp,Zp,Uk],Hk=n=>{for(const e of Gy)addEventListener(e,n);return()=>{for(const e of Gy)removeEventListener(e,n)}},Ww=(n,e)=>Gw.useSyncExternalStore(Hk,n,e),Qk=()=>location.search,Kk=({ssrSearch:n=""}={})=>Ww(Qk,()=>n),$y=()=>location.pathname,Yk=({ssrPath:n}={})=>Ww($y,n?()=>n:$y),Xk=(n,{replace:e=!1,state:t=null}={})=>history[e?Zp:Xp](t,"",n),Zk=(n={})=>[Yk(n),Xk],Wy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Wy]>"u"){for(const n of[Xp,Zp]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),s=new Event(n);return s.arguments=arguments,dispatchEvent(s),t}}Object.defineProperty(window,Wy,{value:!0})}const Jk=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",Uw=(n="")=>n==="/"?"":n,eA=(n,e)=>n[0]==="~"?n.slice(1):Uw(e)+n,tA=(n="",e)=>Jk(Uy(Uw(n)),Uy(e)),Uy=n=>{try{return decodeURI(n)}catch{return n}},Hw={hook:Zk,searchHook:Kk,parser:Fk,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:n=>n},Qw=v.createContext(Hw),al=()=>v.useContext(Qw),Kw={},Yw=v.createContext(Kw),nA=()=>v.useContext(Yw),Uu=n=>{const[e,t]=n.hook(n);return[tA(n.base,e),$w((s,r)=>t(eA(s,n.base),r))]},Jp=()=>Uu(al()),Xw=(n,e,t,s)=>{const{pattern:r,keys:l}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",s),u=r.exec(t)||[],[c,...d]=u;return c!==void 0?[!0,(()=>{const f=l!==!1?Object.fromEntries(l.map((m,x)=>[m,d[x]])):u.groups;let p={...d};return f&&Object.assign(p,f),p})(),...s?[c]:[]]:[!1,null]},sA=({children:n,...e})=>{const t=al(),s=e.hook?Hw:t;let r=s;const[l,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=l),e.hrefs=e.hrefs??e.hook?.hrefs;let c=v.useRef({}),d=c.current,f=d;for(let p in s){const m=p==="base"?s[p]+(e[p]||""):e[p]||s[p];d===f&&m!==f[p]&&(c.current=f={...f}),f[p]=m,(m!==s[p]||m!==r[p])&&(r=f)}return v.createElement(Qw.Provider,{value:r,children:n})},Hy=({children:n,component:e},t)=>e?v.createElement(e,{params:t}):typeof n=="function"?n(t):n,rA=n=>{let e=v.useRef(Kw);const t=e.current;return e.current=Object.keys(n).length!==Object.keys(t).length||Object.entries(n).some(([s,r])=>r!==t[s])?n:t},qe=({path:n,nest:e,match:t,...s})=>{const r=al(),[l]=Uu(r),[u,c,d]=t??Xw(r.parser,n,l,e),f=rA({...nA(),...c});if(!u)return null;const p=d?v.createElement(sA,{base:d},Hy(s,f)):Hy(s,f);return v.createElement(Yw.Provider,{value:f,children:p})},Js=v.forwardRef((n,e)=>{const t=al(),[s,r]=Uu(t),{to:l="",href:u=l,onClick:c,asChild:d,children:f,className:p,replace:m,state:x,...b}=n,S=$w(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(c?.(C),C.defaultPrevented||(C.preventDefault(),r(u,n)))}),w=t.hrefs(u[0]==="~"?u.slice(1):t.base+u,t);return d&&v.isValidElement(f)?v.cloneElement(f,{onClick:S,href:w}):v.createElement("a",{...b,onClick:S,href:w,className:p?.call?p(s===u):p,children:f,ref:e})}),Zw=n=>Array.isArray(n)?n.flatMap(e=>Zw(e&&e.type===v.Fragment?e.props.children:e)):[n],Jw=({children:n,location:e})=>{const t=al(),[s]=Uu(t);for(const r of Zw(n)){let l=0;if(v.isValidElement(r)&&(l=Xw(t.parser,r.props.path,e||s,r.props.nest))[0])return v.cloneElement(r,{match:l})}return null};var Io=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Si=typeof window>"u"||"Deno"in globalThis;function fn(){}function iA(n,e){return typeof n=="function"?n(e):n}function fp(n){return typeof n=="number"&&n>=0&&n!==1/0}function e1(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Lr(n,e){return typeof n=="function"?n(e):n}function Qn(n,e){return typeof n=="function"?n(e):n}function Qy(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:l,queryKey:u,stale:c}=n;if(u){if(s){if(e.queryHash!==em(u,e.options))return!1}else if(!Qa(e.queryKey,u))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||l&&!l(e))}function Ky(n,e){const{exact:t,status:s,predicate:r,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(_i(e.options.mutationKey)!==_i(l))return!1}else if(!Qa(e.options.mutationKey,l))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function em(n,e){return(e?.queryKeyHashFn||_i)(n)}function _i(n){return JSON.stringify(n,(e,t)=>pp(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function Qa(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Qa(n[t],e[t])):!1}function t1(n,e){if(n===e)return n;const t=Yy(n)&&Yy(e);if(t||pp(n)&&pp(e)){const s=t?n:Object.keys(n),r=s.length,l=t?e:Object.keys(e),u=l.length,c=t?[]:{},d=new Set(s);let f=0;for(let p=0;p<u;p++){const m=t?p:l[p];(!t&&d.has(m)||t)&&n[m]===void 0&&e[m]===void 0?(c[m]=void 0,f++):(c[m]=t1(n[m],e[m]),c[m]===n[m]&&n[m]!==void 0&&f++)}return r===u&&f===r?n:c}return e}function fu(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Yy(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function pp(n){if(!Xy(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Xy(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Xy(n){return Object.prototype.toString.call(n)==="[object Object]"}function oA(n){return new Promise(e=>{setTimeout(e,n)})}function mp(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?t1(n,e):e}function aA(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function lA(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var tm=Symbol();function n1(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===tm?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function s1(n,e){return typeof n=="function"?n(...e):!!n}var cA=class extends Io{#t;#e;#n;constructor(){super(),this.#n=n=>{if(!Si&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},nm=new cA,uA=class extends Io{#t=!0;#e;#n;constructor(){super(),this.#n=n=>{if(!Si&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#t}},pu=new uA;function gp(){let n,e;const t=new Promise((r,l)=>{n=r,e=l});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}function dA(n){return Math.min(1e3*2**n,3e4)}function r1(n){return(n??"online")==="online"?pu.isOnline():!0}var xp=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function i1(n){let e=!1,t=0,s;const r=gp(),l=()=>r.status!=="pending",u=w=>{if(!l()){const C=new xp(w);x(C),n.onCancel?.(C)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>nm.isFocused()&&(n.networkMode==="always"||pu.isOnline())&&n.canRun(),p=()=>r1(n.networkMode)&&n.canRun(),m=w=>{l()||(s?.(),r.resolve(w))},x=w=>{l()||(s?.(),r.reject(w))},b=()=>new Promise(w=>{s=C=>{(l()||f())&&w(C)},n.onPause?.()}).then(()=>{s=void 0,l()||n.onContinue?.()}),S=()=>{if(l())return;let w;const C=t===0?n.initialPromise:void 0;try{w=C??n.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(m).catch(N=>{if(l())return;const E=n.retry??(Si?0:3),T=n.retryDelay??dA,M=typeof T=="function"?T(t,N):T,R=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,N);if(e||!R){x(N);return}t++,n.onFail?.(t,N),oA(M).then(()=>f()?void 0:b()).then(()=>{e?x(N):S()})})};return{promise:r,status:()=>r.status,cancel:u,continue:()=>(s?.(),r),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?S():b().then(S),r)}}var hA=n=>setTimeout(n,0);function fA(){let n=[],e=0,t=c=>{c()},s=c=>{c()},r=hA;const l=c=>{e?n.push(c):r(()=>{t(c)})},u=()=>{const c=n;n=[],c.length&&r(()=>{s(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||u()}return d},batchCalls:c=>(...d)=>{l(()=>{c(...d)})},schedule:l,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var Ut=fA(),o1=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fp(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Si?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},pA=class extends o1{#t;#e;#n;#s;#r;#o;#a;constructor(n){super(),this.#a=!1,this.#o=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#s=n.client,this.#n=this.#s.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#t=mA(this.options),this.state=n.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(n){this.options={...this.#o,...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const t=mp(this.state.data,n,this.options);return this.#i({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#i({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#r?.promise;return this.#r?.cancel(n),e?e.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(n=>Qn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Lr(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!e1(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(n&&this.setOptions(n),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const t=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,t.signal)})},r=()=>{const c=n1(this.options,e),f=(()=>{const p={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(p),p})();return this.#a=!1,this.options.persister?this.options.persister(c,f,this):c(f)},u=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:r};return s(c),c})();this.options.behavior?.onFetch(u,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=i1({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:c=>{c instanceof xp&&c.revert&&this.setState({...this.#e,fetchStatus:"idle"}),t.abort()},onFail:(c,d)=>{this.#i({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof xp){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...a1(t.data,this.options),fetchMeta:n.meta??null};case"success":const s={...t,data:n.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=n.manual?s:void 0,s;case"error":const r=n.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),Ut.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function a1(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function mA(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var gA=class extends Io{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,e,t){const s=e.queryKey,r=e.queryHash??em(s,e);let l=this.get(r);return l||(l=new pA({client:n,queryKey:s,queryHash:r,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(s)}),this.add(l)),l}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#t.get(n.queryHash);e&&(n.destroy(),e===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Ut.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Qy(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>Qy(n,t)):e}notify(n){Ut.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},xA=class extends o1{#t;#e;#n;constructor(n){super(),this.mutationId=n.mutationId,this.#e=n.mutationCache,this.#t=[],this.state=n.state||l1(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#s({type:"continue"})};this.#n=i1({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(r,l)=>{this.#s({type:"failed",failureCount:r,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const t=this.state.status==="pending",s=!this.#n.canStart();try{if(t)e();else{this.#s({type:"pending",variables:n,isPaused:s}),await this.#e.config.onMutate?.(n,this);const l=await this.options.onMutate?.(n);l!==this.state.context&&this.#s({type:"pending",context:l,variables:n,isPaused:s})}const r=await this.#n.start();return await this.#e.config.onSuccess?.(r,n,this.state.context,this),await this.options.onSuccess?.(r,n,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,n,this.state.context),this.#s({type:"success",data:r}),r}catch(r){try{throw await this.#e.config.onError?.(r,n,this.state.context,this),await this.options.onError?.(r,n,this.state.context),await this.#e.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,n,this.state.context),r}finally{this.#s({type:"error",error:r})}}finally{this.#e.runNext(this)}}#s(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ut.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(n)}),this.#e.notify({mutation:this,type:"updated",action:n})})}};function l1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vA=class extends Io{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(n,e,t){const s=new xA({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(s),s}add(n){this.#t.add(n);const e=Bc(n);if(typeof e=="string"){const t=this.#e.get(e);t?t.push(n):this.#e.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const e=Bc(n);if(typeof e=="string"){const t=this.#e.get(e);if(t)if(t.length>1){const s=t.indexOf(n);s!==-1&&t.splice(s,1)}else t[0]===n&&this.#e.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Bc(n);if(typeof e=="string"){const s=this.#e.get(e)?.find(r=>r.state.status==="pending");return!s||s===n}else return!0}runNext(n){const e=Bc(n);return typeof e=="string"?this.#e.get(e)?.find(s=>s!==n&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ut.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Ky(e,t))}findAll(n={}){return this.getAll().filter(e=>Ky(n,e))}notify(n){Ut.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Ut.batch(()=>Promise.all(n.map(e=>e.continue().catch(fn))))}};function Bc(n){return n.options.scope?.id}function Zy(n){return{onFetch:(e,t)=>{const s=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let p=!1;const m=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},x=n1(e.options,e.fetchOptions),b=async(S,w,C)=>{if(p)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const E=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return m(I),I})(),T=await x(E),{maxPages:M}=e.options,R=C?lA:aA;return{pages:R(S.pages,T,M),pageParams:R(S.pageParams,w,M)}};if(r&&l.length){const S=r==="backward",w=S?yA:Jy,C={pages:l,pageParams:u},N=w(s,C);c=await b(C,N,S)}else{const S=n??l.length;do{const w=d===0?u[0]??s.initialPageParam:Jy(s,c);if(d>0&&w==null)break;c=await b(c,w),d++}while(d<S)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=f}}}function Jy(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function yA(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var wA=class{#t;#e;#n;#s;#r;#o;#a;#i;constructor(n={}){this.#t=n.queryCache||new gA,this.#e=n.mutationCache||new vA,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=nm.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=pu.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#t.build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Lr(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),l=this.#t.get(s.queryHash)?.state.data,u=iA(e,l);if(u!==void 0)return this.#t.build(this,s).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Ut.batch(()=>this.#t.findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state}removeQueries(n){const e=this.#t;Ut.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#t;return Ut.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=Ut.batch(()=>this.#t.findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(fn).catch(fn)}invalidateQueries(n,e={}){return Ut.batch(()=>(this.#t.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Ut.batch(()=>this.#t.findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let l=r.fetch(void 0,t);return t.throwOnError||(l=l.catch(fn)),r.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(fn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#t.build(this,e);return t.isStaleByTime(Lr(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(fn).catch(fn)}fetchInfiniteQuery(n){return n.behavior=Zy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(fn).catch(fn)}ensureInfiniteQueryData(n){return n.behavior=Zy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return pu.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#s.set(_i(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(s=>{Qa(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(_i(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(s=>{Qa(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=em(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tm&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},bA=class extends Io{constructor(n,e){super(),this.options=e,this.#t=n,this.#i=null,this.#a=gp(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),e0(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vp(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vp(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#e.removeObserver(this)}setOptions(n){const e=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#e.setOptions(this.options),e._defaulted&&!fu(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&t0(this.#e,t,this.options,e)&&this.#d(),this.updateResult(),s&&(this.#e!==t||Qn(this.options.enabled,this.#e)!==Qn(e.enabled,this.#e)||Lr(this.options.staleTime,this.#e)!==Lr(e.staleTime,this.#e))&&this.#g();const r=this.#x();s&&(this.#e!==t||Qn(this.options.enabled,this.#e)!==Qn(e.enabled,this.#e)||r!==this.#l)&&this.#v(r)}getOptimisticResult(n){const e=this.#t.getQueryCache().build(this.#t,n),t=this.createResult(e,n);return SA(this,t)&&(this.#s=t,this.#o=this.options,this.#r=this.#e.state),t}getCurrentResult(){return this.#s}trackResult(n,e){return new Proxy(n,{get:(t,s)=>(this.trackProp(s),e?.(s),s==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(t,s))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#t.defaultQueryOptions(n),t=this.#t.getQueryCache().build(this.#t,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(n){this.#C();let e=this.#e.fetch(this.options,n);return n?.throwOnError||(e=e.catch(fn)),e}#g(){this.#w();const n=Lr(this.options.staleTime,this.#e);if(Si||this.#s.isStale||!fp(n))return;const t=e1(this.#s.dataUpdatedAt,n)+1;this.#c=setTimeout(()=>{this.#s.isStale||this.updateResult()},t)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(n){this.#b(),this.#l=n,!(Si||Qn(this.options.enabled,this.#e)===!1||!fp(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||nm.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(n,e){const t=this.#e,s=this.options,r=this.#s,l=this.#r,u=this.#o,d=n!==t?n.state:this.#n,{state:f}=n;let p={...f},m=!1,x;if(e._optimisticResults){const k=this.hasListeners(),D=!k&&e0(n,e),A=k&&t0(n,t,e,s);(D||A)&&(p={...p,...a1(f.data,n.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:S,status:w}=p;x=p.data;let C=!1;if(e.placeholderData!==void 0&&x===void 0&&w==="pending"){let k;r?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(k=r.data,C=!0):k=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,k!==void 0&&(w="success",x=mp(r?.data,k,e),m=!0)}if(e.select&&x!==void 0&&!C)if(r&&x===l?.data&&e.select===this.#m)x=this.#h;else try{this.#m=e.select,x=e.select(x),x=mp(r?.data,x,e),this.#h=x,this.#i=null}catch(k){this.#i=k}this.#i&&(b=this.#i,x=this.#h,S=Date.now(),w="error");const N=p.fetchStatus==="fetching",E=w==="pending",T=w==="error",M=E&&N,R=x!==void 0,j={status:w,fetchStatus:p.fetchStatus,isPending:E,isSuccess:w==="success",isError:T,isInitialLoading:M,isLoading:M,data:x,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:T&&!R,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:T&&R,isStale:sm(n,e),refetch:this.refetch,promise:this.#a,isEnabled:Qn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const k=V=>{j.status==="error"?V.reject(j.error):j.data!==void 0&&V.resolve(j.data)},D=()=>{const V=this.#a=j.promise=gp();k(V)},A=this.#a;switch(A.status){case"pending":n.queryHash===t.queryHash&&k(A);break;case"fulfilled":(j.status==="error"||j.data!==A.value)&&D();break;case"rejected":(j.status!=="error"||j.error!==A.reason)&&D();break}}return j}updateResult(){const n=this.#s,e=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#e),fu(e,n))return;this.#s=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#p.size)return!0;const l=new Set(r??this.#p);return this.options.throwOnError&&l.add("error"),Object.keys(this.#s).some(u=>{const c=u;return this.#s[c]!==n[c]&&l.has(c)})};this.#S({listeners:t()})}#C(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const e=this.#e;this.#e=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(n){Ut.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function CA(n,e){return Qn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function e0(n,e){return CA(n,e)||n.state.data!==void 0&&vp(n,e,e.refetchOnMount)}function vp(n,e,t){if(Qn(e.enabled,n)!==!1&&Lr(e.staleTime,n)!=="static"){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&sm(n,e)}return!1}function t0(n,e,t,s){return(n!==e||Qn(s.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&sm(n,t)}function sm(n,e){return Qn(e.enabled,n)!==!1&&n.isStaleByTime(Lr(e.staleTime,n))}function SA(n,e){return!fu(n.getCurrentResult(),e)}var _A=class extends Io{#t;#e=void 0;#n;#s;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#t.defaultMutationOptions(e),fu(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&_i(t.mutationKey)!==_i(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(e,t){return this.#s=t,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??l1();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Ut.batch(()=>{if(this.#s&&this.hasListeners()){const t=this.#e.variables,s=this.#e.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,s),this.#s.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#s.onError?.(e.error,t,s),this.#s.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(t=>{t(this.#e)})})}},c1=v.createContext(void 0),u1=n=>{const e=v.useContext(c1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},NA=({client:n,children:e})=>(v.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),i.jsx(c1.Provider,{value:n,children:e})),d1=v.createContext(!1),jA=()=>v.useContext(d1);d1.Provider;function kA(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var AA=v.createContext(kA()),TA=()=>v.useContext(AA),EA=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},RA=n=>{v.useEffect(()=>{n.clearReset()},[n])},MA=({result:n,errorResetBoundary:e,throwOnError:t,query:s,suspense:r})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&(r&&n.data===void 0||s1(t,[n.error,s])),PA=n=>{if(n.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...s)=>e(t(...s)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},OA=(n,e)=>n.isLoading&&n.isFetching&&!e,IA=(n,e)=>n?.suspense&&e.isPending,n0=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function DA(n,e,t){const s=jA(),r=TA(),l=u1(),u=l.defaultQueryOptions(n);l.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=s?"isRestoring":"optimistic",PA(u),EA(u,r),RA(r);const c=!l.getQueryCache().get(u.queryHash),[d]=v.useState(()=>new e(l,u)),f=d.getOptimisticResult(u),p=!s&&n.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(m=>{const x=p?d.subscribe(Ut.batchCalls(m)):fn;return d.updateResult(),x},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(u)},[u,d]),IA(u,f))throw n0(u,d,r);if(MA({result:f,errorResetBoundary:r,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw f.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(u,f),u.experimental_prefetchInRender&&!Si&&OA(f,s)&&(c?n0(u,d,r):l.getQueryCache().get(u.queryHash)?.promise)?.catch(fn).finally(()=>{d.updateResult()}),u.notifyOnChangeProps?f:d.trackResult(f)}function yp(n,e){return DA(n,bA)}function Gr(n,e){const t=u1(),[s]=v.useState(()=>new _A(t,n));v.useEffect(()=>{s.setOptions(n)},[s,n]);const r=v.useSyncExternalStore(v.useCallback(u=>s.subscribe(Ut.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=v.useCallback((u,c)=>{s.mutate(u,c).catch(fn)},[s]);if(r.error&&s1(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}async function h1(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}async function us(n,e,t){const s=await fetch(e,{method:n,headers:t?{"Content-Type":"application/json"}:{},body:t?JSON.stringify(t):void 0,credentials:"include"});return await h1(s),s}const VA=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await h1(t),await t.json()},f1=new wA({defaultOptions:{queries:{queryFn:VA({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),FA=1,LA=1e6;let Of=0;function zA(){return Of=(Of+1)%Number.MAX_SAFE_INTEGER,Of.toString()}const If=new Map,s0=n=>{if(If.has(n))return;const e=setTimeout(()=>{If.delete(n),Ua({type:"REMOVE_TOAST",toastId:n})},LA);If.set(n,e)},BA=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,FA)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?s0(t):n.toasts.forEach(s=>{s0(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},su=[];let ru={toasts:[]};function Ua(n){ru=BA(ru,n),su.forEach(e=>{e(ru)})}function qA({...n}){const e=zA(),t=r=>Ua({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Ua({type:"DISMISS_TOAST",toastId:e});return Ua({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:t}}function ar(){const[n,e]=v.useState(ru);return v.useEffect(()=>(su.push(e),()=>{const t=su.indexOf(e);t>-1&&su.splice(t,1)}),[n]),{...n,toast:qA,dismiss:t=>Ua({type:"DISMISS_TOAST",toastId:t})}}var Do=qw();const GA=$u(Do);function pe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function r0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Hu(...n){return e=>{let t=!1;const s=n.map(r=>{const l=r0(r,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let r=0;r<s.length;r++){const l=s[r];typeof l=="function"?l():r0(n[r],null)}}}}function ze(...n){return v.useCallback(Hu(...n),n)}function $A(n,e){const t=v.createContext(e),s=l=>{const{children:u,...c}=l,d=v.useMemo(()=>c,Object.values(c));return i.jsx(t.Provider,{value:d,children:u})};s.displayName=n+"Provider";function r(l){const u=v.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${n}\``)}return[s,r]}function gn(n,e=[]){let t=[];function s(l,u){const c=v.createContext(u),d=t.length;t=[...t,u];const f=m=>{const{scope:x,children:b,...S}=m,w=x?.[n]?.[d]||c,C=v.useMemo(()=>S,Object.values(S));return i.jsx(w.Provider,{value:C,children:b})};f.displayName=l+"Provider";function p(m,x){const b=x?.[n]?.[d]||c,S=v.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${l}\``)}return[f,p]}const r=()=>{const l=t.map(u=>v.createContext(u));return function(c){const d=c?.[n]||l;return v.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return r.scopeName=n,[s,WA(r,...e)]}function WA(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const u=s.reduce((c,{useScope:d,scopeName:f})=>{const m=d(l)[`__scope${f}`];return{...c,...m}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Ni(n){const e=HA(n),t=v.forwardRef((s,r)=>{const{children:l,...u}=s,c=v.Children.toArray(l),d=c.find(KA);if(d){const f=d.props.children,p=c.map(m=>m===d?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:m);return i.jsx(e,{...u,ref:r,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return i.jsx(e,{...u,ref:r,children:l})});return t.displayName=`${n}.Slot`,t}var UA=Ni("Slot");function HA(n){const e=v.forwardRef((t,s)=>{const{children:r,...l}=t;if(v.isValidElement(r)){const u=XA(r),c=YA(l,r.props);return r.type!==v.Fragment&&(c.ref=s?Hu(s,u):u),v.cloneElement(r,c)}return v.Children.count(r)>1?v.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var p1=Symbol("radix.slottable");function QA(n){const e=({children:t})=>i.jsx(i.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=p1,e}function KA(n){return v.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===p1}function YA(n,e){const t={...e};for(const s in e){const r=n[s],l=e[s];/^on[A-Z]/.test(s)?r&&l?t[s]=(...c)=>{const d=l(...c);return r(...c),d}:r&&(t[s]=r):s==="style"?t[s]={...r,...l}:s==="className"&&(t[s]=[r,l].filter(Boolean).join(" "))}return{...n,...t}}function XA(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ll(n){const e=n+"CollectionProvider",[t,s]=gn(e),[r,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:C,children:N}=w,E=ot.useRef(null),T=ot.useRef(new Map).current;return i.jsx(r,{scope:C,itemMap:T,collectionRef:E,children:N})};u.displayName=e;const c=n+"CollectionSlot",d=Ni(c),f=ot.forwardRef((w,C)=>{const{scope:N,children:E}=w,T=l(c,N),M=ze(C,T.collectionRef);return i.jsx(d,{ref:M,children:E})});f.displayName=c;const p=n+"CollectionItemSlot",m="data-radix-collection-item",x=Ni(p),b=ot.forwardRef((w,C)=>{const{scope:N,children:E,...T}=w,M=ot.useRef(null),R=ze(C,M),I=l(p,N);return ot.useEffect(()=>(I.itemMap.set(M,{ref:M,...T}),()=>void I.itemMap.delete(M))),i.jsx(x,{[m]:"",ref:R,children:E})});b.displayName=p;function S(w){const C=l(n+"CollectionConsumer",w);return ot.useCallback(()=>{const E=C.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((I,j)=>T.indexOf(I.ref.current)-T.indexOf(j.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:f,ItemSlot:b},S,s]}var ZA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=ZA.reduce((n,e)=>{const t=Ni(`Primitive.${e}`),s=v.forwardRef((r,l)=>{const{asChild:u,...c}=r,d=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...c,ref:l})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function rm(n,e){n&&Do.flushSync(()=>n.dispatchEvent(e))}function Et(n){const e=v.useRef(n);return v.useEffect(()=>{e.current=n}),v.useMemo(()=>(...t)=>e.current?.(...t),[])}function JA(n,e=globalThis?.document){const t=Et(n);v.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var eT="DismissableLayer",wp="dismissableLayer.update",tT="dismissableLayer.pointerDownOutside",nT="dismissableLayer.focusOutside",i0,m1=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vo=v.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:u,onDismiss:c,...d}=n,f=v.useContext(m1),[p,m]=v.useState(null),x=p?.ownerDocument??globalThis?.document,[,b]=v.useState({}),S=ze(e,j=>m(j)),w=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(C),E=p?w.indexOf(p):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,M=E>=N,R=rT(j=>{const k=j.target,D=[...f.branches].some(A=>A.contains(k));!M||D||(r?.(j),u?.(j),j.defaultPrevented||c?.())},x),I=iT(j=>{const k=j.target;[...f.branches].some(A=>A.contains(k))||(l?.(j),u?.(j),j.defaultPrevented||c?.())},x);return JA(j=>{E===f.layers.size-1&&(s?.(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},x),v.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(i0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),o0(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=i0)}},[p,x,t,f]),v.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),o0())},[p,f]),v.useEffect(()=>{const j=()=>b({});return document.addEventListener(wp,j),()=>document.removeEventListener(wp,j)},[]),i.jsx(Ne.div,{...d,ref:S,style:{pointerEvents:T?M?"auto":"none":void 0,...n.style},onFocusCapture:pe(n.onFocusCapture,I.onFocusCapture),onBlurCapture:pe(n.onBlurCapture,I.onBlurCapture),onPointerDownCapture:pe(n.onPointerDownCapture,R.onPointerDownCapture)})});Vo.displayName=eT;var sT="DismissableLayerBranch",g1=v.forwardRef((n,e)=>{const t=v.useContext(m1),s=v.useRef(null),r=ze(e,s);return v.useEffect(()=>{const l=s.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),i.jsx(Ne.div,{...n,ref:r})});g1.displayName=sT;function rT(n,e=globalThis?.document){const t=Et(n),s=v.useRef(!1),r=v.useRef(()=>{});return v.useEffect(()=>{const l=c=>{if(c.target&&!s.current){let d=function(){x1(tT,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function iT(n,e=globalThis?.document){const t=Et(n),s=v.useRef(!1);return v.useEffect(()=>{const r=l=>{l.target&&!s.current&&x1(nT,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o0(){const n=new CustomEvent(wp);document.dispatchEvent(n)}function x1(n,e,t,{discrete:s}){const r=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?rm(r,l):r.dispatchEvent(l)}var oT=Vo,aT=g1,Pt=globalThis?.document?v.useLayoutEffect:()=>{},lT="Portal",cl=v.forwardRef((n,e)=>{const{container:t,...s}=n,[r,l]=v.useState(!1);Pt(()=>l(!0),[]);const u=t||r&&globalThis?.document?.body;return u?GA.createPortal(i.jsx(Ne.div,{...s,ref:e}),u):null});cl.displayName=lT;function cT(n,e){return v.useReducer((t,s)=>e[t][s]??t,n)}var xn=n=>{const{present:e,children:t}=n,s=uT(e),r=typeof t=="function"?t({present:s.isPresent}):v.Children.only(t),l=ze(s.ref,dT(r));return typeof t=="function"||s.isPresent?v.cloneElement(r,{ref:l}):null};xn.displayName="Presence";function uT(n){const[e,t]=v.useState(),s=v.useRef(null),r=v.useRef(n),l=v.useRef("none"),u=n?"mounted":"unmounted",[c,d]=cT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const f=qc(s.current);l.current=c==="mounted"?f:"none"},[c]),Pt(()=>{const f=s.current,p=r.current;if(p!==n){const x=l.current,b=qc(f);n?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,d]),Pt(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,m=b=>{const w=qc(s.current).includes(CSS.escape(b.animationName));if(b.target===e&&w&&(d("ANIMATION_END"),!r.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=b=>{b.target===e&&(l.current=qc(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(f=>{s.current=f?getComputedStyle(f):null,t(f)},[])}}function qc(n){return n?.animationName||"none"}function dT(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var hT=Yp[" useInsertionEffect ".trim().toString()]||Pt;function nr({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,l,u]=fT({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:r;{const p=v.useRef(n!==void 0);v.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,s])}const f=v.useCallback(p=>{if(c){const m=pT(p)?p(n):p;m!==n&&u.current?.(m)}else l(p)},[c,n,l,u]);return[d,f]}function fT({defaultProp:n,onChange:e}){const[t,s]=v.useState(n),r=v.useRef(t),l=v.useRef(e);return hT(()=>{l.current=e},[e]),v.useEffect(()=>{r.current!==t&&(l.current?.(t),r.current=t)},[t,r]),[t,s,l]}function pT(n){return typeof n=="function"}var v1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mT="VisuallyHidden",Qu=v.forwardRef((n,e)=>i.jsx(Ne.span,{...n,ref:e,style:{...v1,...n.style}}));Qu.displayName=mT;var gT=Qu,im="ToastProvider",[om,xT,vT]=ll("Toast"),[y1,K8]=gn("Toast",[vT]),[yT,Ku]=y1(im),w1=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:l=50,children:u}=n,[c,d]=v.useState(null),[f,p]=v.useState(0),m=v.useRef(!1),x=v.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${im}\`. Expected non-empty \`string\`.`),i.jsx(om.Provider,{scope:e,children:i.jsx(yT,{scope:e,label:t,duration:s,swipeDirection:r,swipeThreshold:l,toastCount:f,viewport:c,onViewportChange:d,onToastAdd:v.useCallback(()=>p(b=>b+1),[]),onToastRemove:v.useCallback(()=>p(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:u})})};w1.displayName=im;var b1="ToastViewport",wT=["F8"],bp="toast.viewportPause",Cp="toast.viewportResume",C1=v.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=wT,label:r="Notifications ({hotkey})",...l}=n,u=Ku(b1,t),c=xT(t),d=v.useRef(null),f=v.useRef(null),p=v.useRef(null),m=v.useRef(null),x=ze(e,m,u.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;v.useEffect(()=>{const C=N=>{s.length!==0&&s.every(T=>N[T]||N.code===T)&&m.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[s]),v.useEffect(()=>{const C=d.current,N=m.current;if(S&&C&&N){const E=()=>{if(!u.isClosePausedRef.current){const I=new CustomEvent(bp);N.dispatchEvent(I),u.isClosePausedRef.current=!0}},T=()=>{if(u.isClosePausedRef.current){const I=new CustomEvent(Cp);N.dispatchEvent(I),u.isClosePausedRef.current=!1}},M=I=>{!C.contains(I.relatedTarget)&&T()},R=()=>{C.contains(document.activeElement)||T()};return C.addEventListener("focusin",E),C.addEventListener("focusout",M),C.addEventListener("pointermove",E),C.addEventListener("pointerleave",R),window.addEventListener("blur",E),window.addEventListener("focus",T),()=>{C.removeEventListener("focusin",E),C.removeEventListener("focusout",M),C.removeEventListener("pointermove",E),C.removeEventListener("pointerleave",R),window.removeEventListener("blur",E),window.removeEventListener("focus",T)}}},[S,u.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:C})=>{const E=c().map(T=>{const M=T.ref.current,R=[M,...PT(M)];return C==="forwards"?R:R.reverse()});return(C==="forwards"?E.reverse():E).flat()},[c]);return v.useEffect(()=>{const C=m.current;if(C){const N=E=>{const T=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!T){const R=document.activeElement,I=E.shiftKey;if(E.target===C&&I){f.current?.focus();return}const D=w({tabbingDirection:I?"backwards":"forwards"}),A=D.findIndex(V=>V===R);Df(D.slice(A+1))?E.preventDefault():I?f.current?.focus():p.current?.focus()}};return C.addEventListener("keydown",N),()=>C.removeEventListener("keydown",N)}},[c,w]),i.jsxs(aT,{ref:d,role:"region","aria-label":r.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&i.jsx(Sp,{ref:f,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});Df(C)}}),i.jsx(om.Slot,{scope:t,children:i.jsx(Ne.ol,{tabIndex:-1,...l,ref:x})}),S&&i.jsx(Sp,{ref:p,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});Df(C)}})]})});C1.displayName=b1;var S1="ToastFocusProxy",Sp=v.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...r}=n,l=Ku(S1,t);return i.jsx(Qu,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:u=>{const c=u.relatedTarget;!l.viewport?.contains(c)&&s()}})});Sp.displayName=S1;var ul="Toast",bT="toast.swipeStart",CT="toast.swipeMove",ST="toast.swipeCancel",_T="toast.swipeEnd",_1=v.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:r,onOpenChange:l,...u}=n,[c,d]=nr({prop:s,defaultProp:r??!0,onChange:l,caller:ul});return i.jsx(xn,{present:t||c,children:i.jsx(kT,{open:c,...u,ref:e,onClose:()=>d(!1),onPause:Et(n.onPause),onResume:Et(n.onResume),onSwipeStart:pe(n.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(n.onSwipeMove,f=>{const{x:p,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:pe(n.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(n.onSwipeEnd,f=>{const{x:p,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});_1.displayName=ul;var[NT,jT]=y1(ul,{onClose(){}}),kT=v.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:r,open:l,onClose:u,onEscapeKeyDown:c,onPause:d,onResume:f,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:x,onSwipeEnd:b,...S}=n,w=Ku(ul,t),[C,N]=v.useState(null),E=ze(e,z=>N(z)),T=v.useRef(null),M=v.useRef(null),R=r||w.duration,I=v.useRef(0),j=v.useRef(R),k=v.useRef(0),{onToastAdd:D,onToastRemove:A}=w,V=Et(()=>{C?.contains(document.activeElement)&&w.viewport?.focus(),u()}),B=v.useCallback(z=>{!z||z===1/0||(window.clearTimeout(k.current),I.current=new Date().getTime(),k.current=window.setTimeout(V,z))},[V]);v.useEffect(()=>{const z=w.viewport;if(z){const H=()=>{B(j.current),f?.()},X=()=>{const Q=new Date().getTime()-I.current;j.current=j.current-Q,window.clearTimeout(k.current),d?.()};return z.addEventListener(bp,X),z.addEventListener(Cp,H),()=>{z.removeEventListener(bp,X),z.removeEventListener(Cp,H)}}},[w.viewport,R,d,f,B]),v.useEffect(()=>{l&&!w.isClosePausedRef.current&&B(R)},[l,R,w.isClosePausedRef,B]),v.useEffect(()=>(D(),()=>A()),[D,A]);const Z=v.useMemo(()=>C?R1(C):null,[C]);return w.viewport?i.jsxs(i.Fragment,{children:[Z&&i.jsx(AT,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Z}),i.jsx(NT,{scope:t,onClose:V,children:Do.createPortal(i.jsx(om.ItemSlot,{scope:t,children:i.jsx(oT,{asChild:!0,onEscapeKeyDown:pe(c,()=>{w.isFocusedToastEscapeKeyDownRef.current||V(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ne.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...S,ref:E,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:pe(n.onKeyDown,z=>{z.key==="Escape"&&(c?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:pe(n.onPointerDown,z=>{z.button===0&&(T.current={x:z.clientX,y:z.clientY})}),onPointerMove:pe(n.onPointerMove,z=>{if(!T.current)return;const H=z.clientX-T.current.x,X=z.clientY-T.current.y,Q=!!M.current,$=["left","right"].includes(w.swipeDirection),q=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=$?q(0,H):0,O=$?0:q(0,X),Y=z.pointerType==="touch"?10:2,he={x:W,y:O},ue={originalEvent:z,delta:he};Q?(M.current=he,Gc(CT,m,ue,{discrete:!1})):a0(he,w.swipeDirection,Y)?(M.current=he,Gc(bT,p,ue,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(H)>Y||Math.abs(X)>Y)&&(T.current=null)}),onPointerUp:pe(n.onPointerUp,z=>{const H=M.current,X=z.target;if(X.hasPointerCapture(z.pointerId)&&X.releasePointerCapture(z.pointerId),M.current=null,T.current=null,H){const Q=z.currentTarget,$={originalEvent:z,delta:H};a0(H,w.swipeDirection,w.swipeThreshold)?Gc(_T,b,$,{discrete:!0}):Gc(ST,x,$,{discrete:!0}),Q.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),AT=n=>{const{__scopeToast:e,children:t,...s}=n,r=Ku(ul,e),[l,u]=v.useState(!1),[c,d]=v.useState(!1);return RT(()=>u(!0)),v.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),c?null:i.jsx(cl,{asChild:!0,children:i.jsx(Qu,{...s,children:l&&i.jsxs(i.Fragment,{children:[r.label," ",t]})})})},TT="ToastTitle",N1=v.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return i.jsx(Ne.div,{...s,ref:e})});N1.displayName=TT;var ET="ToastDescription",j1=v.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return i.jsx(Ne.div,{...s,ref:e})});j1.displayName=ET;var k1="ToastAction",A1=v.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?i.jsx(E1,{altText:t,asChild:!0,children:i.jsx(am,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${k1}\`. Expected non-empty \`string\`.`),null)});A1.displayName=k1;var T1="ToastClose",am=v.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,r=jT(T1,t);return i.jsx(E1,{asChild:!0,children:i.jsx(Ne.button,{type:"button",...s,ref:e,onClick:pe(n.onClick,r.onClose)})})});am.displayName=T1;var E1=v.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...r}=n;return i.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function R1(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),MT(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",l=s.dataset.radixToastAnnounceExclude==="";if(!r)if(l){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...R1(s))}}),e}function Gc(n,e,t,{discrete:s}){const r=t.originalEvent.currentTarget,l=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?rm(r,l):r.dispatchEvent(l)}var a0=(n,e,t=0)=>{const s=Math.abs(n.x),r=Math.abs(n.y),l=s>r;return e==="left"||e==="right"?l&&s>t:!l&&r>t};function RT(n=()=>{}){const e=Et(n);Pt(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function MT(n){return n.nodeType===n.ELEMENT_NODE}function PT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Df(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var OT=w1,M1=C1,P1=_1,O1=N1,I1=j1,D1=A1,V1=am;function F1(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=F1(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function L1(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=F1(n))&&(s&&(s+=" "),s+=e);return s}const l0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,c0=L1,Yu=(n,e)=>t=>{var s;if(e?.variants==null)return c0(n,t?.class,t?.className);const{variants:r,defaultVariants:l}=e,u=Object.keys(r).map(f=>{const p=t?.[f],m=l?.[f];if(p===null)return null;const x=l0(p)||l0(m);return r[f][x]}),c=t&&Object.entries(t).reduce((f,p)=>{let[m,x]=p;return x===void 0||(f[m]=x),f},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((f,p)=>{let{class:m,className:x,...b}=p;return Object.entries(b).every(S=>{let[w,C]=S;return Array.isArray(C)?C.includes({...l,...c}[w]):{...l,...c}[w]===C})?[...f,m,x]:f},[]);return c0(n,u,d,t?.class,t?.className)};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=v.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:u,...c},d)=>v.createElement("svg",{ref:d,...DT,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:z1("lucide",r),...c},[...u.map(([f,p])=>v.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(n,e)=>{const t=v.forwardRef(({className:s,...r},l)=>v.createElement(VT,{ref:l,iconNode:e,className:z1(`lucide-${IT(n)}`,s),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ve("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ve("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ve("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ve("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ve("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ve("Drum",[["path",{d:"m2 2 8 8",key:"1v6059"}],["path",{d:"m22 2-8 8",key:"173r8a"}],["ellipse",{cx:"12",cy:"9",rx:"10",ry:"5",key:"liohsx"}],["path",{d:"M7 13.4v7.9",key:"1yi6u9"}],["path",{d:"M12 14v8",key:"1tn2tj"}],["path",{d:"M17 13.4v7.9",key:"eqz2v3"}],["path",{d:"M2 9v8a10 5 0 0 0 20 0V9",key:"1750ul"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ve("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=ve("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=ve("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=ve("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ve("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=ve("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=ve("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ve("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ve("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ve("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ve("Piano",[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ve("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ve("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ve("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ve("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ve("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ve("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ve("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=ve("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=ve("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),xm="-",mE=n=>{const e=xE(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:u=>{const c=u.split(xm);return c[0]===""&&c.length!==1&&c.shift(),X1(c,e)||gE(u)},getConflictingClassGroupIds:(u,c)=>{const d=t[u]||[];return c&&s[u]?[...d,...s[u]]:d}}},X1=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?X1(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const l=n.join(xm);return e.validators.find(({validator:u})=>u(l))?.classGroupId},m0=/^\[(.+)\]$/,gE=n=>{if(m0.test(n)){const e=m0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},xE=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return yE(Object.entries(n.classGroups),t).forEach(([l,u])=>{_p(u,s,l,e)}),s},_p=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const l=r===""?e:g0(e,r);l.classGroupId=t;return}if(typeof r=="function"){if(vE(r)){_p(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([l,u])=>{_p(u,g0(e,l),t,s)})})},g0=(n,e)=>{let t=n;return e.split(xm).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},vE=n=>n.isThemeGetter,yE=(n,e)=>e?n.map(([t,s])=>{const r=s.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,c])=>[e+u,c])):l);return[t,r]}):n,wE=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(l,u)=>{t.set(l,u),e++,e>n&&(e=0,s=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=s.get(l))!==void 0)return r(l,u),u},set(l,u){t.has(l)?t.set(l,u):r(l,u)}}},Z1="!",bE=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],l=e.length,u=c=>{const d=[];let f=0,p=0,m;for(let C=0;C<c.length;C++){let N=c[C];if(f===0){if(N===r&&(s||c.slice(C,C+l)===e)){d.push(c.slice(p,C)),p=C+l;continue}if(N==="/"){m=C;continue}}N==="["?f++:N==="]"&&f--}const x=d.length===0?c:c.substring(p),b=x.startsWith(Z1),S=b?x.substring(1):x,w=m&&m>p?m-p:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:w}};return t?c=>t({className:c,parseClassName:u}):u},CE=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},SE=n=>({cache:wE(n.cacheSize),parseClassName:bE(n),...mE(n)}),_E=/\s+/,NE=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,l=[],u=n.trim().split(_E);let c="";for(let d=u.length-1;d>=0;d-=1){const f=u[d],{modifiers:p,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:b}=t(f);let S=!!b,w=s(S?x.substring(0,b):x);if(!w){if(!S){c=f+(c.length>0?" "+c:c);continue}if(w=s(x),!w){c=f+(c.length>0?" "+c:c);continue}S=!1}const C=CE(p).join(":"),N=m?C+Z1:C,E=N+w;if(l.includes(E))continue;l.push(E);const T=r(w,S);for(let M=0;M<T.length;++M){const R=T[M];l.push(N+R)}c=f+(c.length>0?" "+c:c)}return c};function jE(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=J1(e))&&(s&&(s+=" "),s+=t);return s}const J1=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=J1(n[s]))&&(t&&(t+=" "),t+=e);return t};function kE(n,...e){let t,s,r,l=u;function u(d){const f=e.reduce((p,m)=>m(p),n());return t=SE(f),s=t.cache.get,r=t.cache.set,l=c,c(d)}function c(d){const f=s(d);if(f)return f;const p=NE(d,t);return r(d,p),p}return function(){return l(jE.apply(null,arguments))}}const ht=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},eb=/^\[(?:([a-z-]+):)?(.+)\]$/i,AE=/^\d+\/\d+$/,TE=new Set(["px","full","screen"]),EE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ME=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=n=>So(n)||TE.has(n)||AE.test(n),Mr=n=>Bo(n,"length",qE),So=n=>!!n&&!Number.isNaN(Number(n)),Vf=n=>Bo(n,"number",So),za=n=>!!n&&Number.isInteger(Number(n)),IE=n=>n.endsWith("%")&&So(n.slice(0,-1)),We=n=>eb.test(n),Pr=n=>EE.test(n),DE=new Set(["length","size","percentage"]),VE=n=>Bo(n,DE,tb),FE=n=>Bo(n,"position",tb),LE=new Set(["image","url"]),zE=n=>Bo(n,LE,$E),BE=n=>Bo(n,"",GE),Ba=()=>!0,Bo=(n,e,t)=>{const s=eb.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},qE=n=>RE.test(n)&&!ME.test(n),tb=()=>!1,GE=n=>PE.test(n),$E=n=>OE.test(n),WE=()=>{const n=ht("colors"),e=ht("spacing"),t=ht("blur"),s=ht("brightness"),r=ht("borderColor"),l=ht("borderRadius"),u=ht("borderSpacing"),c=ht("borderWidth"),d=ht("contrast"),f=ht("grayscale"),p=ht("hueRotate"),m=ht("invert"),x=ht("gap"),b=ht("gradientColorStops"),S=ht("gradientColorStopPositions"),w=ht("inset"),C=ht("margin"),N=ht("opacity"),E=ht("padding"),T=ht("saturate"),M=ht("scale"),R=ht("sepia"),I=ht("skew"),j=ht("space"),k=ht("translate"),D=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",We,e],B=()=>[We,e],Z=()=>["",Qs,Mr],z=()=>["auto",So,We],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",We],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[So,We];return{cacheSize:500,separator:":",theme:{colors:[Ba],spacing:[Qs,Mr],blur:["none","",Pr,We],brightness:O(),borderColor:[n],borderRadius:["none","","full",Pr,We],borderSpacing:B(),borderWidth:Z(),contrast:O(),grayscale:q(),hueRotate:O(),invert:q(),gap:B(),gradientColorStops:[n],gradientColorStopPositions:[IE,Mr],inset:V(),margin:V(),opacity:O(),padding:B(),saturate:O(),scale:O(),sepia:q(),skew:O(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Pr]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),We]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",za,We]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",za,We]}],"grid-cols":[{"grid-cols":[Ba]}],"col-start-end":[{col:["auto",{span:["full",za,We]},We]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ba]}],"row-start-end":[{row:["auto",{span:[za,We]},We]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[Pr]},Pr]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vf]}],"font-family":[{font:[Ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",So,Vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,Mr]}],"underline-offset":[{"underline-offset":["auto",Qs,We]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),FE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zE]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:X()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Qs,We]}],"outline-w":[{outline:[Qs,Mr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Qs,Mr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Pr,BE]}],"shadow-color":[{shadow:[Ba]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Pr,We]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[T]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[za,We]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Qs,Mr,Vf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UE=kE(WE);function Ee(...n){return UE(L1(n))}const HE=OT,nb=v.forwardRef(({className:n,...e},t)=>i.jsx(M1,{ref:t,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));nb.displayName=M1.displayName;const QE=Yu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sb=v.forwardRef(({className:n,variant:e,...t},s)=>i.jsx(P1,{ref:s,className:Ee(QE({variant:e}),n),...t}));sb.displayName=P1.displayName;const KE=v.forwardRef(({className:n,...e},t)=>i.jsx(D1,{ref:t,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));KE.displayName=D1.displayName;const rb=v.forwardRef(({className:n,...e},t)=>i.jsx(V1,{ref:t,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:i.jsx(gm,{className:"h-4 w-4"})}));rb.displayName=V1.displayName;const ib=v.forwardRef(({className:n,...e},t)=>i.jsx(O1,{ref:t,className:Ee("text-sm font-semibold",n),...e}));ib.displayName=O1.displayName;const ob=v.forwardRef(({className:n,...e},t)=>i.jsx(I1,{ref:t,className:Ee("text-sm opacity-90",n),...e}));ob.displayName=I1.displayName;function YE(){const{toasts:n}=ar();return i.jsxs(HE,{children:[n.map(function({id:e,title:t,description:s,action:r,...l}){return i.jsxs(sb,{...l,children:[i.jsxs("div",{className:"grid gap-1",children:[t&&i.jsx(ib,{children:t}),s&&i.jsx(ob,{children:s})]}),r,i.jsx(rb,{})]},e)}),i.jsx(nb,{})]})}var XE=Yp[" useId ".trim().toString()]||(()=>{}),ZE=0;function As(n){const[e,t]=v.useState(XE());return Pt(()=>{t(s=>s??String(ZE++))},[n]),e?`radix-${e}`:""}const JE=["top","right","bottom","left"],$r=Math.min,In=Math.max,gu=Math.round,$c=Math.floor,Ts=n=>({x:n,y:n}),eR={left:"right",right:"left",bottom:"top",top:"bottom"},tR={start:"end",end:"start"};function Np(n,e,t){return In(n,$r(e,t))}function ir(n,e){return typeof n=="function"?n(e):n}function or(n){return n.split("-")[0]}function qo(n){return n.split("-")[1]}function vm(n){return n==="x"?"y":"x"}function ym(n){return n==="y"?"height":"width"}const nR=new Set(["top","bottom"]);function ks(n){return nR.has(or(n))?"y":"x"}function wm(n){return vm(ks(n))}function sR(n,e,t){t===void 0&&(t=!1);const s=qo(n),r=wm(n),l=ym(r);let u=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=xu(u)),[u,xu(u)]}function rR(n){const e=xu(n);return[jp(n),e,jp(e)]}function jp(n){return n.replace(/start|end/g,e=>tR[e])}const x0=["left","right"],v0=["right","left"],iR=["top","bottom"],oR=["bottom","top"];function aR(n,e,t){switch(n){case"top":case"bottom":return t?e?v0:x0:e?x0:v0;case"left":case"right":return e?iR:oR;default:return[]}}function lR(n,e,t,s){const r=qo(n);let l=aR(or(n),t==="start",s);return r&&(l=l.map(u=>u+"-"+r),e&&(l=l.concat(l.map(jp)))),l}function xu(n){return n.replace(/left|right|bottom|top/g,e=>eR[e])}function cR(n){return{top:0,right:0,bottom:0,left:0,...n}}function ab(n){return typeof n!="number"?cR(n):{top:n,right:n,bottom:n,left:n}}function vu(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function y0(n,e,t){let{reference:s,floating:r}=n;const l=ks(e),u=wm(e),c=ym(u),d=or(e),f=l==="y",p=s.x+s.width/2-r.width/2,m=s.y+s.height/2-r.height/2,x=s[c]/2-r[c]/2;let b;switch(d){case"top":b={x:p,y:s.y-r.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:m};break;case"left":b={x:s.x-r.width,y:m};break;default:b={x:s.x,y:s.y}}switch(qo(e)){case"start":b[u]-=x*(t&&f?-1:1);break;case"end":b[u]+=x*(t&&f?-1:1);break}return b}const uR=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:l=[],platform:u}=t,c=l.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let f=await u.getElementRects({reference:n,floating:e,strategy:r}),{x:p,y:m}=y0(f,s,d),x=s,b={},S=0;for(let w=0;w<c.length;w++){const{name:C,fn:N}=c[w],{x:E,y:T,data:M,reset:R}=await N({x:p,y:m,initialPlacement:s,placement:x,strategy:r,middlewareData:b,rects:f,platform:u,elements:{reference:n,floating:e}});p=E??p,m=T??m,b={...b,[C]:{...b[C],...M}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(f=R.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:r}):R.rects),{x:p,y:m}=y0(f,x,d)),w=-1)}return{x:p,y:m,placement:x,strategy:r,middlewareData:b}};async function Xa(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:l,rects:u,elements:c,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:b=0}=ir(e,n),S=ab(b),C=c[x?m==="floating"?"reference":"floating":m],N=vu(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(C)))==null||t?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),E=m==="floating"?{x:s,y:r,width:u.floating.width,height:u.floating.height}:u.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),M=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},R=vu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:T,strategy:d}):E);return{top:(N.top-R.top+S.top)/M.y,bottom:(R.bottom-N.bottom+S.bottom)/M.y,left:(N.left-R.left+S.left)/M.x,right:(R.right-N.right+S.right)/M.x}}const dR=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:l,platform:u,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=ir(n,e)||{};if(f==null)return{};const m=ab(p),x={x:t,y:s},b=wm(r),S=ym(b),w=await u.getDimensions(f),C=b==="y",N=C?"top":"left",E=C?"bottom":"right",T=C?"clientHeight":"clientWidth",M=l.reference[S]+l.reference[b]-x[b]-l.floating[S],R=x[b]-l.reference[b],I=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let j=I?I[T]:0;(!j||!await(u.isElement==null?void 0:u.isElement(I)))&&(j=c.floating[T]||l.floating[S]);const k=M/2-R/2,D=j/2-w[S]/2-1,A=$r(m[N],D),V=$r(m[E],D),B=A,Z=j-w[S]-V,z=j/2-w[S]/2+k,H=Np(B,z,Z),X=!d.arrow&&qo(r)!=null&&z!==H&&l.reference[S]/2-(z<B?A:V)-w[S]/2<0,Q=X?z<B?z-B:z-Z:0;return{[b]:x[b]+Q,data:{[b]:H,centerOffset:z-H-Q,...X&&{alignmentOffset:Q}},reset:X}}}),hR=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:l,rects:u,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...C}=ir(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const N=or(r),E=ks(c),T=or(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(f.floating)),R=x||(T||!w?[xu(c)]:rR(c)),I=S!=="none";!x&&I&&R.push(...lR(c,w,S,M));const j=[c,...R],k=await Xa(e,C),D=[];let A=((s=l.flip)==null?void 0:s.overflows)||[];if(p&&D.push(k[N]),m){const z=sR(r,u,M);D.push(k[z[0]],k[z[1]])}if(A=[...A,{placement:r,overflows:D}],!D.every(z=>z<=0)){var V,B;const z=(((V=l.flip)==null?void 0:V.index)||0)+1,H=j[z];if(H&&(!(m==="alignment"?E!==ks(H):!1)||A.every($=>ks($.placement)===E?$.overflows[0]>0:!0)))return{data:{index:z,overflows:A},reset:{placement:H}};let X=(B=A.filter(Q=>Q.overflows[0]<=0).sort((Q,$)=>Q.overflows[1]-$.overflows[1])[0])==null?void 0:B.placement;if(!X)switch(b){case"bestFit":{var Z;const Q=(Z=A.filter($=>{if(I){const q=ks($.placement);return q===E||q==="y"}return!0}).map($=>[$.placement,$.overflows.filter(q=>q>0).reduce((q,W)=>q+W,0)]).sort(($,q)=>$[1]-q[1])[0])==null?void 0:Z[0];Q&&(X=Q);break}case"initialPlacement":X=c;break}if(r!==X)return{reset:{placement:X}}}return{}}}};function w0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function b0(n){return JE.some(e=>n[e]>=0)}const fR=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=ir(n,e);switch(s){case"referenceHidden":{const l=await Xa(e,{...r,elementContext:"reference"}),u=w0(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:b0(u)}}}case"escaped":{const l=await Xa(e,{...r,altBoundary:!0}),u=w0(l,t.floating);return{data:{escapedOffsets:u,escaped:b0(u)}}}default:return{}}}}},lb=new Set(["left","top"]);async function pR(n,e){const{placement:t,platform:s,elements:r}=n,l=await(s.isRTL==null?void 0:s.isRTL(r.floating)),u=or(t),c=qo(t),d=ks(t)==="y",f=lb.has(u)?-1:1,p=l&&d?-1:1,m=ir(e,n);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof S=="number"&&(b=c==="end"?S*-1:S),d?{x:b*p,y:x*f}:{x:x*f,y:b*p}}const mR=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:l,placement:u,middlewareData:c}=e,d=await pR(e,n);return u===((t=c.offset)==null?void 0:t.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:r+d.x,y:l+d.y,data:{...d,placement:u}}}}},gR=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:c={fn:C=>{let{x:N,y:E}=C;return{x:N,y:E}}},...d}=ir(n,e),f={x:t,y:s},p=await Xa(e,d),m=ks(or(r)),x=vm(m);let b=f[x],S=f[m];if(l){const C=x==="y"?"top":"left",N=x==="y"?"bottom":"right",E=b+p[C],T=b-p[N];b=Np(E,b,T)}if(u){const C=m==="y"?"top":"left",N=m==="y"?"bottom":"right",E=S+p[C],T=S-p[N];S=Np(E,S,T)}const w=c.fn({...e,[x]:b,[m]:S});return{...w,data:{x:w.x-t,y:w.y-s,enabled:{[x]:l,[m]:u}}}}}},xR=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:l,middlewareData:u}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=ir(n,e),p={x:t,y:s},m=ks(r),x=vm(m);let b=p[x],S=p[m];const w=ir(c,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const T=x==="y"?"height":"width",M=l.reference[x]-l.floating[T]+C.mainAxis,R=l.reference[x]+l.reference[T]-C.mainAxis;b<M?b=M:b>R&&(b=R)}if(f){var N,E;const T=x==="y"?"width":"height",M=lb.has(or(r)),R=l.reference[m]-l.floating[T]+(M&&((N=u.offset)==null?void 0:N[m])||0)+(M?0:C.crossAxis),I=l.reference[m]+l.reference[T]+(M?0:((E=u.offset)==null?void 0:E[m])||0)-(M?C.crossAxis:0);S<R?S=R:S>I&&(S=I)}return{[x]:b,[m]:S}}}},vR=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:l,platform:u,elements:c}=e,{apply:d=()=>{},...f}=ir(n,e),p=await Xa(e,f),m=or(r),x=qo(r),b=ks(r)==="y",{width:S,height:w}=l.floating;let C,N;m==="top"||m==="bottom"?(C=m,N=x===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(N=m,C=x==="end"?"top":"bottom");const E=w-p.top-p.bottom,T=S-p.left-p.right,M=$r(w-p[C],E),R=$r(S-p[N],T),I=!e.middlewareData.shift;let j=M,k=R;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=T),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(j=E),I&&!x){const A=In(p.left,0),V=In(p.right,0),B=In(p.top,0),Z=In(p.bottom,0);b?k=S-2*(A!==0||V!==0?A+V:In(p.left,p.right)):j=w-2*(B!==0||Z!==0?B+Z:In(p.top,p.bottom))}await d({...e,availableWidth:k,availableHeight:j});const D=await u.getDimensions(c.floating);return S!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function Xu(){return typeof window<"u"}function Go(n){return cb(n)?(n.nodeName||"").toLowerCase():"#document"}function Ln(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Is(n){var e;return(e=(cb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function cb(n){return Xu()?n instanceof Node||n instanceof Ln(n).Node:!1}function ds(n){return Xu()?n instanceof Element||n instanceof Ln(n).Element:!1}function Rs(n){return Xu()?n instanceof HTMLElement||n instanceof Ln(n).HTMLElement:!1}function C0(n){return!Xu()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ln(n).ShadowRoot}const yR=new Set(["inline","contents"]);function dl(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=hs(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!yR.has(r)}const wR=new Set(["table","td","th"]);function bR(n){return wR.has(Go(n))}const CR=[":popover-open",":modal"];function Zu(n){return CR.some(e=>{try{return n.matches(e)}catch{return!1}})}const SR=["transform","translate","scale","rotate","perspective"],_R=["transform","translate","scale","rotate","perspective","filter"],NR=["paint","layout","strict","content"];function bm(n){const e=Cm(),t=ds(n)?hs(n):n;return SR.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||_R.some(s=>(t.willChange||"").includes(s))||NR.some(s=>(t.contain||"").includes(s))}function jR(n){let e=Wr(n);for(;Rs(e)&&!ko(e);){if(bm(e))return e;if(Zu(e))return null;e=Wr(e)}return null}function Cm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kR=new Set(["html","body","#document"]);function ko(n){return kR.has(Go(n))}function hs(n){return Ln(n).getComputedStyle(n)}function Ju(n){return ds(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Wr(n){if(Go(n)==="html")return n;const e=n.assignedSlot||n.parentNode||C0(n)&&n.host||Is(n);return C0(e)?e.host:e}function ub(n){const e=Wr(n);return ko(e)?n.ownerDocument?n.ownerDocument.body:n.body:Rs(e)&&dl(e)?e:ub(e)}function Za(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=ub(n),l=r===((s=n.ownerDocument)==null?void 0:s.body),u=Ln(r);if(l){const c=kp(u);return e.concat(u,u.visualViewport||[],dl(r)?r:[],c&&t?Za(c):[])}return e.concat(r,Za(r,[],t))}function kp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function db(n){const e=hs(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Rs(n),l=r?n.offsetWidth:t,u=r?n.offsetHeight:s,c=gu(t)!==l||gu(s)!==u;return c&&(t=l,s=u),{width:t,height:s,$:c}}function Sm(n){return ds(n)?n:n.contextElement}function _o(n){const e=Sm(n);if(!Rs(e))return Ts(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:l}=db(e);let u=(l?gu(t.width):t.width)/s,c=(l?gu(t.height):t.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const AR=Ts(0);function hb(n){const e=Ln(n);return!Cm()||!e.visualViewport?AR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TR(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ln(n)?!1:e}function ki(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),l=Sm(n);let u=Ts(1);e&&(s?ds(s)&&(u=_o(s)):u=_o(n));const c=TR(l,t,s)?hb(l):Ts(0);let d=(r.left+c.x)/u.x,f=(r.top+c.y)/u.y,p=r.width/u.x,m=r.height/u.y;if(l){const x=Ln(l),b=s&&ds(s)?Ln(s):s;let S=x,w=kp(S);for(;w&&s&&b!==S;){const C=_o(w),N=w.getBoundingClientRect(),E=hs(w),T=N.left+(w.clientLeft+parseFloat(E.paddingLeft))*C.x,M=N.top+(w.clientTop+parseFloat(E.paddingTop))*C.y;d*=C.x,f*=C.y,p*=C.x,m*=C.y,d+=T,f+=M,S=Ln(w),w=kp(S)}}return vu({width:p,height:m,x:d,y:f})}function ed(n,e){const t=Ju(n).scrollLeft;return e?e.left+t:ki(Is(n)).left+t}function fb(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-ed(n,t),r=t.top+e.scrollTop;return{x:s,y:r}}function ER(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const l=r==="fixed",u=Is(s),c=e?Zu(e.floating):!1;if(s===u||c&&l)return t;let d={scrollLeft:0,scrollTop:0},f=Ts(1);const p=Ts(0),m=Rs(s);if((m||!m&&!l)&&((Go(s)!=="body"||dl(u))&&(d=Ju(s)),Rs(s))){const b=ki(s);f=_o(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const x=u&&!m&&!l?fb(u,d):Ts(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+x.x,y:t.y*f.y-d.scrollTop*f.y+p.y+x.y}}function RR(n){return Array.from(n.getClientRects())}function MR(n){const e=Is(n),t=Ju(n),s=n.ownerDocument.body,r=In(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=In(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-t.scrollLeft+ed(n);const c=-t.scrollTop;return hs(s).direction==="rtl"&&(u+=In(e.clientWidth,s.clientWidth)-r),{width:r,height:l,x:u,y:c}}const S0=25;function PR(n,e){const t=Ln(n),s=Is(n),r=t.visualViewport;let l=s.clientWidth,u=s.clientHeight,c=0,d=0;if(r){l=r.width,u=r.height;const p=Cm();(!p||p&&e==="fixed")&&(c=r.offsetLeft,d=r.offsetTop)}const f=ed(s);if(f<=0){const p=s.ownerDocument,m=p.body,x=getComputedStyle(m),b=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(s.clientWidth-m.clientWidth-b);S<=S0&&(l-=S)}else f<=S0&&(l+=f);return{width:l,height:u,x:c,y:d}}const OR=new Set(["absolute","fixed"]);function IR(n,e){const t=ki(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,l=Rs(n)?_o(n):Ts(1),u=n.clientWidth*l.x,c=n.clientHeight*l.y,d=r*l.x,f=s*l.y;return{width:u,height:c,x:d,y:f}}function _0(n,e,t){let s;if(e==="viewport")s=PR(n,t);else if(e==="document")s=MR(Is(n));else if(ds(e))s=IR(e,t);else{const r=hb(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return vu(s)}function pb(n,e){const t=Wr(n);return t===e||!ds(t)||ko(t)?!1:hs(t).position==="fixed"||pb(t,e)}function DR(n,e){const t=e.get(n);if(t)return t;let s=Za(n,[],!1).filter(c=>ds(c)&&Go(c)!=="body"),r=null;const l=hs(n).position==="fixed";let u=l?Wr(n):n;for(;ds(u)&&!ko(u);){const c=hs(u),d=bm(u);!d&&c.position==="fixed"&&(r=null),(l?!d&&!r:!d&&c.position==="static"&&!!r&&OR.has(r.position)||dl(u)&&!d&&pb(n,u))?s=s.filter(p=>p!==u):r=c,u=Wr(u)}return e.set(n,s),s}function VR(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const u=[...t==="clippingAncestors"?Zu(e)?[]:DR(e,this._c):[].concat(t),s],c=u[0],d=u.reduce((f,p)=>{const m=_0(e,p,r);return f.top=In(m.top,f.top),f.right=$r(m.right,f.right),f.bottom=$r(m.bottom,f.bottom),f.left=In(m.left,f.left),f},_0(e,c,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function FR(n){const{width:e,height:t}=db(n);return{width:e,height:t}}function LR(n,e,t){const s=Rs(e),r=Is(e),l=t==="fixed",u=ki(n,!0,l,e);let c={scrollLeft:0,scrollTop:0};const d=Ts(0);function f(){d.x=ed(r)}if(s||!s&&!l)if((Go(e)!=="body"||dl(r))&&(c=Ju(e)),s){const b=ki(e,!0,l,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else r&&f();l&&!s&&r&&f();const p=r&&!s&&!l?fb(r,c):Ts(0),m=u.left+c.scrollLeft-d.x-p.x,x=u.top+c.scrollTop-d.y-p.y;return{x:m,y:x,width:u.width,height:u.height}}function Ff(n){return hs(n).position==="static"}function N0(n,e){if(!Rs(n)||hs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Is(n)===t&&(t=t.ownerDocument.body),t}function mb(n,e){const t=Ln(n);if(Zu(n))return t;if(!Rs(n)){let r=Wr(n);for(;r&&!ko(r);){if(ds(r)&&!Ff(r))return r;r=Wr(r)}return t}let s=N0(n,e);for(;s&&bR(s)&&Ff(s);)s=N0(s,e);return s&&ko(s)&&Ff(s)&&!bm(s)?t:s||jR(n)||t}const zR=async function(n){const e=this.getOffsetParent||mb,t=this.getDimensions,s=await t(n.floating);return{reference:LR(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function BR(n){return hs(n).direction==="rtl"}const qR={convertOffsetParentRelativeRectToViewportRelativeRect:ER,getDocumentElement:Is,getClippingRect:VR,getOffsetParent:mb,getElementRects:zR,getClientRects:RR,getDimensions:FR,getScale:_o,isElement:ds,isRTL:BR};function gb(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function GR(n,e){let t=null,s;const r=Is(n);function l(){var c;clearTimeout(s),(c=t)==null||c.disconnect(),t=null}function u(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),l();const f=n.getBoundingClientRect(),{left:p,top:m,width:x,height:b}=f;if(c||e(),!x||!b)return;const S=$c(m),w=$c(r.clientWidth-(p+x)),C=$c(r.clientHeight-(m+b)),N=$c(p),T={rootMargin:-S+"px "+-w+"px "+-C+"px "+-N+"px",threshold:In(0,$r(1,d))||1};let M=!0;function R(I){const j=I[0].intersectionRatio;if(j!==d){if(!M)return u();j?u(!1,j):s=setTimeout(()=>{u(!1,1e-7)},1e3)}j===1&&!gb(f,n.getBoundingClientRect())&&u(),M=!1}try{t=new IntersectionObserver(R,{...T,root:r.ownerDocument})}catch{t=new IntersectionObserver(R,T)}t.observe(n)}return u(!0),l}function $R(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,f=Sm(n),p=r||l?[...f?Za(f):[],...Za(e)]:[];p.forEach(N=>{r&&N.addEventListener("scroll",t,{passive:!0}),l&&N.addEventListener("resize",t)});const m=f&&c?GR(f,t):null;let x=-1,b=null;u&&(b=new ResizeObserver(N=>{let[E]=N;E&&E.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var T;(T=b)==null||T.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let S,w=d?ki(n):null;d&&C();function C(){const N=ki(n);w&&!gb(w,N)&&t(),w=N,S=requestAnimationFrame(C)}return t(),()=>{var N;p.forEach(E=>{r&&E.removeEventListener("scroll",t),l&&E.removeEventListener("resize",t)}),m?.(),(N=b)==null||N.disconnect(),b=null,d&&cancelAnimationFrame(S)}}const WR=mR,UR=gR,HR=hR,QR=vR,KR=fR,j0=dR,YR=xR,XR=(n,e,t)=>{const s=new Map,r={platform:qR,...t},l={...r.platform,_c:s};return uR(n,e,{...r,platform:l})};var ZR=typeof document<"u",JR=function(){},iu=ZR?v.useLayoutEffect:JR;function yu(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!yu(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const l=r[s];if(!(l==="_owner"&&n.$$typeof)&&!yu(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function xb(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function k0(n,e){const t=xb(n);return Math.round(e*t)/t}function Lf(n){const e=v.useRef(n);return iu(()=>{e.current=n}),e}function eM(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:l,floating:u}={},transform:c=!0,whileElementsMounted:d,open:f}=n,[p,m]=v.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=v.useState(s);yu(x,s)||b(s);const[S,w]=v.useState(null),[C,N]=v.useState(null),E=v.useCallback($=>{$!==I.current&&(I.current=$,w($))},[]),T=v.useCallback($=>{$!==j.current&&(j.current=$,N($))},[]),M=l||S,R=u||C,I=v.useRef(null),j=v.useRef(null),k=v.useRef(p),D=d!=null,A=Lf(d),V=Lf(r),B=Lf(f),Z=v.useCallback(()=>{if(!I.current||!j.current)return;const $={placement:e,strategy:t,middleware:x};V.current&&($.platform=V.current),XR(I.current,j.current,$).then(q=>{const W={...q,isPositioned:B.current!==!1};z.current&&!yu(k.current,W)&&(k.current=W,Do.flushSync(()=>{m(W)}))})},[x,e,t,V,B]);iu(()=>{f===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m($=>({...$,isPositioned:!1})))},[f]);const z=v.useRef(!1);iu(()=>(z.current=!0,()=>{z.current=!1}),[]),iu(()=>{if(M&&(I.current=M),R&&(j.current=R),M&&R){if(A.current)return A.current(M,R,Z);Z()}},[M,R,Z,A,D]);const H=v.useMemo(()=>({reference:I,floating:j,setReference:E,setFloating:T}),[E,T]),X=v.useMemo(()=>({reference:M,floating:R}),[M,R]),Q=v.useMemo(()=>{const $={position:t,left:0,top:0};if(!X.floating)return $;const q=k0(X.floating,p.x),W=k0(X.floating,p.y);return c?{...$,transform:"translate("+q+"px, "+W+"px)",...xb(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:q,top:W}},[t,c,X.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:Z,refs:H,elements:X,floatingStyles:Q}),[p,Z,H,X,Q])}const tM=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?j0({element:s.current,padding:r}).fn(t):{}:s?j0({element:s,padding:r}).fn(t):{}}}},nM=(n,e)=>({...WR(n),options:[n,e]}),sM=(n,e)=>({...UR(n),options:[n,e]}),rM=(n,e)=>({...YR(n),options:[n,e]}),iM=(n,e)=>({...HR(n),options:[n,e]}),oM=(n,e)=>({...QR(n),options:[n,e]}),aM=(n,e)=>({...KR(n),options:[n,e]}),lM=(n,e)=>({...tM(n),options:[n,e]});var cM="Arrow",vb=v.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...l}=n;return i.jsx(Ne.svg,{...l,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});vb.displayName=cM;var uM=vb;function _m(n){const[e,t]=v.useState(void 0);return Pt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let u,c;if("borderBoxSize"in l){const d=l.borderBoxSize,f=Array.isArray(d)?d[0]:d;u=f.inlineSize,c=f.blockSize}else u=n.offsetWidth,c=n.offsetHeight;t({width:u,height:c})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var Nm="Popper",[yb,$o]=gn(Nm),[dM,wb]=yb(Nm),bb=n=>{const{__scopePopper:e,children:t}=n,[s,r]=v.useState(null);return i.jsx(dM,{scope:e,anchor:s,onAnchorChange:r,children:t})};bb.displayName=Nm;var Cb="PopperAnchor",Sb=v.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,l=wb(Cb,t),u=v.useRef(null),c=ze(e,u),d=v.useRef(null);return v.useEffect(()=>{const f=d.current;d.current=s?.current||u.current,f!==d.current&&l.onAnchorChange(d.current)}),s?null:i.jsx(Ne.div,{...r,ref:c})});Sb.displayName=Cb;var jm="PopperContent",[hM,fM]=yb(jm),_b=v.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:l="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:S,...w}=n,C=wb(jm,t),[N,E]=v.useState(null),T=ze(e,L=>E(L)),[M,R]=v.useState(null),I=_m(M),j=I?.width??0,k=I?.height??0,D=s+(l!=="center"?"-"+l:""),A=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(f)?f:[f],B=V.length>0,Z={padding:A,boundary:V.filter(mM),altBoundary:B},{refs:z,floatingStyles:H,placement:X,isPositioned:Q,middlewareData:$}=eM({strategy:"fixed",placement:D,whileElementsMounted:(...L)=>$R(...L,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[nM({mainAxis:r+k,alignmentAxis:u}),d&&sM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?rM():void 0,...Z}),d&&iM({...Z}),oM({...Z,apply:({elements:L,rects:F,availableWidth:se,availableHeight:re})=>{const{width:xe,height:ge}=F.reference,Ie=L.floating.style;Ie.setProperty("--radix-popper-available-width",`${se}px`),Ie.setProperty("--radix-popper-available-height",`${re}px`),Ie.setProperty("--radix-popper-anchor-width",`${xe}px`),Ie.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),M&&lM({element:M,padding:c}),gM({arrowWidth:j,arrowHeight:k}),x&&aM({strategy:"referenceHidden",...Z})]}),[q,W]=kb(X),O=Et(S);Pt(()=>{Q&&O?.()},[Q,O]);const Y=$.arrow?.x,he=$.arrow?.y,ue=$.arrow?.centerOffset!==0,[ae,me]=v.useState();return Pt(()=>{N&&me(window.getComputedStyle(N).zIndex)},[N]),i.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Q?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:i.jsx(hM,{scope:t,placedSide:q,onArrowChange:R,arrowX:Y,arrowY:he,shouldHideArrow:ue,children:i.jsx(Ne.div,{"data-side":q,"data-align":W,...w,ref:T,style:{...w.style,animation:Q?void 0:"none"}})})})});_b.displayName=jm;var Nb="PopperArrow",pM={top:"bottom",right:"left",bottom:"top",left:"right"},jb=v.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,l=fM(Nb,s),u=pM[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(uM,{...r,ref:t,style:{...r.style,display:"block"}})})});jb.displayName=Nb;function mM(n){return n!==null}var gM=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:r}=e,u=r.arrow?.centerOffset!==0,c=u?0:n.arrowWidth,d=u?0:n.arrowHeight,[f,p]=kb(t),m={start:"0%",center:"50%",end:"100%"}[p],x=(r.arrow?.x??0)+c/2,b=(r.arrow?.y??0)+d/2;let S="",w="";return f==="bottom"?(S=u?m:`${x}px`,w=`${-d}px`):f==="top"?(S=u?m:`${x}px`,w=`${s.floating.height+d}px`):f==="right"?(S=`${-d}px`,w=u?m:`${b}px`):f==="left"&&(S=`${s.floating.width+d}px`,w=u?m:`${b}px`),{data:{x:S,y:w}}}});function kb(n){const[e,t="center"]=n.split("-");return[e,t]}var Ab=bb,km=Sb,Am=_b,Tm=jb,[td,Y8]=gn("Tooltip",[$o]),Em=$o(),Tb="TooltipProvider",xM=700,A0="tooltip.open",[vM,Eb]=td(Tb),Rb=n=>{const{__scopeTooltip:e,delayDuration:t=xM,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:l}=n,u=v.useRef(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),i.jsx(vM,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(f=>{c.current=f},[]),disableHoverableContent:r,children:l})};Rb.displayName=Tb;var Mb="Tooltip",[X8,nd]=td(Mb),Ap="TooltipTrigger",yM=v.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=nd(Ap,t),l=Eb(Ap,t),u=Em(t),c=v.useRef(null),d=ze(e,c,r.onTriggerChange),f=v.useRef(!1),p=v.useRef(!1),m=v.useCallback(()=>f.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(km,{asChild:!0,...u,children:i.jsx(Ne.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:d,onPointerMove:pe(n.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!l.isPointerInTransitRef.current&&(r.onTriggerEnter(),p.current=!0)}),onPointerLeave:pe(n.onPointerLeave,()=>{r.onTriggerLeave(),p.current=!1}),onPointerDown:pe(n.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:pe(n.onFocus,()=>{f.current||r.onOpen()}),onBlur:pe(n.onBlur,r.onClose),onClick:pe(n.onClick,r.onClose)})})});yM.displayName=Ap;var wM="TooltipPortal",[Z8,bM]=td(wM,{forceMount:void 0}),Ao="TooltipContent",Pb=v.forwardRef((n,e)=>{const t=bM(Ao,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...l}=n,u=nd(Ao,n.__scopeTooltip);return i.jsx(xn,{present:s||u.open,children:u.disableHoverableContent?i.jsx(Ob,{side:r,...l,ref:e}):i.jsx(CM,{side:r,...l,ref:e})})}),CM=v.forwardRef((n,e)=>{const t=nd(Ao,n.__scopeTooltip),s=Eb(Ao,n.__scopeTooltip),r=v.useRef(null),l=ze(e,r),[u,c]=v.useState(null),{trigger:d,onClose:f}=t,p=r.current,{onPointerInTransitChange:m}=s,x=v.useCallback(()=>{c(null),m(!1)},[m]),b=v.useCallback((S,w)=>{const C=S.currentTarget,N={x:S.clientX,y:S.clientY},E=kM(N,C.getBoundingClientRect()),T=AM(N,E),M=TM(w.getBoundingClientRect()),R=RM([...T,...M]);c(R),m(!0)},[m]);return v.useEffect(()=>()=>x(),[x]),v.useEffect(()=>{if(d&&p){const S=C=>b(C,p),w=C=>b(C,d);return d.addEventListener("pointerleave",S),p.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",w)}}},[d,p,b,x]),v.useEffect(()=>{if(u){const S=w=>{const C=w.target,N={x:w.clientX,y:w.clientY},E=d?.contains(C)||p?.contains(C),T=!EM(N,u);E?x():T&&(x(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,p,u,f,x]),i.jsx(Ob,{...n,ref:l})}),[SM,_M]=td(Mb,{isInside:!1}),NM=QA("TooltipContent"),Ob=v.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:l,onPointerDownOutside:u,...c}=n,d=nd(Ao,t),f=Em(t),{onClose:p}=d;return v.useEffect(()=>(document.addEventListener(A0,p),()=>document.removeEventListener(A0,p)),[p]),v.useEffect(()=>{if(d.trigger){const m=x=>{x.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),i.jsx(Vo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:i.jsxs(Am,{"data-state":d.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(NM,{children:s}),i.jsx(SM,{scope:t,isInside:!0,children:i.jsx(gT,{id:d.contentId,role:"tooltip",children:r||s})})]})})});Pb.displayName=Ao;var Ib="TooltipArrow",jM=v.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=Em(t);return _M(Ib,t).isInside?null:i.jsx(Tm,{...r,...s,ref:e})});jM.displayName=Ib;function kM(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),l=Math.abs(e.left-n.x);switch(Math.min(t,s,r,l)){case l:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function AM(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function TM(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function EM(n,e){const{x:t,y:s}=n;let r=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const c=e[l],d=e[u],f=c.x,p=c.y,m=d.x,x=d.y;p>s!=x>s&&t<(m-f)*(s-p)/(x-p)+f&&(r=!r)}return r}function RM(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),MM(e)}function MM(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const l=e[e.length-1],u=e[e.length-2];if((l.x-u.x)*(r.y-u.y)>=(l.y-u.y)*(r.x-u.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(r.y-u.y)>=(l.y-u.y)*(r.x-u.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var PM=Rb,Db=Pb;const OM=PM,IM=v.forwardRef(({className:n,sideOffset:e=4,...t},s)=>i.jsx(Db,{ref:s,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));IM.displayName=Db.displayName;const DM=Yu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=v.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},l)=>{const u=s?UA:"button";return i.jsx(u,{className:Ee(DM({variant:e,size:t,className:n})),ref:l,...r})});ee.displayName="Button";function VM(){return Gw.useSyncExternalStore(FM,()=>!0,()=>!1)}function FM(){return()=>{}}var Rm="Avatar",[LM,J8]=gn(Rm),[zM,Vb]=LM(Rm),Fb=v.forwardRef((n,e)=>{const{__scopeAvatar:t,...s}=n,[r,l]=v.useState("idle");return i.jsx(zM,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:l,children:i.jsx(Ne.span,{...s,ref:e})})});Fb.displayName=Rm;var Lb="AvatarImage",zb=v.forwardRef((n,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:r=()=>{},...l}=n,u=Vb(Lb,t),c=BM(s,l),d=Et(f=>{r(f),u.onImageLoadingStatusChange(f)});return Pt(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?i.jsx(Ne.img,{...l,ref:e,src:s}):null});zb.displayName=Lb;var Bb="AvatarFallback",qb=v.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:s,...r}=n,l=Vb(Bb,t),[u,c]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),u&&l.imageLoadingStatus!=="loaded"?i.jsx(Ne.span,{...r,ref:e}):null});qb.displayName=Bb;function T0(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function BM(n,{referrerPolicy:e,crossOrigin:t}){const s=VM(),r=v.useRef(null),l=s?(r.current||(r.current=new window.Image),r.current):null,[u,c]=v.useState(()=>T0(l,n));return Pt(()=>{c(T0(l,n))},[l,n]),Pt(()=>{const d=m=>()=>{c(m)};if(!l)return;const f=d("loaded"),p=d("error");return l.addEventListener("load",f),l.addEventListener("error",p),e&&(l.referrerPolicy=e),typeof t=="string"&&(l.crossOrigin=t),()=>{l.removeEventListener("load",f),l.removeEventListener("error",p)}},[l,t,e]),u}var Gb=Fb,$b=zb,Wb=qb;const Ub=v.forwardRef(({className:n,...e},t)=>i.jsx(Gb,{ref:t,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));Ub.displayName=Gb.displayName;const qM=v.forwardRef(({className:n,...e},t)=>i.jsx($b,{ref:t,className:Ee("aspect-square h-full w-full",n),...e}));qM.displayName=$b.displayName;const Hb=v.forwardRef(({className:n,...e},t)=>i.jsx(Wb,{ref:t,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));Hb.displayName=Wb.displayName;var GM=v.createContext(void 0);function Wo(n){const e=v.useContext(GM);return n||e||"ltr"}var zf=0;function Mm(){v.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??E0()),document.body.insertAdjacentElement("beforeend",n[1]??E0()),zf++,()=>{zf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zf--}},[])}function E0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Bf="focusScope.autoFocusOnMount",qf="focusScope.autoFocusOnUnmount",R0={bubbles:!1,cancelable:!0},$M="FocusScope",sd=v.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...u}=n,[c,d]=v.useState(null),f=Et(r),p=Et(l),m=v.useRef(null),x=ze(e,w=>d(w)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let w=function(T){if(b.paused||!c)return;const M=T.target;c.contains(M)?m.current=M:Ir(m.current,{select:!0})},C=function(T){if(b.paused||!c)return;const M=T.relatedTarget;M!==null&&(c.contains(M)||Ir(m.current,{select:!0}))},N=function(T){if(document.activeElement===document.body)for(const R of T)R.removedNodes.length>0&&Ir(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const E=new MutationObserver(N);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),E.disconnect()}}},[s,c,b.paused]),v.useEffect(()=>{if(c){P0.add(b);const w=document.activeElement;if(!c.contains(w)){const N=new CustomEvent(Bf,R0);c.addEventListener(Bf,f),c.dispatchEvent(N),N.defaultPrevented||(WM(YM(Qb(c)),{select:!0}),document.activeElement===w&&Ir(c))}return()=>{c.removeEventListener(Bf,f),setTimeout(()=>{const N=new CustomEvent(qf,R0);c.addEventListener(qf,p),c.dispatchEvent(N),N.defaultPrevented||Ir(w??document.body,{select:!0}),c.removeEventListener(qf,p),P0.remove(b)},0)}}},[c,f,p,b]);const S=v.useCallback(w=>{if(!t&&!s||b.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(C&&N){const E=w.currentTarget,[T,M]=UM(E);T&&M?!w.shiftKey&&N===M?(w.preventDefault(),t&&Ir(T,{select:!0})):w.shiftKey&&N===T&&(w.preventDefault(),t&&Ir(M,{select:!0})):N===E&&w.preventDefault()}},[t,s,b.paused]);return i.jsx(Ne.div,{tabIndex:-1,...u,ref:x,onKeyDown:S})});sd.displayName=$M;function WM(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(Ir(s,{select:e}),document.activeElement!==t)return}function UM(n){const e=Qb(n),t=M0(e,n),s=M0(e.reverse(),n);return[t,s]}function Qb(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function M0(n,e){for(const t of n)if(!HM(t,{upTo:e}))return t}function HM(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function QM(n){return n instanceof HTMLInputElement&&"select"in n}function Ir(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&QM(n)&&e&&n.select()}}var P0=KM();function KM(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=O0(n,e),n.unshift(e)},remove(e){n=O0(n,e),n[0]?.resume()}}}function O0(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function YM(n){return n.filter(e=>e.tagName!=="A")}var Gf="rovingFocusGroup.onEntryFocus",XM={bubbles:!1,cancelable:!0},hl="RovingFocusGroup",[Tp,Kb,ZM]=ll(hl),[JM,rd]=gn(hl,[ZM]),[eP,tP]=JM(hl),Yb=v.forwardRef((n,e)=>i.jsx(Tp.Provider,{scope:n.__scopeRovingFocusGroup,children:i.jsx(Tp.Slot,{scope:n.__scopeRovingFocusGroup,children:i.jsx(nP,{...n,ref:e})})}));Yb.displayName=hl;var nP=v.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:r=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=n,x=v.useRef(null),b=ze(e,x),S=Wo(l),[w,C]=nr({prop:u,defaultProp:c??null,onChange:d,caller:hl}),[N,E]=v.useState(!1),T=Et(f),M=Kb(t),R=v.useRef(!1),[I,j]=v.useState(0);return v.useEffect(()=>{const k=x.current;if(k)return k.addEventListener(Gf,T),()=>k.removeEventListener(Gf,T)},[T]),i.jsx(eP,{scope:t,orientation:s,dir:S,loop:r,currentTabStopId:w,onItemFocus:v.useCallback(k=>C(k),[C]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>j(k=>k-1),[]),children:i.jsx(Ne.div,{tabIndex:N||I===0?-1:0,"data-orientation":s,...m,ref:b,style:{outline:"none",...n.style},onMouseDown:pe(n.onMouseDown,()=>{R.current=!0}),onFocus:pe(n.onFocus,k=>{const D=!R.current;if(k.target===k.currentTarget&&D&&!N){const A=new CustomEvent(Gf,XM);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const V=M().filter(X=>X.focusable),B=V.find(X=>X.active),Z=V.find(X=>X.id===w),H=[B,Z,...V].filter(Boolean).map(X=>X.ref.current);Jb(H,p)}}R.current=!1}),onBlur:pe(n.onBlur,()=>E(!1))})})}),Xb="RovingFocusGroupItem",Zb=v.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:r=!1,tabStopId:l,children:u,...c}=n,d=As(),f=l||d,p=tP(Xb,t),m=p.currentTabStopId===f,x=Kb(t),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:w}=p;return v.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),i.jsx(Tp.ItemSlot,{scope:t,id:f,focusable:s,active:r,children:i.jsx(Ne.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:pe(n.onMouseDown,C=>{s?p.onItemFocus(f):C.preventDefault()}),onFocus:pe(n.onFocus,()=>p.onItemFocus(f)),onKeyDown:pe(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const N=iP(C,p.orientation,p.dir);if(N!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=x().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")T.reverse();else if(N==="prev"||N==="next"){N==="prev"&&T.reverse();const M=T.indexOf(C.currentTarget);T=p.loop?oP(T,M+1):T.slice(M+1)}setTimeout(()=>Jb(T))}}),children:typeof u=="function"?u({isCurrentTabStop:m,hasTabStop:w!=null}):u})})});Zb.displayName=Xb;var sP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rP(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function iP(n,e,t){const s=rP(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return sP[s]}function Jb(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function oP(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var eC=Yb,tC=Zb,aP=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},uo=new WeakMap,Wc=new WeakMap,Uc={},$f=0,nC=function(n){return n&&(n.host||nC(n.parentNode))},lP=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=nC(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},cP=function(n,e,t,s){var r=lP(e,Array.isArray(n)?n:[n]);Uc[t]||(Uc[t]=new WeakMap);var l=Uc[t],u=[],c=new Set,d=new Set(r),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};r.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(c.has(x))p(x);else try{var b=x.getAttribute(s),S=b!==null&&b!=="false",w=(uo.get(x)||0)+1,C=(l.get(x)||0)+1;uo.set(x,w),l.set(x,C),u.push(x),w===1&&S&&Wc.set(x,!0),C===1&&x.setAttribute(t,"true"),S||x.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return p(e),c.clear(),$f++,function(){u.forEach(function(m){var x=uo.get(m)-1,b=l.get(m)-1;uo.set(m,x),l.set(m,b),x||(Wc.has(m)||m.removeAttribute(s),Wc.delete(m)),b||m.removeAttribute(t)}),$f--,$f||(uo=new WeakMap,uo=new WeakMap,Wc=new WeakMap,Uc={})}},Pm=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),r=aP(n);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),cP(s,r,t,"aria-hidden")):function(){return null}},Ns=function(){return Ns=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ns.apply(this,arguments)};function sC(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function ms(n,e,t,s){var r=arguments.length,l=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,t,s);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(l=(r<3?u(l):r>3?u(e,t,l):u(e,t))||l);return r>3&&l&&Object.defineProperty(e,t,l),l}function qt(n,e,t,s){function r(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function c(p){try{f(s.next(p))}catch(m){u(m)}}function d(p){try{f(s.throw(p))}catch(m){u(m)}}function f(p){p.done?l(p.value):r(p.value).then(c,d)}f((s=s.apply(n,e||[])).next())})}function uP(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,l;s<r;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return n.concat(l||Array.prototype.slice.call(e))}var ou="right-scroll-bar-position",au="width-before-scroll-bar",dP="with-scroll-bars-hidden",hP="--removed-body-scroll-bar-size";function Wf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function fP(n,e){var t=v.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var r=t.value;r!==s&&(t.value=s,t.callback(s,r))}}}})[0];return t.callback=e,t.facade}var pP=typeof window<"u"?v.useLayoutEffect:v.useEffect,I0=new WeakMap;function mP(n,e){var t=fP(null,function(s){return n.forEach(function(r){return Wf(r,s)})});return pP(function(){var s=I0.get(t);if(s){var r=new Set(s),l=new Set(n),u=t.current;r.forEach(function(c){l.has(c)||Wf(c,null)}),l.forEach(function(c){r.has(c)||Wf(c,u)})}I0.set(t,n)},[n]),t}function gP(n){return n}function xP(n,e){e===void 0&&(e=gP);var t=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,s);return t.push(u),function(){t=t.filter(function(c){return c!==u})}},assignSyncMedium:function(l){for(s=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(c){return l(c)},filter:function(){return t}}},assignMedium:function(l){s=!0;var u=[];if(t.length){var c=t;t=[],c.forEach(l),u=t}var d=function(){var p=u;u=[],p.forEach(l)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(p){u.push(p),f()},filter:function(p){return u=u.filter(p),t}}}};return r}function vP(n){n===void 0&&(n={});var e=xP(null);return e.options=Ns({async:!0,ssr:!1},n),e}var rC=function(n){var e=n.sideCar,t=sC(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,Ns({},t))};rC.isSideCarExport=!0;function yP(n,e){return n.useMedium(e),rC}var iC=vP(),Uf=function(){},id=v.forwardRef(function(n,e){var t=v.useRef(null),s=v.useState({onScrollCapture:Uf,onWheelCapture:Uf,onTouchMoveCapture:Uf}),r=s[0],l=s[1],u=n.forwardProps,c=n.children,d=n.className,f=n.removeScrollBar,p=n.enabled,m=n.shards,x=n.sideCar,b=n.noRelative,S=n.noIsolation,w=n.inert,C=n.allowPinchZoom,N=n.as,E=N===void 0?"div":N,T=n.gapMode,M=sC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,I=mP([t,e]),j=Ns(Ns({},M),r);return v.createElement(v.Fragment,null,p&&v.createElement(R,{sideCar:iC,removeScrollBar:f,shards:m,noRelative:b,noIsolation:S,inert:w,setCallbacks:l,allowPinchZoom:!!C,lockRef:t,gapMode:T}),u?v.cloneElement(v.Children.only(c),Ns(Ns({},j),{ref:I})):v.createElement(E,Ns({},j,{className:d,ref:I}),c))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:au,zeroRight:ou};var wP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bP(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=wP();return e&&n.setAttribute("nonce",e),n}function CP(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function SP(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var _P=function(){var n=0,e=null;return{add:function(t){n==0&&(e=bP())&&(CP(e,t),SP(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NP=function(){var n=_P();return function(e,t){v.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},oC=function(){var n=NP(),e=function(t){var s=t.styles,r=t.dynamic;return n(s,r),null};return e},jP={left:0,top:0,right:0,gap:0},Hf=function(n){return parseInt(n||"",10)||0},kP=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[Hf(t),Hf(s),Hf(r)]},AP=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return jP;var e=kP(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},TP=oC(),No="data-scroll-locked",EP=function(n,e,t,s){var r=n.left,l=n.top,u=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(dP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(No,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ou,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(au,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(au," .").concat(au,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(No,`] {
    `).concat(hP,": ").concat(c,`px;
  }
`)},D0=function(){var n=parseInt(document.body.getAttribute(No)||"0",10);return isFinite(n)?n:0},RP=function(){v.useEffect(function(){return document.body.setAttribute(No,(D0()+1).toString()),function(){var n=D0()-1;n<=0?document.body.removeAttribute(No):document.body.setAttribute(No,n.toString())}},[])},MP=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,r=s===void 0?"margin":s;RP();var l=v.useMemo(function(){return AP(r)},[r]);return v.createElement(TP,{styles:EP(l,!e,r,t?"":"!important")})},Ep=!1;if(typeof window<"u")try{var Hc=Object.defineProperty({},"passive",{get:function(){return Ep=!0,!0}});window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{Ep=!1}var ho=Ep?{passive:!1}:!1,PP=function(n){return n.tagName==="TEXTAREA"},aC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!PP(n)&&t[e]==="visible")},OP=function(n){return aC(n,"overflowY")},IP=function(n){return aC(n,"overflowX")},V0=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=lC(n,s);if(r){var l=cC(n,s),u=l[1],c=l[2];if(u>c)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},DP=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},VP=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},lC=function(n,e){return n==="v"?OP(e):IP(e)},cC=function(n,e){return n==="v"?DP(e):VP(e)},FP=function(n,e){return n==="h"&&e==="rtl"?-1:1},LP=function(n,e,t,s,r){var l=FP(n,window.getComputedStyle(e).direction),u=l*s,c=t.target,d=e.contains(c),f=!1,p=u>0,m=0,x=0;do{if(!c)break;var b=cC(n,c),S=b[0],w=b[1],C=b[2],N=w-C-l*S;(S||N)&&lC(n,c)&&(m+=N,x+=S);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(f=!0),f},Qc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},F0=function(n){return[n.deltaX,n.deltaY]},L0=function(n){return n&&"current"in n?n.current:n},zP=function(n,e){return n[0]===e[0]&&n[1]===e[1]},BP=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},qP=0,fo=[];function GP(n){var e=v.useRef([]),t=v.useRef([0,0]),s=v.useRef(),r=v.useState(qP++)[0],l=v.useState(oC)[0],u=v.useRef(n);v.useEffect(function(){u.current=n},[n]),v.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var w=uP([n.lockRef.current],(n.shards||[]).map(L0),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var c=v.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!u.current.allowPinchZoom;var N=Qc(w),E=t.current,T="deltaX"in w?w.deltaX:E[0]-N[0],M="deltaY"in w?w.deltaY:E[1]-N[1],R,I=w.target,j=Math.abs(T)>Math.abs(M)?"h":"v";if("touches"in w&&j==="h"&&I.type==="range")return!1;var k=V0(j,I);if(!k)return!0;if(k?R=j:(R=j==="v"?"h":"v",k=V0(j,I)),!k)return!1;if(!s.current&&"changedTouches"in w&&(T||M)&&(s.current=R),!R)return!0;var D=s.current||R;return LP(D,C,w,D==="h"?T:M)},[]),d=v.useCallback(function(w){var C=w;if(!(!fo.length||fo[fo.length-1]!==l)){var N="deltaY"in C?F0(C):Qc(C),E=e.current.filter(function(R){return R.name===C.type&&(R.target===C.target||C.target===R.shadowParent)&&zP(R.delta,N)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var T=(u.current.shards||[]).map(L0).filter(Boolean).filter(function(R){return R.contains(C.target)}),M=T.length>0?c(C,T[0]):!u.current.noIsolation;M&&C.cancelable&&C.preventDefault()}}},[]),f=v.useCallback(function(w,C,N,E){var T={name:w,delta:C,target:N,should:E,shadowParent:$P(N)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(M){return M!==T})},1)},[]),p=v.useCallback(function(w){t.current=Qc(w),s.current=void 0},[]),m=v.useCallback(function(w){f(w.type,F0(w),w.target,c(w,n.lockRef.current))},[]),x=v.useCallback(function(w){f(w.type,Qc(w),w.target,c(w,n.lockRef.current))},[]);v.useEffect(function(){return fo.push(l),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,ho),document.addEventListener("touchmove",d,ho),document.addEventListener("touchstart",p,ho),function(){fo=fo.filter(function(w){return w!==l}),document.removeEventListener("wheel",d,ho),document.removeEventListener("touchmove",d,ho),document.removeEventListener("touchstart",p,ho)}},[]);var b=n.removeScrollBar,S=n.inert;return v.createElement(v.Fragment,null,S?v.createElement(l,{styles:BP(r)}):null,b?v.createElement(MP,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function $P(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const WP=yP(iC,GP);var od=v.forwardRef(function(n,e){return v.createElement(id,Ns({},n,{ref:e,sideCar:WP}))});od.classNames=id.classNames;var Rp=["Enter"," "],UP=["ArrowDown","PageUp","Home"],uC=["ArrowUp","PageDown","End"],HP=[...UP,...uC],QP={ltr:[...Rp,"ArrowRight"],rtl:[...Rp,"ArrowLeft"]},KP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fl="Menu",[Ja,YP,XP]=ll(fl),[Pi,dC]=gn(fl,[XP,$o,rd]),ad=$o(),hC=rd(),[ZP,Oi]=Pi(fl),[JP,pl]=Pi(fl),fC=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:r,onOpenChange:l,modal:u=!0}=n,c=ad(e),[d,f]=v.useState(null),p=v.useRef(!1),m=Et(l),x=Wo(r);return v.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),i.jsx(Ab,{...c,children:i.jsx(ZP,{scope:e,open:t,onOpenChange:m,content:d,onContentChange:f,children:i.jsx(JP,{scope:e,onClose:v.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:u,children:s})})})};fC.displayName=fl;var eO="MenuAnchor",Om=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=ad(t);return i.jsx(km,{...r,...s,ref:e})});Om.displayName=eO;var Im="MenuPortal",[tO,pC]=Pi(Im,{forceMount:void 0}),mC=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:r}=n,l=Oi(Im,e);return i.jsx(tO,{scope:e,forceMount:t,children:i.jsx(xn,{present:t||l.open,children:i.jsx(cl,{asChild:!0,container:r,children:s})})})};mC.displayName=Im;var Kn="MenuContent",[nO,Dm]=Pi(Kn),gC=v.forwardRef((n,e)=>{const t=pC(Kn,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,l=Oi(Kn,n.__scopeMenu),u=pl(Kn,n.__scopeMenu);return i.jsx(Ja.Provider,{scope:n.__scopeMenu,children:i.jsx(xn,{present:s||l.open,children:i.jsx(Ja.Slot,{scope:n.__scopeMenu,children:u.modal?i.jsx(sO,{...r,ref:e}):i.jsx(rO,{...r,ref:e})})})})}),sO=v.forwardRef((n,e)=>{const t=Oi(Kn,n.__scopeMenu),s=v.useRef(null),r=ze(e,s);return v.useEffect(()=>{const l=s.current;if(l)return Pm(l)},[]),i.jsx(Vm,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:pe(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),rO=v.forwardRef((n,e)=>{const t=Oi(Kn,n.__scopeMenu);return i.jsx(Vm,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),iO=Ni("MenuContent.ScrollLock"),Vm=v.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,disableOutsideScroll:S,...w}=n,C=Oi(Kn,t),N=pl(Kn,t),E=ad(t),T=hC(t),M=YP(t),[R,I]=v.useState(null),j=v.useRef(null),k=ze(e,j,C.onContentChange),D=v.useRef(0),A=v.useRef(""),V=v.useRef(0),B=v.useRef(null),Z=v.useRef("right"),z=v.useRef(0),H=S?od:v.Fragment,X=S?{as:iO,allowPinchZoom:!0}:void 0,Q=q=>{const W=A.current+q,O=M().filter(L=>!L.disabled),Y=document.activeElement,he=O.find(L=>L.ref.current===Y)?.textValue,ue=O.map(L=>L.textValue),ae=xO(ue,W,he),me=O.find(L=>L.textValue===ae)?.ref.current;(function L(F){A.current=F,window.clearTimeout(D.current),F!==""&&(D.current=window.setTimeout(()=>L(""),1e3))})(W),me&&setTimeout(()=>me.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),Mm();const $=v.useCallback(q=>Z.current===B.current?.side&&yO(q,B.current?.area),[]);return i.jsx(nO,{scope:t,searchRef:A,onItemEnter:v.useCallback(q=>{$(q)&&q.preventDefault()},[$]),onItemLeave:v.useCallback(q=>{$(q)||(j.current?.focus(),I(null))},[$]),onTriggerLeave:v.useCallback(q=>{$(q)&&q.preventDefault()},[$]),pointerGraceTimerRef:V,onPointerGraceIntentChange:v.useCallback(q=>{B.current=q},[]),children:i.jsx(H,{...X,children:i.jsx(sd,{asChild:!0,trapped:r,onMountAutoFocus:pe(l,q=>{q.preventDefault(),j.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:i.jsx(Vo,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:b,children:i.jsx(eC,{asChild:!0,...T,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:R,onCurrentTabStopIdChange:I,onEntryFocus:pe(d,q=>{N.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Am,{role:"menu","aria-orientation":"vertical","data-state":MC(C.open),"data-radix-menu-content":"",dir:N.dir,...E,...w,ref:k,style:{outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,q=>{const O=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Y=q.ctrlKey||q.altKey||q.metaKey,he=q.key.length===1;O&&(q.key==="Tab"&&q.preventDefault(),!Y&&he&&Q(q.key));const ue=j.current;if(q.target!==ue||!HP.includes(q.key))return;q.preventDefault();const me=M().filter(L=>!L.disabled).map(L=>L.ref.current);uC.includes(q.key)&&me.reverse(),mO(me)}),onBlur:pe(n.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(D.current),A.current="")}),onPointerMove:pe(n.onPointerMove,el(q=>{const W=q.target,O=z.current!==q.clientX;if(q.currentTarget.contains(W)&&O){const Y=q.clientX>z.current?"right":"left";Z.current=Y,z.current=q.clientX}}))})})})})})})});gC.displayName=Kn;var oO="MenuGroup",Fm=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return i.jsx(Ne.div,{role:"group",...s,ref:e})});Fm.displayName=oO;var aO="MenuLabel",xC=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return i.jsx(Ne.div,{...s,ref:e})});xC.displayName=aO;var wu="MenuItem",z0="menu.itemSelect",ld=v.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...r}=n,l=v.useRef(null),u=pl(wu,n.__scopeMenu),c=Dm(wu,n.__scopeMenu),d=ze(e,l),f=v.useRef(!1),p=()=>{const m=l.current;if(!t&&m){const x=new CustomEvent(z0,{bubbles:!0,cancelable:!0});m.addEventListener(z0,b=>s?.(b),{once:!0}),rm(m,x),x.defaultPrevented?f.current=!1:u.onClose()}};return i.jsx(vC,{...r,ref:d,disabled:t,onClick:pe(n.onClick,p),onPointerDown:m=>{n.onPointerDown?.(m),f.current=!0},onPointerUp:pe(n.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:pe(n.onKeyDown,m=>{const x=c.searchRef.current!=="";t||x&&m.key===" "||Rp.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});ld.displayName=wu;var vC=v.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:r,...l}=n,u=Dm(wu,t),c=hC(t),d=v.useRef(null),f=ze(e,d),[p,m]=v.useState(!1),[x,b]=v.useState("");return v.useEffect(()=>{const S=d.current;S&&b((S.textContent??"").trim())},[l.children]),i.jsx(Ja.ItemSlot,{scope:t,disabled:s,textValue:r??x,children:i.jsx(tC,{asChild:!0,...c,focusable:!s,children:i.jsx(Ne.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:f,onPointerMove:pe(n.onPointerMove,el(S=>{s?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(n.onPointerLeave,el(S=>u.onItemLeave(S))),onFocus:pe(n.onFocus,()=>m(!0)),onBlur:pe(n.onBlur,()=>m(!1))})})})}),lO="MenuCheckboxItem",yC=v.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...r}=n;return i.jsx(_C,{scope:n.__scopeMenu,checked:t,children:i.jsx(ld,{role:"menuitemcheckbox","aria-checked":bu(t)?"mixed":t,...r,ref:e,"data-state":zm(t),onSelect:pe(r.onSelect,()=>s?.(bu(t)?!0:!t),{checkForDefaultPrevented:!1})})})});yC.displayName=lO;var wC="MenuRadioGroup",[cO,uO]=Pi(wC,{value:void 0,onValueChange:()=>{}}),bC=v.forwardRef((n,e)=>{const{value:t,onValueChange:s,...r}=n,l=Et(s);return i.jsx(cO,{scope:n.__scopeMenu,value:t,onValueChange:l,children:i.jsx(Fm,{...r,ref:e})})});bC.displayName=wC;var CC="MenuRadioItem",SC=v.forwardRef((n,e)=>{const{value:t,...s}=n,r=uO(CC,n.__scopeMenu),l=t===r.value;return i.jsx(_C,{scope:n.__scopeMenu,checked:l,children:i.jsx(ld,{role:"menuitemradio","aria-checked":l,...s,ref:e,"data-state":zm(l),onSelect:pe(s.onSelect,()=>r.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});SC.displayName=CC;var Lm="MenuItemIndicator",[_C,dO]=Pi(Lm,{checked:!1}),NC=v.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...r}=n,l=dO(Lm,t);return i.jsx(xn,{present:s||bu(l.checked)||l.checked===!0,children:i.jsx(Ne.span,{...r,ref:e,"data-state":zm(l.checked)})})});NC.displayName=Lm;var hO="MenuSeparator",jC=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return i.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});jC.displayName=hO;var fO="MenuArrow",kC=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=ad(t);return i.jsx(Tm,{...r,...s,ref:e})});kC.displayName=fO;var pO="MenuSub",[ez,AC]=Pi(pO),$a="MenuSubTrigger",TC=v.forwardRef((n,e)=>{const t=Oi($a,n.__scopeMenu),s=pl($a,n.__scopeMenu),r=AC($a,n.__scopeMenu),l=Dm($a,n.__scopeMenu),u=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=l,f={__scopeMenu:n.__scopeMenu},p=v.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),i.jsx(Om,{asChild:!0,...f,children:i.jsx(vC,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":MC(t.open),...n,ref:Hu(e,r.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:pe(n.onPointerMove,el(m=>{l.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:pe(n.onPointerLeave,el(m=>{p();const x=t.content?.getBoundingClientRect();if(x){const b=t.content?.dataset.side,S=b==="right",w=S?-5:5,C=x[S?"left":"right"],N=x[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x:C,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:C,y:x.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(m),m.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:pe(n.onKeyDown,m=>{const x=l.searchRef.current!=="";n.disabled||x&&m.key===" "||QP[s.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});TC.displayName=$a;var EC="MenuSubContent",RC=v.forwardRef((n,e)=>{const t=pC(Kn,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,l=Oi(Kn,n.__scopeMenu),u=pl(Kn,n.__scopeMenu),c=AC(EC,n.__scopeMenu),d=v.useRef(null),f=ze(e,d);return i.jsx(Ja.Provider,{scope:n.__scopeMenu,children:i.jsx(xn,{present:s||l.open,children:i.jsx(Ja.Slot,{scope:n.__scopeMenu,children:i.jsx(Vm,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:f,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:pe(n.onFocusOutside,p=>{p.target!==c.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:pe(n.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:pe(n.onKeyDown,p=>{const m=p.currentTarget.contains(p.target),x=KP[u.dir].includes(p.key);m&&x&&(l.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});RC.displayName=EC;function MC(n){return n?"open":"closed"}function bu(n){return n==="indeterminate"}function zm(n){return bu(n)?"indeterminate":n?"checked":"unchecked"}function mO(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function gO(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function xO(n,e,t){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let u=gO(n,Math.max(l,0));r.length===1&&(u=u.filter(f=>f!==t));const d=u.find(f=>f.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}function vO(n,e){const{x:t,y:s}=n;let r=!1;for(let l=0,u=e.length-1;l<e.length;u=l++){const c=e[l],d=e[u],f=c.x,p=c.y,m=d.x,x=d.y;p>s!=x>s&&t<(m-f)*(s-p)/(x-p)+f&&(r=!r)}return r}function yO(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return vO(t,e)}function el(n){return e=>e.pointerType==="mouse"?n(e):void 0}var wO=fC,bO=Om,CO=mC,SO=gC,_O=Fm,NO=xC,jO=ld,kO=yC,AO=bC,TO=SC,EO=NC,RO=jC,MO=kC,PO=TC,OO=RC,cd="DropdownMenu",[IO,tz]=gn(cd,[dC]),vn=dC(),[DO,PC]=IO(cd),OC=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:r,defaultOpen:l,onOpenChange:u,modal:c=!0}=n,d=vn(e),f=v.useRef(null),[p,m]=nr({prop:r,defaultProp:l??!1,onChange:u,caller:cd});return i.jsx(DO,{scope:e,triggerId:As(),triggerRef:f,contentId:As(),open:p,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(x=>!x),[m]),modal:c,children:i.jsx(wO,{...d,open:p,onOpenChange:m,dir:s,modal:c,children:t})})};OC.displayName=cd;var IC="DropdownMenuTrigger",DC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...r}=n,l=PC(IC,t),u=vn(t);return i.jsx(bO,{asChild:!0,...u,children:i.jsx(Ne.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Hu(e,l.triggerRef),onPointerDown:pe(n.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(l.onOpenToggle(),l.open||c.preventDefault())}),onKeyDown:pe(n.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&l.onOpenToggle(),c.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});DC.displayName=IC;var VO="DropdownMenuPortal",VC=n=>{const{__scopeDropdownMenu:e,...t}=n,s=vn(e);return i.jsx(CO,{...s,...t})};VC.displayName=VO;var FC="DropdownMenuContent",LC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=PC(FC,t),l=vn(t),u=v.useRef(!1);return i.jsx(SO,{id:r.contentId,"aria-labelledby":r.triggerId,...l,...s,ref:e,onCloseAutoFocus:pe(n.onCloseAutoFocus,c=>{u.current||r.triggerRef.current?.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:pe(n.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!r.modal||p)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LC.displayName=FC;var FO="DropdownMenuGroup",LO=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(_O,{...r,...s,ref:e})});LO.displayName=FO;var zO="DropdownMenuLabel",zC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(NO,{...r,...s,ref:e})});zC.displayName=zO;var BO="DropdownMenuItem",BC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(jO,{...r,...s,ref:e})});BC.displayName=BO;var qO="DropdownMenuCheckboxItem",qC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(kO,{...r,...s,ref:e})});qC.displayName=qO;var GO="DropdownMenuRadioGroup",$O=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(AO,{...r,...s,ref:e})});$O.displayName=GO;var WO="DropdownMenuRadioItem",GC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(TO,{...r,...s,ref:e})});GC.displayName=WO;var UO="DropdownMenuItemIndicator",$C=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(EO,{...r,...s,ref:e})});$C.displayName=UO;var HO="DropdownMenuSeparator",WC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(RO,{...r,...s,ref:e})});WC.displayName=HO;var QO="DropdownMenuArrow",KO=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(MO,{...r,...s,ref:e})});KO.displayName=QO;var YO="DropdownMenuSubTrigger",UC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(PO,{...r,...s,ref:e})});UC.displayName=YO;var XO="DropdownMenuSubContent",HC=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=vn(t);return i.jsx(OO,{...r,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HC.displayName=XO;var ZO=OC,JO=DC,eI=VC,QC=LC,KC=zC,YC=BC,XC=qC,ZC=GC,JC=$C,eS=WC,tS=UC,nS=HC;const tI=ZO,nI=JO,sI=v.forwardRef(({className:n,inset:e,children:t,...s},r)=>i.jsxs(tS,{ref:r,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...s,children:[t,i.jsx(qT,{className:"ml-auto h-4 w-4"})]}));sI.displayName=tS.displayName;const rI=v.forwardRef(({className:n,...e},t)=>i.jsx(nS,{ref:t,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));rI.displayName=nS.displayName;const sS=v.forwardRef(({className:n,sideOffset:e=4,...t},s)=>i.jsx(eI,{children:i.jsx(QC,{ref:s,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));sS.displayName=QC.displayName;const lu=v.forwardRef(({className:n,inset:e,...t},s)=>i.jsx(YC,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));lu.displayName=YC.displayName;const iI=v.forwardRef(({className:n,children:e,checked:t,...s},r)=>i.jsxs(XC,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(JC,{children:i.jsx(um,{className:"h-4 w-4"})})}),e]}));iI.displayName=XC.displayName;const oI=v.forwardRef(({className:n,children:e,...t},s)=>i.jsxs(ZC,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(JC,{children:i.jsx(WT,{className:"h-2 w-2 fill-current"})})}),e]}));oI.displayName=ZC.displayName;const aI=v.forwardRef(({className:n,inset:e,...t},s)=>i.jsx(KC,{ref:s,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));aI.displayName=KC.displayName;const rS=v.forwardRef(({className:n,...e},t)=>i.jsx(eS,{ref:t,className:Ee("-mx-1 my-1 h-px bg-muted",n),...e}));rS.displayName=eS.displayName;function lI(){return i.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx(Js,{href:"/",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-purple-600 to-blue-600"}),i.jsx("span",{className:"text-xl font-bold",children:"CodedSwitch"})]})})}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs(tI,{children:[i.jsx(nI,{asChild:!0,children:i.jsx(ee,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:i.jsx(Ub,{className:"h-8 w-8",children:i.jsx(Hb,{children:"CS"})})})}),i.jsxs(sS,{className:"w-56",align:"end",forceMount:!0,children:[i.jsx(lu,{asChild:!0,children:i.jsxs(Js,{href:"/billing",className:"flex items-center",children:[i.jsx(W1,{className:"mr-2 h-4 w-4"}),"Billing"]})}),i.jsx(lu,{asChild:!0,children:i.jsxs(Js,{href:"/settings",className:"flex items-center",children:[i.jsx(Lo,{className:"mr-2 h-4 w-4"}),"Settings"]})}),i.jsx(rS,{}),i.jsxs(lu,{children:[i.jsx(iE,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})})]})})}const cI=[{name:"Dashboard",href:"/dashboard",icon:cm},{name:"Music Studio",href:"/music-studio",icon:U1},{name:"Mix Studio",href:"/mix-studio",icon:zr},{name:"Pro Console",href:"/pro-console",icon:mm},{name:"MIDI Controller",href:"/midi-controller",icon:tE},{name:"Song Uploader",href:"/song-uploader",icon:bi},{name:"Beat Maker",href:"/beat-studio",icon:dm},{name:"Melody Composer",href:"/melody-composer",icon:Bt},{name:"Code Translator",href:"/code-translator",icon:er},{name:"Code to Music",href:"/codebeat-studio",icon:rr},{name:"Lyric Lab",href:"/lyric-lab",icon:yi},{name:"Vulnerability Scanner",href:"/vulnerability-scanner",icon:yo},{name:"AI Assistant",href:"/ai-assistant",icon:hm},{name:"Pack Generator",href:"/pack-generator",icon:wi},{name:"Advanced Sequencer",href:"/advanced-sequencer",icon:zr},{name:"Granular Engine",href:"/granular-engine",icon:zo},{name:"Wavetable Synth",href:"/wavetable-oscillator",icon:uE},{name:"Song Structure",href:"/song-structure",icon:ZT},{name:"Pro Audio",href:"/pro-audio",icon:Ya}],uI=[{name:"Billing",href:"/billing",icon:W1},{name:"Settings",href:"/settings",icon:Lo}];function dI(){const[n]=Jp();return i.jsxs("div",{className:"flex h-screen w-64 flex-col bg-background border-r",children:[i.jsx("div",{className:"flex-1 space-y-1 px-3 py-4",children:cI.map(e=>{const t=n===e.href;return i.jsx(Js,{href:e.href,children:i.jsxs("div",{className:Ee("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",t?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[i.jsx(e.icon,{className:Ee("mr-3 h-4 w-4 flex-shrink-0",t?"text-primary-foreground":"text-muted-foreground")}),e.name]})},e.name)})}),i.jsx("div",{className:"border-t px-3 py-4 space-y-1",children:uI.map(e=>{const t=n===e.href;return i.jsx(Js,{href:e.href,children:i.jsxs("div",{className:Ee("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",t?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[i.jsx(e.icon,{className:Ee("mr-3 h-4 w-4 flex-shrink-0",t?"text-primary-foreground":"text-muted-foreground")}),e.name]})},e.name)})})]})}const de=v.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));de.displayName="Card";const Me=v.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ee("flex flex-col space-y-1.5 p-6",n),...e}));Me.displayName="CardHeader";const Pe=v.forwardRef(({className:n,...e},t)=>i.jsx("h3",{ref:t,className:Ee("text-2xl font-semibold leading-none tracking-tight",n),...e}));Pe.displayName="CardTitle";const js=v.forwardRef(({className:n,...e},t)=>i.jsx("p",{ref:t,className:Ee("text-sm text-muted-foreground",n),...e}));js.displayName="CardDescription";const ye=v.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ee("p-6 pt-0",n),...e}));ye.displayName="CardContent";const hI=v.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ee("flex items-center p-6 pt-0",n),...e}));hI.displayName="CardFooter";function fI(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(de,{className:"w-full max-w-md mx-4",children:i.jsxs(ye,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx($T,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function iS(){const n=[{icon:er,title:"Code Translation",description:"Translate code between 14+ programming languages with AI assistance"},{icon:Bt,title:"Professional Music Studio",description:"Create music with multi-instrument orchestral compositions and MIDI support"},{icon:bi,title:"Song Analysis",description:"Upload songs for AI-powered analysis and intelligent music insights"},{icon:dm,title:"Beat Studio",description:"Professional drum synthesis with real-time pattern editing"},{icon:rr,title:"Code to Music",description:"Revolutionary bidirectional translation between code and musical compositions"},{icon:yo,title:"Security Scanner",description:"AI-powered code vulnerability detection and security analysis"},{icon:hm,title:"AI Assistant",description:"24/7 intelligent help with multiple AI providers (Grok, Gemini, OpenAI)"}];return i.jsx("div",{className:"min-h-screen min-w-[1400px] bg-gradient-to-br from-background to-secondary/20",children:i.jsxs("div",{className:"container mx-auto px-4 py-16 w-full",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"h-16 w-16 mx-auto mb-8 rounded-2xl bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center",children:i.jsx(Bt,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"CodedSwitch"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"The world's first AI-powered bidirectional translation platform that bridges code development with music creation"}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx(Js,{href:"/dashboard",children:i.jsx(ee,{size:"lg",className:"text-lg px-8",children:"Get Started"})}),i.jsx(Js,{href:"/music-studio",children:i.jsx(ee,{variant:"outline",size:"lg",className:"text-lg px-8",children:"Try Music Studio"})})]})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:n.map((e,t)=>i.jsxs(de,{className:"transition-transform hover:scale-105",children:[i.jsxs(Me,{children:[i.jsx(e.icon,{className:"h-8 w-8 text-primary mb-2"}),i.jsx(Pe,{children:e.title})]}),i.jsx(ye,{children:i.jsx(js,{children:e.description})})]},t))}),i.jsxs("div",{className:"text-center bg-card rounded-2xl p-12 border",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Transform Your Workflow?"}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Experience the future of creative development with AI-powered tools that bridge the gap between code and music."}),i.jsx(Js,{href:"/dashboard",children:i.jsx(ee,{size:"lg",className:"text-lg px-8",children:"Start Creating Now"})})]})]})})}function pI(){const n=[{title:"Music Studio",description:"Professional multi-instrument composition",icon:Bt,href:"/music-studio",color:"bg-purple-500"},{title:"Song Uploader",description:"Upload and analyze audio files",icon:bi,href:"/song-uploader",color:"bg-blue-500"},{title:"Code Translator",description:"Translate between programming languages",icon:er,href:"/code-translator",color:"bg-green-500"},{title:"Beat Maker",description:"Create professional drum patterns",icon:dm,href:"/beat-studio",color:"bg-orange-500"},{title:"Code to Music",description:"Transform code into musical compositions",icon:rr,href:"/codebeat-studio",color:"bg-yellow-500"},{title:"AI Assistant",description:"Get help with coding and music",icon:hm,href:"/ai-assistant",color:"bg-pink-500"},{title:"Advanced Sequencer",description:"Professional multi-layered beat production",icon:zr,href:"/advanced-sequencer",color:"bg-orange-500"},{title:"Granular Engine",description:"Advanced texture manipulation & synthesis",icon:zo,href:"/granular-engine",color:"bg-purple-500"},{title:"Pack Generator",description:"AI-powered sample pack creation from prompts",icon:Bt,href:"/pack-generator",color:"bg-emerald-500"}];return i.jsx("div",{className:"p-6 space-y-6 min-w-[1400px]",children:i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Welcome to your creative workspace"})]}),i.jsx(cm,{className:"h-8 w-8 text-muted-foreground"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(de,{children:[i.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Projects Created"}),i.jsx(Bt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ye,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"12"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 from last week"})]})]}),i.jsxs(de,{children:[i.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Code Translations"}),i.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ye,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"48"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"+12 from last week"})]})]}),i.jsxs(de,{children:[i.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Pe,{className:"text-sm font-medium",children:"Songs Analyzed"}),i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ye,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"24"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"+8 from last week"})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Quick Actions"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((e,t)=>i.jsx(Js,{href:e.href,children:i.jsxs(de,{className:"transition-transform hover:scale-105 cursor-pointer h-full",children:[i.jsx(Me,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`p-2 rounded-lg ${e.color}`,children:i.jsx(e.icon,{className:"h-4 w-4 text-white"})}),i.jsx(Pe,{className:"text-lg",children:e.title})]})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsx(js,{children:e.description}),i.jsx(ee,{className:"w-full",children:"Open"})]})]})},t))})]}),i.jsxs(de,{children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Recent Activity"})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(Bt,{className:"h-4 w-4 text-purple-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:'Created "Electronic Symphony"'}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(er,{className:"h-4 w-4 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Translated Python to JavaScript"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(bi,{className:"h-4 w-4 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:'Analyzed "Summer Vibes.mp3"'}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]})]})]})})]})]})})}const mI=Yu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:n,variant:e,...t}){return i.jsx("div",{className:Ee(mI({variant:e}),n),...t})}function gI(){const[n,e]=v.useState(!1),[t,s]=v.useState("free"),r=[{name:"Free",price:"$0",features:["Basic beat making","5 projects","Standard export quality","Community support"]},{name:"Pro",price:"$9.99",features:["Unlimited projects","AI-powered composition","High-quality exports","Advanced mixing tools","Priority support","Collaboration features"],popular:!0},{name:"Studio",price:"$19.99",features:["Everything in Pro","Professional mastering","Custom sample packs","Advanced AI features","White-label exports","API access"]}];return n?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Choose Your Plan"}),i.jsx(ee,{variant:"ghost",onClick:()=>e(!1),children:i.jsx(gm,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(l=>i.jsxs(de,{className:`relative ${l.popular?"border-blue-500 border-2":""}`,children:[l.popular&&i.jsx(Te,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Most Popular"}),i.jsxs(Me,{className:"text-center",children:[i.jsx(Pe,{className:"text-xl",children:l.name}),i.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[l.price,l.price!=="$0"&&i.jsx("span",{className:"text-sm text-gray-500",children:"/month"})]})]}),i.jsxs(ye,{children:[i.jsx("ul",{className:"space-y-3 mb-6",children:l.features.map((u,c)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(um,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:u})]},c))}),i.jsx(ee,{className:"w-full",variant:t===l.name.toLowerCase()?"outline":"default",onClick:()=>{s(l.name.toLowerCase()),e(!1)},children:t===l.name.toLowerCase()?"Current Plan":`Choose ${l.name}`})]})]},l.name))}),i.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:i.jsx("p",{children:"All plans include a 14-day free trial. Cancel anytime."})})]})}):i.jsx(ee,{variant:t==="free"?"default":"outline",onClick:()=>e(!0),className:"relative",children:t==="free"?i.jsxs(i.Fragment,{children:[i.jsx(QT,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]}):i.jsxs(i.Fragment,{children:[i.jsx(zo,{className:"h-4 w-4 mr-2"}),t==="pro"?"Pro Plan":"Studio Plan"]})})}function xI(){return i.jsxs("div",{className:"bg-studio-panel border-b border-gray-700 px-6 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 relative",children:i.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsx("style",{children:`
                    .draw-line {
                      stroke-dasharray: 200;
                      stroke-dashoffset: 200;
                      animation: draw 3s ease-in-out forwards;
                    }
                    .draw-circle {
                      stroke-dasharray: 60;
                      stroke-dashoffset: 60;
                      animation: draw-circle 2s ease-in-out forwards;
                    }
                    .draw-eye {
                      stroke-dasharray: 100;
                      stroke-dashoffset: 100;
                      animation: draw-eye 2.5s ease-in-out forwards;
                    }
                    @keyframes draw {
                      to { stroke-dashoffset: 0; }
                    }
                    @keyframes draw-circle {
                      to { stroke-dashoffset: 0; }
                    }
                    @keyframes draw-eye {
                      to { stroke-dashoffset: 0; }
                    }
                    .fade-in {
                      opacity: 0;
                      animation: fadeIn 1s ease-in-out 2s forwards;
                    }
                    @keyframes fadeIn {
                      to { opacity: 1; }
                    }
                  `})}),i.jsx("path",{d:"M15 25 L15 15 L25 15",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",className:"draw-line",style:{animationDelay:"0s"}}),i.jsx("path",{d:"M75 15 L85 15 L85 25",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",className:"draw-line",style:{animationDelay:"0.2s"}}),i.jsx("path",{d:"M85 75 L85 85 L75 85",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",className:"draw-line",style:{animationDelay:"0.4s"}}),i.jsx("path",{d:"M25 85 L15 85 L15 75",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",className:"draw-line",style:{animationDelay:"0.6s"}}),i.jsx("line",{x1:"25",y1:"15",x2:"40",y2:"30",stroke:"#60a5fa",strokeWidth:"1.5",className:"draw-line",style:{animationDelay:"0.8s"}}),i.jsx("line",{x1:"75",y1:"15",x2:"60",y2:"30",stroke:"#60a5fa",strokeWidth:"1.5",className:"draw-line",style:{animationDelay:"1s"}}),i.jsx("line",{x1:"85",y1:"75",x2:"70",y2:"60",stroke:"#60a5fa",strokeWidth:"1.5",className:"draw-line",style:{animationDelay:"1.2s"}}),i.jsx("line",{x1:"15",y1:"75",x2:"30",y2:"60",stroke:"#60a5fa",strokeWidth:"1.5",className:"draw-line",style:{animationDelay:"1.4s"}}),i.jsx("ellipse",{cx:"50",cy:"50",rx:"20",ry:"12",fill:"none",stroke:"#3b82f6",strokeWidth:"2",className:"draw-eye",style:{animationDelay:"1.6s"}}),i.jsx("circle",{cx:"50",cy:"50",r:"6",fill:"none",stroke:"#60a5fa",strokeWidth:"2",className:"draw-circle",style:{animationDelay:"2s"}}),i.jsx("circle",{cx:"50",cy:"50",r:"3",fill:"#3b82f6",className:"fade-in"}),i.jsx("circle",{cx:"20",cy:"20",r:"8",fill:"none",stroke:"#3b82f6",strokeWidth:"1.5",className:"draw-circle",style:{animationDelay:"2.2s"}}),i.jsx("circle",{cx:"80",cy:"20",r:"8",fill:"none",stroke:"#3b82f6",strokeWidth:"1.5",className:"draw-circle",style:{animationDelay:"2.4s"}}),i.jsx("circle",{cx:"80",cy:"80",r:"8",fill:"none",stroke:"#3b82f6",strokeWidth:"1.5",className:"draw-circle",style:{animationDelay:"2.6s"}}),i.jsx("circle",{cx:"20",cy:"80",r:"8",fill:"none",stroke:"#3b82f6",strokeWidth:"1.5",className:"draw-circle",style:{animationDelay:"2.8s"}}),i.jsx("circle",{cx:"20",cy:"20",r:"3",fill:"#60a5fa",className:"fade-in",style:{animationDelay:"2.2s"}}),i.jsx("circle",{cx:"80",cy:"20",r:"3",fill:"#60a5fa",className:"fade-in",style:{animationDelay:"2.4s"}}),i.jsx("circle",{cx:"80",cy:"80",r:"3",fill:"#60a5fa",className:"fade-in",style:{animationDelay:"2.6s"}}),i.jsx("circle",{cx:"20",cy:"80",r:"3",fill:"#60a5fa",className:"fade-in",style:{animationDelay:"2.8s"}})]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-heading font-bold text-white",children:"CodedSwitch"}),i.jsx("p",{className:"text-xs text-blue-400 -mt-1 font-medium",children:"AI Godfather"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[i.jsx("div",{className:"w-2 h-2 bg-studio-success rounded-full animate-pulse"}),i.jsx("span",{children:"AI Engine Active"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(gI,{}),i.jsxs(ee,{className:"bg-studio-accent hover:bg-blue-500 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[i.jsx("i",{className:"fas fa-save mr-2"}),"Save Project"]}),i.jsxs(ee,{variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[i.jsx("i",{className:"fas fa-share mr-2"}),"Export"]}),i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold",children:"CT"})})]})]})}function Bm(n){const e=v.useRef({value:n,previous:n});return v.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var ud="Switch",[vI,nz]=gn(ud),[yI,wI]=vI(ud),oS=v.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:r,defaultChecked:l,required:u,disabled:c,value:d="on",onCheckedChange:f,form:p,...m}=n,[x,b]=v.useState(null),S=ze(e,T=>b(T)),w=v.useRef(!1),C=x?p||!!x.closest("form"):!0,[N,E]=nr({prop:r,defaultProp:l??!1,onChange:f,caller:ud});return i.jsxs(yI,{scope:t,checked:N,disabled:c,children:[i.jsx(Ne.button,{type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":uS(N),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:S,onClick:pe(n.onClick,T=>{E(M=>!M),C&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),C&&i.jsx(cS,{control:x,bubbles:!w.current,name:s,value:d,checked:N,required:u,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});oS.displayName=ud;var aS="SwitchThumb",lS=v.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,r=wI(aS,t);return i.jsx(Ne.span,{"data-state":uS(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});lS.displayName=aS;var bI="SwitchBubbleInput",cS=v.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...r},l)=>{const u=v.useRef(null),c=ze(u,l),d=Bm(t),f=_m(e);return v.useEffect(()=>{const p=u.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==t&&b){const S=new Event("click",{bubbles:s});b.call(p,t),p.dispatchEvent(S)}},[d,t,s]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:c,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cS.displayName=bI;function uS(n){return n?"checked":"unchecked"}var dS=oS,CI=lS;const qm=v.forwardRef(({className:n,...e},t)=>i.jsx(dS,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:i.jsx(CI,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qm.displayName=dS.displayName;function tl(n,[e,t]){return Math.min(t,Math.max(e,n))}var SI=[" ","Enter","ArrowUp","ArrowDown"],_I=[" ","Enter"],Ai="Select",[dd,hd,NI]=ll(Ai),[Uo,sz]=gn(Ai,[NI,$o]),fd=$o(),[jI,Jr]=Uo(Ai),[kI,AI]=Uo(Ai),hS=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:r,onOpenChange:l,value:u,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:m,disabled:x,required:b,form:S}=n,w=fd(e),[C,N]=v.useState(null),[E,T]=v.useState(null),[M,R]=v.useState(!1),I=Wo(f),[j,k]=nr({prop:s,defaultProp:r??!1,onChange:l,caller:Ai}),[D,A]=nr({prop:u,defaultProp:c,onChange:d,caller:Ai}),V=v.useRef(null),B=C?S||!!C.closest("form"):!0,[Z,z]=v.useState(new Set),H=Array.from(Z).map(X=>X.props.value).join(";");return i.jsx(Ab,{...w,children:i.jsxs(jI,{required:b,scope:e,trigger:C,onTriggerChange:N,valueNode:E,onValueNodeChange:T,valueNodeHasChildren:M,onValueNodeHasChildrenChange:R,contentId:As(),value:D,onValueChange:A,open:j,onOpenChange:k,dir:I,triggerPointerDownPosRef:V,disabled:x,children:[i.jsx(dd.Provider,{scope:e,children:i.jsx(kI,{scope:n.__scopeSelect,onNativeOptionAdd:v.useCallback(X=>{z(Q=>new Set(Q).add(X))},[]),onNativeOptionRemove:v.useCallback(X=>{z(Q=>{const $=new Set(Q);return $.delete(X),$})},[]),children:t})}),B?i.jsxs(DS,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:m,value:D,onChange:X=>A(X.target.value),disabled:x,form:S,children:[D===void 0?i.jsx("option",{value:""}):null,Array.from(Z)]},H):null]})})};hS.displayName=Ai;var fS="SelectTrigger",pS=v.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...r}=n,l=fd(t),u=Jr(fS,t),c=u.disabled||s,d=ze(e,u.onTriggerChange),f=hd(t),p=v.useRef("touch"),[m,x,b]=FS(w=>{const C=f().filter(T=>!T.disabled),N=C.find(T=>T.value===u.value),E=LS(C,w,N);E!==void 0&&u.onValueChange(E.value)}),S=w=>{c||(u.onOpenChange(!0),b()),w&&(u.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(km,{asChild:!0,...l,children:i.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":VS(u.value)?"":void 0,...r,ref:d,onClick:pe(r.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&S(w)}),onPointerDown:pe(r.onPointerDown,w=>{p.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(S(w),w.preventDefault())}),onKeyDown:pe(r.onKeyDown,w=>{const C=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(C&&w.key===" ")&&SI.includes(w.key)&&(S(),w.preventDefault())})})})});pS.displayName=fS;var mS="SelectValue",gS=v.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,children:l,placeholder:u="",...c}=n,d=Jr(mS,t),{onValueNodeHasChildrenChange:f}=d,p=l!==void 0,m=ze(e,d.onValueNodeChange);return Pt(()=>{f(p)},[f,p]),i.jsx(Ne.span,{...c,ref:m,style:{pointerEvents:"none"},children:VS(d.value)?i.jsx(i.Fragment,{children:u}):l})});gS.displayName=mS;var TI="SelectIcon",xS=v.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...r}=n;return i.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e,children:s||"▼"})});xS.displayName=TI;var EI="SelectPortal",vS=n=>i.jsx(cl,{asChild:!0,...n});vS.displayName=EI;var Ti="SelectContent",yS=v.forwardRef((n,e)=>{const t=Jr(Ti,n.__scopeSelect),[s,r]=v.useState();if(Pt(()=>{r(new DocumentFragment)},[]),!t.open){const l=s;return l?Do.createPortal(i.jsx(wS,{scope:n.__scopeSelect,children:i.jsx(dd.Slot,{scope:n.__scopeSelect,children:i.jsx("div",{children:n.children})})}),l):null}return i.jsx(bS,{...n,ref:e})});yS.displayName=Ti;var os=10,[wS,ei]=Uo(Ti),RI="SelectContentImpl",MI=Ni("SelectContent.RemoveScroll"),bS=v.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:l,onPointerDownOutside:u,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:S,hideWhenDetached:w,avoidCollisions:C,...N}=n,E=Jr(Ti,t),[T,M]=v.useState(null),[R,I]=v.useState(null),j=ze(e,L=>M(L)),[k,D]=v.useState(null),[A,V]=v.useState(null),B=hd(t),[Z,z]=v.useState(!1),H=v.useRef(!1);v.useEffect(()=>{if(T)return Pm(T)},[T]),Mm();const X=v.useCallback(L=>{const[F,...se]=B().map(ge=>ge.ref.current),[re]=se.slice(-1),xe=document.activeElement;for(const ge of L)if(ge===xe||(ge?.scrollIntoView({block:"nearest"}),ge===F&&R&&(R.scrollTop=0),ge===re&&R&&(R.scrollTop=R.scrollHeight),ge?.focus(),document.activeElement!==xe))return},[B,R]),Q=v.useCallback(()=>X([k,T]),[X,k,T]);v.useEffect(()=>{Z&&Q()},[Z,Q]);const{onOpenChange:$,triggerPointerDownPosRef:q}=E;v.useEffect(()=>{if(T){let L={x:0,y:0};const F=re=>{L={x:Math.abs(Math.round(re.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(re.pageY)-(q.current?.y??0))}},se=re=>{L.x<=10&&L.y<=10?re.preventDefault():T.contains(re.target)||$(!1),document.removeEventListener("pointermove",F),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",se,{capture:!0})}}},[T,$,q]),v.useEffect(()=>{const L=()=>$(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[$]);const[W,O]=FS(L=>{const F=B().filter(xe=>!xe.disabled),se=F.find(xe=>xe.ref.current===document.activeElement),re=LS(F,L,se);re&&setTimeout(()=>re.ref.current.focus())}),Y=v.useCallback((L,F,se)=>{const re=!H.current&&!se;(E.value!==void 0&&E.value===F||re)&&(D(L),re&&(H.current=!0))},[E.value]),he=v.useCallback(()=>T?.focus(),[T]),ue=v.useCallback((L,F,se)=>{const re=!H.current&&!se;(E.value!==void 0&&E.value===F||re)&&V(L)},[E.value]),ae=s==="popper"?Mp:CS,me=ae===Mp?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:b,sticky:S,hideWhenDetached:w,avoidCollisions:C}:{};return i.jsx(wS,{scope:t,content:T,viewport:R,onViewportChange:I,itemRefCallback:Y,selectedItem:k,onItemLeave:he,itemTextRefCallback:ue,focusSelectedItem:Q,selectedItemText:A,position:s,isPositioned:Z,searchRef:W,children:i.jsx(od,{as:MI,allowPinchZoom:!0,children:i.jsx(sd,{asChild:!0,trapped:E.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:pe(r,L=>{E.trigger?.focus({preventScroll:!0}),L.preventDefault()}),children:i.jsx(Vo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:i.jsx(ae,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:L=>L.preventDefault(),...N,...me,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:pe(N.onKeyDown,L=>{const F=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!F&&L.key.length===1&&O(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let re=B().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(L.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const xe=L.target,ge=re.indexOf(xe);re=re.slice(ge+1)}setTimeout(()=>X(re)),L.preventDefault()}})})})})})})});bS.displayName=RI;var PI="SelectItemAlignedPosition",CS=v.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...r}=n,l=Jr(Ti,t),u=ei(Ti,t),[c,d]=v.useState(null),[f,p]=v.useState(null),m=ze(e,j=>p(j)),x=hd(t),b=v.useRef(!1),S=v.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:N,focusSelectedItem:E}=u,T=v.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&f&&w&&C&&N){const j=l.trigger.getBoundingClientRect(),k=f.getBoundingClientRect(),D=l.valueNode.getBoundingClientRect(),A=N.getBoundingClientRect();if(l.dir!=="rtl"){const xe=A.left-k.left,ge=D.left-xe,Ie=j.left-ge,Re=j.width+Ie,ce=Math.max(Re,k.width),Se=window.innerWidth-os,Ke=tl(ge,[os,Math.max(os,Se-ce)]);c.style.minWidth=Re+"px",c.style.left=Ke+"px"}else{const xe=k.right-A.right,ge=window.innerWidth-D.right-xe,Ie=window.innerWidth-j.right-ge,Re=j.width+Ie,ce=Math.max(Re,k.width),Se=window.innerWidth-os,Ke=tl(ge,[os,Math.max(os,Se-ce)]);c.style.minWidth=Re+"px",c.style.right=Ke+"px"}const V=x(),B=window.innerHeight-os*2,Z=w.scrollHeight,z=window.getComputedStyle(f),H=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),Q=parseInt(z.borderBottomWidth,10),$=parseInt(z.paddingBottom,10),q=H+X+Z+$+Q,W=Math.min(C.offsetHeight*5,q),O=window.getComputedStyle(w),Y=parseInt(O.paddingTop,10),he=parseInt(O.paddingBottom,10),ue=j.top+j.height/2-os,ae=B-ue,me=C.offsetHeight/2,L=C.offsetTop+me,F=H+X+L,se=q-F;if(F<=ue){const xe=V.length>0&&C===V[V.length-1].ref.current;c.style.bottom="0px";const ge=f.clientHeight-w.offsetTop-w.offsetHeight,Ie=Math.max(ae,me+(xe?he:0)+ge+Q),Re=F+Ie;c.style.height=Re+"px"}else{const xe=V.length>0&&C===V[0].ref.current;c.style.top="0px";const Ie=Math.max(ue,H+w.offsetTop+(xe?Y:0)+me)+se;c.style.height=Ie+"px",w.scrollTop=F-ue+w.offsetTop}c.style.margin=`${os}px 0`,c.style.minHeight=W+"px",c.style.maxHeight=B+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[x,l.trigger,l.valueNode,c,f,w,C,N,l.dir,s]);Pt(()=>T(),[T]);const[M,R]=v.useState();Pt(()=>{f&&R(window.getComputedStyle(f).zIndex)},[f]);const I=v.useCallback(j=>{j&&S.current===!0&&(T(),E?.(),S.current=!1)},[T,E]);return i.jsx(II,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:I,children:i.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:i.jsx(Ne.div,{...r,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});CS.displayName=PI;var OI="SelectPopperPosition",Mp=v.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:r=os,...l}=n,u=fd(t);return i.jsx(Am,{...u,...l,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mp.displayName=OI;var[II,Gm]=Uo(Ti,{}),Pp="SelectViewport",SS=v.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...r}=n,l=ei(Pp,t),u=Gm(Pp,t),c=ze(e,l.onViewportChange),d=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(dd.Slot,{scope:t,children:i.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:pe(r.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=u;if(x?.current&&m){const b=Math.abs(d.current-p.scrollTop);if(b>0){const S=window.innerHeight-os*2,w=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),N=Math.max(w,C);if(N<S){const E=N+b,T=Math.min(S,E),M=E-T;m.style.height=T+"px",m.style.bottom==="0px"&&(p.scrollTop=M>0?M:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});SS.displayName=Pp;var _S="SelectGroup",[DI,VI]=Uo(_S),FI=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=As();return i.jsx(DI,{scope:t,id:r,children:i.jsx(Ne.div,{role:"group","aria-labelledby":r,...s,ref:e})})});FI.displayName=_S;var NS="SelectLabel",jS=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=VI(NS,t);return i.jsx(Ne.div,{id:r.id,...s,ref:e})});jS.displayName=NS;var Cu="SelectItem",[LI,kS]=Uo(Cu),AS=v.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:r=!1,textValue:l,...u}=n,c=Jr(Cu,t),d=ei(Cu,t),f=c.value===s,[p,m]=v.useState(l??""),[x,b]=v.useState(!1),S=ze(e,E=>d.itemRefCallback?.(E,s,r)),w=As(),C=v.useRef("touch"),N=()=>{r||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(LI,{scope:t,value:s,disabled:r,textId:w,isSelected:f,onItemTextChange:v.useCallback(E=>{m(T=>T||(E?.textContent??"").trim())},[]),children:i.jsx(dd.ItemSlot,{scope:t,value:s,disabled:r,textValue:p,children:i.jsx(Ne.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...u,ref:S,onFocus:pe(u.onFocus,()=>b(!0)),onBlur:pe(u.onBlur,()=>b(!1)),onClick:pe(u.onClick,()=>{C.current!=="mouse"&&N()}),onPointerUp:pe(u.onPointerUp,()=>{C.current==="mouse"&&N()}),onPointerDown:pe(u.onPointerDown,E=>{C.current=E.pointerType}),onPointerMove:pe(u.onPointerMove,E=>{C.current=E.pointerType,r?d.onItemLeave?.():C.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:pe(u.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(_I.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});AS.displayName=Cu;var Wa="SelectItemText",TS=v.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,...l}=n,u=Jr(Wa,t),c=ei(Wa,t),d=kS(Wa,t),f=AI(Wa,t),[p,m]=v.useState(null),x=ze(e,N=>m(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),b=p?.textContent,S=v.useMemo(()=>i.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=f;return Pt(()=>(w(S),()=>C(S)),[w,C,S]),i.jsxs(i.Fragment,{children:[i.jsx(Ne.span,{id:d.textId,...l,ref:x}),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Do.createPortal(l.children,u.valueNode):null]})});TS.displayName=Wa;var ES="SelectItemIndicator",RS=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return kS(ES,t).isSelected?i.jsx(Ne.span,{"aria-hidden":!0,...s,ref:e}):null});RS.displayName=ES;var Op="SelectScrollUpButton",MS=v.forwardRef((n,e)=>{const t=ei(Op,n.__scopeSelect),s=Gm(Op,n.__scopeSelect),[r,l]=v.useState(!1),u=ze(e,s.onScrollButtonChange);return Pt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollTop>0;l(f)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?i.jsx(OS,{...n,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});MS.displayName=Op;var Ip="SelectScrollDownButton",PS=v.forwardRef((n,e)=>{const t=ei(Ip,n.__scopeSelect),s=Gm(Ip,n.__scopeSelect),[r,l]=v.useState(!1),u=ze(e,s.onScrollButtonChange);return Pt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;l(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?i.jsx(OS,{...n,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});PS.displayName=Ip;var OS=v.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...r}=n,l=ei("SelectScrollButton",t),u=v.useRef(null),c=hd(t),d=v.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),Pt(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),i.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:pe(r.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:pe(r.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:pe(r.onPointerLeave,()=>{d()})})}),zI="SelectSeparator",IS=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return i.jsx(Ne.div,{"aria-hidden":!0,...s,ref:e})});IS.displayName=zI;var Dp="SelectArrow",BI=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=fd(t),l=Jr(Dp,t),u=ei(Dp,t);return l.open&&u.position==="popper"?i.jsx(Tm,{...r,...s,ref:e}):null});BI.displayName=Dp;var qI="SelectBubbleInput",DS=v.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const r=v.useRef(null),l=ze(s,r),u=Bm(e);return v.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[u,e]),i.jsx(Ne.select,{...t,style:{...v1,...t.style},ref:l,defaultValue:e})});DS.displayName=qI;function VS(n){return n===""||n===void 0}function FS(n){const e=Et(n),t=v.useRef(""),s=v.useRef(0),r=v.useCallback(u=>{const c=t.current+u;e(c),(function d(f){t.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),l=v.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,r,l]}function LS(n,e,t){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let u=GI(n,Math.max(l,0));r.length===1&&(u=u.filter(f=>f!==t));const d=u.find(f=>f.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==t?d:void 0}function GI(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var $I=hS,zS=pS,WI=gS,UI=xS,HI=vS,BS=yS,QI=SS,qS=jS,GS=AS,KI=TS,YI=RS,$S=MS,WS=PS,US=IS;const wt=$I,bt=WI,ft=v.forwardRef(({className:n,children:e,...t},s)=>i.jsxs(zS,{ref:s,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,i.jsx(UI,{asChild:!0,children:i.jsx(q1,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=zS.displayName;const HS=v.forwardRef(({className:n,...e},t)=>i.jsx($S,{ref:t,className:Ee("flex cursor-default items-center justify-center py-1",n),...e,children:i.jsx(GT,{className:"h-4 w-4"})}));HS.displayName=$S.displayName;const QS=v.forwardRef(({className:n,...e},t)=>i.jsx(WS,{ref:t,className:Ee("flex cursor-default items-center justify-center py-1",n),...e,children:i.jsx(q1,{className:"h-4 w-4"})}));QS.displayName=WS.displayName;const pt=v.forwardRef(({className:n,children:e,position:t="popper",...s},r)=>i.jsx(HI,{children:i.jsxs(BS,{ref:r,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[i.jsx(HS,{}),i.jsx(QI,{className:Ee("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(QS,{})]})}));pt.displayName=BS.displayName;const XI=v.forwardRef(({className:n,...e},t)=>i.jsx(qS,{ref:t,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));XI.displayName=qS.displayName;const Oe=v.forwardRef(({className:n,children:e,...t},s)=>i.jsxs(GS,{ref:s,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(YI,{children:i.jsx(um,{className:"h-4 w-4"})})}),i.jsx(KI,{children:e})]}));Oe.displayName=GS.displayName;const ZI=v.forwardRef(({className:n,...e},t)=>i.jsx(US,{ref:t,className:Ee("-mx-1 my-1 h-px bg-muted",n),...e}));ZI.displayName=US.displayName;var pd="Dialog",[KS,rz]=gn(pd),[JI,gs]=KS(pd),YS=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:r,onOpenChange:l,modal:u=!0}=n,c=v.useRef(null),d=v.useRef(null),[f,p]=nr({prop:s,defaultProp:r??!1,onChange:l,caller:pd});return i.jsx(JI,{scope:e,triggerRef:c,contentRef:d,contentId:As(),titleId:As(),descriptionId:As(),open:f,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),modal:u,children:t})};YS.displayName=pd;var XS="DialogTrigger",ZS=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=gs(XS,t),l=ze(e,r.triggerRef);return i.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Um(r.open),...s,ref:l,onClick:pe(n.onClick,r.onOpenToggle)})});ZS.displayName=XS;var $m="DialogPortal",[eD,JS]=KS($m,{forceMount:void 0}),e_=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:r}=n,l=gs($m,e);return i.jsx(eD,{scope:e,forceMount:t,children:v.Children.map(s,u=>i.jsx(xn,{present:t||l.open,children:i.jsx(cl,{asChild:!0,container:r,children:u})}))})};e_.displayName=$m;var Su="DialogOverlay",t_=v.forwardRef((n,e)=>{const t=JS(Su,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,l=gs(Su,n.__scopeDialog);return l.modal?i.jsx(xn,{present:s||l.open,children:i.jsx(nD,{...r,ref:e})}):null});t_.displayName=Su;var tD=Ni("DialogOverlay.RemoveScroll"),nD=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=gs(Su,t);return i.jsx(od,{as:tD,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(Ne.div,{"data-state":Um(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Ei="DialogContent",n_=v.forwardRef((n,e)=>{const t=JS(Ei,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,l=gs(Ei,n.__scopeDialog);return i.jsx(xn,{present:s||l.open,children:l.modal?i.jsx(sD,{...r,ref:e}):i.jsx(rD,{...r,ref:e})})});n_.displayName=Ei;var sD=v.forwardRef((n,e)=>{const t=gs(Ei,n.__scopeDialog),s=v.useRef(null),r=ze(e,t.contentRef,s);return v.useEffect(()=>{const l=s.current;if(l)return Pm(l)},[]),i.jsx(s_,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(n.onCloseAutoFocus,l=>{l.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:pe(n.onPointerDownOutside,l=>{const u=l.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&l.preventDefault()}),onFocusOutside:pe(n.onFocusOutside,l=>l.preventDefault())})}),rD=v.forwardRef((n,e)=>{const t=gs(Ei,n.__scopeDialog),s=v.useRef(!1),r=v.useRef(!1);return i.jsx(s_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{n.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||t.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:l=>{n.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const u=l.target;t.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),s_=v.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:l,...u}=n,c=gs(Ei,t),d=v.useRef(null),f=ze(e,d);return Mm(),i.jsxs(i.Fragment,{children:[i.jsx(sd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:l,children:i.jsx(Vo,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Um(c.open),...u,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(iD,{titleId:c.titleId}),i.jsx(aD,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Wm="DialogTitle",r_=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=gs(Wm,t);return i.jsx(Ne.h2,{id:r.titleId,...s,ref:e})});r_.displayName=Wm;var i_="DialogDescription",o_=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=gs(i_,t);return i.jsx(Ne.p,{id:r.descriptionId,...s,ref:e})});o_.displayName=i_;var a_="DialogClose",l_=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=gs(a_,t);return i.jsx(Ne.button,{type:"button",...s,ref:e,onClick:pe(n.onClick,()=>r.onOpenChange(!1))})});l_.displayName=a_;function Um(n){return n?"open":"closed"}var c_="DialogTitleWarning",[iz,u_]=$A(c_,{contentName:Ei,titleName:Wm,docsSlug:"dialog"}),iD=({titleId:n})=>{const e=u_(c_),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},oD="DialogDescriptionWarning",aD=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${u_(oD).contentName}}.`;return v.useEffect(()=>{const r=n.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},lD=YS,cD=ZS,uD=e_,d_=t_,h_=n_,f_=r_,p_=o_,dD=l_;const m_=lD,g_=cD,hD=uD,x_=v.forwardRef(({className:n,...e},t)=>i.jsx(d_,{ref:t,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));x_.displayName=d_.displayName;const Hm=v.forwardRef(({className:n,children:e,...t},s)=>i.jsxs(hD,{children:[i.jsx(x_,{}),i.jsxs(h_,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,i.jsxs(dD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(gm,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hm.displayName=h_.displayName;const Qm=({className:n,...e})=>i.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Qm.displayName="DialogHeader";const Km=v.forwardRef(({className:n,...e},t)=>i.jsx(f_,{ref:t,className:Ee("text-lg font-semibold leading-none tracking-tight",n),...e}));Km.displayName=f_.displayName;const fD=v.forwardRef(({className:n,...e},t)=>i.jsx(p_,{ref:t,className:Ee("text-sm text-muted-foreground",n),...e}));fD.displayName=p_.displayName;const Xs=v.forwardRef(({className:n,type:e,...t},s)=>i.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:s,...t}));Xs.displayName="Input";const v_="15.1.22",B0=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),q0=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Vp=(n,e)=>({startTime:e,type:"setValue",value:n}),y_=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),w_=(n,e,{startTime:t,target:s,timeConstant:r})=>s+(e-s)*Math.exp((t-n)/r),wo=n=>n.type==="exponentialRampToValue",_u=n=>n.type==="linearRampToValue",Dr=n=>wo(n)||_u(n),Ym=n=>n.type==="setValue",Zs=n=>n.type==="setValueCurve",Nu=(n,e,t,s)=>{const r=n[e];return r===void 0?s:Dr(r)||Ym(r)?r.value:Zs(r)?r.values[r.values.length-1]:w_(t,Nu(n,e-1,r.startTime,s),r)},G0=(n,e,t,s,r)=>t===void 0?[s.insertTime,r]:Dr(t)?[t.endTime,t.value]:Ym(t)?[t.startTime,t.value]:Zs(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,Nu(n,e-1,t.startTime,r)],Fp=n=>n.type==="cancelAndHold",Lp=n=>n.type==="cancelScheduledValues",Or=n=>Fp(n)||Lp(n)?n.cancelTime:wo(n)||_u(n)?n.endTime:n.startTime,$0=(n,e,t,{endTime:s,value:r})=>t===r?r:0<t&&0<r||t<0&&r<0?t*(r/t)**((n-e)/(s-e)):0,W0=(n,e,t,{endTime:s,value:r})=>t+(n-e)/(s-e)*(r-t),pD=(n,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?n[t]:(1-(e-t))*n[t]+(1-(s-e))*n[s]},mD=(n,{duration:e,startTime:t,values:s})=>{const r=(n-t)/e*(s.length-1);return pD(s,r)},Kc=n=>n.type==="setTarget";class gD{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=Or(e);if(Fp(e)||Lp(e)){const s=this._automationEvents.findIndex(l=>Lp(e)&&Zs(l)?l.startTime+l.duration>=t:Or(l)>=t),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),Fp(e)){const l=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Dr(r)){if(l!==void 0&&Kc(l))throw new Error("The internal list is malformed.");const u=l===void 0?r.insertTime:Zs(l)?l.startTime+l.duration:Or(l),c=l===void 0?this._defaultValue:Zs(l)?l.values[l.values.length-1]:l.value,d=wo(r)?$0(t,u,c,r):W0(t,u,c,r),f=wo(r)?B0(d,t,this._currenTime):q0(d,t,this._currenTime);this._automationEvents.push(f)}if(l!==void 0&&Kc(l)&&this._automationEvents.push(Vp(this.getValue(t),t)),l!==void 0&&Zs(l)&&l.startTime+l.duration>t){const u=t-l.startTime,c=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(u*c)),f=u/(d-1)*c,p=l.values.slice(0,d);if(f<1)for(let m=1;m<d;m+=1){const x=f*m%1;p[m]=l.values[m-1]*(1-x)+l.values[m]*x}this._automationEvents[this._automationEvents.length-1]=y_(p,l.startTime,u)}}}else{const s=this._automationEvents.findIndex(u=>Or(u)>t),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&Zs(r)&&Or(r)+r.duration>t)return!1;const l=wo(e)?B0(e.value,e.endTime,this._currenTime):_u(e)?q0(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(l);else{if(Zs(e)&&t+e.duration>Or(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,l)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>Or(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),r=s[0];Kc(r)&&s.unshift(Vp(Nu(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>Or(u)>e),s=this._automationEvents[t],r=(t===-1?this._automationEvents.length:t)-1,l=this._automationEvents[r];if(l!==void 0&&Kc(l)&&(s===void 0||!Dr(s)||s.insertTime>e))return w_(e,Nu(this._automationEvents,r-1,l.startTime,this._defaultValue),l);if(l!==void 0&&Ym(l)&&(s===void 0||!Dr(s)))return l.value;if(l!==void 0&&Zs(l)&&(s===void 0||!Dr(s)||l.startTime+l.duration>e))return e<l.startTime+l.duration?mD(e,l):l.values[l.values.length-1];if(l!==void 0&&Dr(l)&&(s===void 0||!Dr(s)))return l.value;if(s!==void 0&&wo(s)){const[u,c]=G0(this._automationEvents,r,l,s,this._defaultValue);return $0(e,u,c,s)}if(s!==void 0&&_u(s)){const[u,c]=G0(this._automationEvents,r,l,s,this._defaultValue);return W0(e,u,c,s)}return this._defaultValue}}const xD=n=>({cancelTime:n,type:"cancelAndHold"}),vD=n=>({cancelTime:n,type:"cancelScheduledValues"}),yD=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),wD=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),bD=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),CD=()=>new DOMException("","AbortError"),SD=n=>(e,t,[s,r,l],u)=>{n(e[r],[t,s,l],c=>c[0]===t&&c[1]===s,u)},_D=n=>(e,t,s)=>{const r=[];for(let l=0;l<s.numberOfInputs;l+=1)r.push(new Set);n.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},ND=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},To=new WeakSet,b_=new WeakMap,Xm=new WeakMap,C_=new WeakMap,Zm=new WeakMap,md=new WeakMap,S_=new WeakMap,zp=new WeakMap,Bp=new WeakMap,qp=new WeakMap,__={construct(){return __}},jD=n=>{try{const e=new Proxy(n,__);new e}catch{return!1}return!0},U0=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,H0=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),r=s.match(U0);for(;r!==null;){const l=r[1].slice(1,-1),u=r[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,e).toString());t.push(u),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(U0)}return[t.join(";"),s]},Q0=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},K0=n=>{if(!jD(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},kD=(n,e,t,s,r,l,u,c,d,f,p,m,x)=>{let b=0;return(S,w,C={credentials:"omit"})=>{const N=p.get(S);if(N!==void 0&&N.has(w))return Promise.resolve();const E=f.get(S);if(E!==void 0){const R=E.get(w);if(R!==void 0)return R}const T=l(S),M=T.audioWorklet===void 0?r(w).then(([R,I])=>{const[j,k]=H0(R,I),D=`${j};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${k}
})})(window,'_AWGS')`;return t(D)}).then(()=>{const R=x._AWGS.pop();if(R===void 0)throw new SyntaxError;s(T.currentTime,T.sampleRate,()=>R(class{},void 0,(I,j)=>{if(I.trim()==="")throw e();const k=Bp.get(T);if(k!==void 0){if(k.has(I))throw e();K0(j),Q0(j.parameterDescriptors),k.set(I,j)}else K0(j),Q0(j.parameterDescriptors),Bp.set(T,new Map([[I,j]]))},T.sampleRate,void 0,void 0))}):Promise.all([r(w),Promise.resolve(n(m,m))]).then(([[R,I],j])=>{const k=b+1;b=k;const[D,A]=H0(R,I),z=`${D};((AudioWorkletProcessor,registerProcessor)=>{${A}
})(${j?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${j?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${j?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${k}',class extends AudioWorkletProcessor{process(){return !1}})`,H=new Blob([z],{type:"application/javascript; charset=utf-8"}),X=URL.createObjectURL(H);return T.audioWorklet.addModule(X,C).then(()=>{if(c(T))return T;const Q=u(T);return Q.audioWorklet.addModule(X,C).then(()=>Q)}).then(Q=>{if(d===null)throw new SyntaxError;try{new d(Q,`__sac${k}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(X))});return E===void 0?f.set(S,new Map([[w,M]])):E.set(w,M),M.then(()=>{const R=p.get(S);R===void 0?p.set(S,new Set([w])):R.add(w)}).finally(()=>{const R=f.get(S);R!==void 0&&R.delete(w)}),M}},fs=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},gd=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return n.delete(s),s},N_=(n,e,t,s)=>{const r=fs(n,e),l=gd(r,u=>u[0]===t&&u[1]===s);return r.size===0&&n.delete(e),l},ml=n=>fs(S_,n),Eo=n=>{if(To.has(n))throw new Error("The AudioNode is already stored.");To.add(n),ml(n).forEach(e=>e(!0))},j_=n=>"port"in n,gl=n=>{if(!To.has(n))throw new Error("The AudioNode is not stored.");To.delete(n),ml(n).forEach(e=>e(!1))},Gp=(n,e)=>{!j_(n)&&e.every(t=>t.size===0)&&gl(n)},AD=(n,e,t,s,r,l,u,c,d,f,p,m,x)=>{const b=new WeakMap;return(S,w,C,N,E)=>{const{activeInputs:T,passiveInputs:M}=l(w),{outputs:R}=l(S),I=c(S),j=k=>{const D=d(w),A=d(S);if(k){const V=N_(M,S,C,N);n(T,S,V,!1),!E&&!m(S)&&t(A,D,C,N),x(w)&&Eo(w)}else{const V=s(T,S,C,N);e(M,N,V,!1),!E&&!m(S)&&r(A,D,C,N);const B=u(w);if(B===0)p(w)&&Gp(w,T);else{const Z=b.get(w);Z!==void 0&&clearTimeout(Z),b.set(w,setTimeout(()=>{p(w)&&Gp(w,T)},B*1e3))}}};return f(R,[w,C,N],k=>k[0]===w&&k[1]===C&&k[2]===N,!0)?(I.add(j),p(S)?n(T,S,[C,N,j],!0):e(M,N,[S,C,j],!0),!0):!1}},TD=n=>(e,t,[s,r,l],u)=>{const c=e.get(s);c===void 0?e.set(s,new Set([[r,t,l]])):n(c,[r,t,l],d=>d[0]===r&&d[1]===t,u)},ED=n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const r=()=>{t.removeEventListener("ended",r),t.disconnect(s),s.disconnect()};t.addEventListener("ended",r)},RD=n=>(e,t)=>{n(e).add(t)},MD={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},PD=(n,e,t,s,r,l)=>class extends n{constructor(c,d){const f=r(c),p={...MD,...d},m=s(f,p),x=l(f)?e():null;super(c,!1,m,x),this._nativeAnalyserNode=m}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},un=(n,e)=>n.context===e,OD=(n,e,t)=>()=>{const s=new WeakMap,r=async(l,u)=>{let c=e(l);if(!un(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,f)}return s.set(u,c),await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):r(l,u)}}},ju=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ds=()=>new DOMException("","IndexSizeError"),Jm=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(s){throw s.code===12?Ds():s}})(n.getChannelData)},ID={numberOfChannels:1},DD=(n,e,t,s,r,l,u,c)=>{let d=null;return class k_{constructor(p){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:m,numberOfChannels:x,sampleRate:b}={...ID,...p};d===null&&(d=new r(1,1,44100));const S=s!==null&&e(l,l)?new s({length:m,numberOfChannels:x,sampleRate:b}):d.createBuffer(x,m,b);if(S.numberOfChannels===0)throw t();return typeof S.copyFromChannel!="function"?(u(S),Jm(S)):e(ju,()=>ju(S))||c(S),n.add(S),S}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===k_.prototype||n.has(p)}}},kn=-34028234663852886e22,pn=-kn,tr=n=>To.has(n),VD={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},FD=(n,e,t,s,r,l,u,c)=>class extends n{constructor(f,p){const m=l(f),x={...VD,...p},b=r(m,x),S=u(m),w=S?e():null;super(f,!1,b,w),this._audioBufferSourceNodeRenderer=w,this._isBufferNullified=!1,this._isBufferSet=x.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=t(this,S,b.playbackRate,pn,kn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(f){if(this._nativeAudioBufferSourceNode.buffer=f,f!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(f){this._nativeAudioBufferSourceNode.loop=f}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(f){this._nativeAudioBufferSourceNode.loopEnd=f}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(f){this._nativeAudioBufferSourceNode.loopStart=f}get onended(){return this._onended}set onended(f){const p=typeof f=="function"?c(this,f):null;this._nativeAudioBufferSourceNode.onended=p;const m=this._nativeAudioBufferSourceNode.onended;this._onended=m!==null&&m===p?f:m}get playbackRate(){return this._playbackRate}start(f=0,p=0,m){if(this._nativeAudioBufferSourceNode.start(f,p,m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=m===void 0?[f,p]:[f,p,m]),this.context.state!=="closed"){Eo(this);const x=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",x),tr(this)&&gl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",x)}}stop(f=0){this._nativeAudioBufferSourceNode.stop(f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=f)}},LD=(n,e,t,s,r)=>()=>{const l=new WeakMap;let u=null,c=null;const d=async(f,p)=>{let m=t(f);const x=un(m,p);if(!x){const b={buffer:m.buffer,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,loop:m.loop,loopEnd:m.loopEnd,loopStart:m.loopStart,playbackRate:m.playbackRate.value};m=e(p,b),u!==null&&m.start(...u),c!==null&&m.stop(c)}return l.set(p,m),x?await n(p,f.playbackRate,m.playbackRate):await s(p,f.playbackRate,m.playbackRate),await r(f,p,m),m};return{set start(f){u=f},set stop(f){c=f},render(f,p){const m=l.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},zD=n=>"playbackRate"in n,BD=n=>"frequency"in n&&"gain"in n,qD=n=>"offset"in n,GD=n=>!("frequency"in n)&&"gain"in n,$D=n=>"detune"in n&&"frequency"in n&&!("gain"in n),WD=n=>"pan"in n,mn=n=>fs(b_,n),xl=n=>fs(C_,n),$p=(n,e)=>{const{activeInputs:t}=mn(n);t.forEach(r=>r.forEach(([l])=>{e.includes(n)||$p(l,[...e,n])}));const s=zD(n)?[n.playbackRate]:j_(n)?Array.from(n.parameters.values()):BD(n)?[n.Q,n.detune,n.frequency,n.gain]:qD(n)?[n.offset]:GD(n)?[n.gain]:$D(n)?[n.detune,n.frequency]:WD(n)?[n.pan]:[];for(const r of s){const l=xl(r);l!==void 0&&l.activeInputs.forEach(([u])=>$p(u,e))}tr(n)&&gl(n)},A_=n=>{$p(n.destination,[])},UD=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),HD=(n,e,t,s,r,l,u,c,d)=>class extends n{constructor(p={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let m;try{m=new d(p)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?t():S}if(m===null)throw s();if(!UD(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&m.sampleRate!==p.sampleRate)throw t();super(m,2);const{latencyHint:x}=p,{sampleRate:b}=m;if(this._baseLatency=typeof m.baseLatency=="number"?m.baseLatency:x==="balanced"?512/b:x==="interactive"||x===void 0?256/b:x==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(x*b/128)))*128/b,this._nativeAudioContext=m,d.name==="webkitAudioContext"?(this._nativeGainNode=m.createGain(),this._nativeOscillatorNode=m.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(m.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,m.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),m.removeEventListener("statechange",S)};m.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),A_(this)}))}createMediaElementSource(p){return new r(this,{mediaElement:p})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new c(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,m)=>{const x=()=>{this._nativeAudioContext.removeEventListener("statechange",x),this._nativeAudioContext.state==="running"?p():this.resume().then(p,m)};this._nativeAudioContext.addEventListener("statechange",x)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?e():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?e():p})}},QD=(n,e,t,s,r,l,u,c)=>class extends n{constructor(f,p){const m=l(f),x=u(m),b=r(m,p,x),S=x?e(c):null;super(f,!1,b,S),this._isNodeOfNativeOfflineAudioContext=x,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(f){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(f>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=f}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(f){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=f}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},KD=n=>{const e=new WeakMap,t=async(s,r)=>{const l=r.destination;return e.set(r,l),await n(s,r,l),l};return{render(s,r){const l=e.get(r);return l!==void 0?Promise.resolve(l):t(s,r)}}},YD=(n,e,t,s,r,l,u,c)=>(d,f)=>{const p=f.listener,m=()=>{const R=new Float32Array(1),I=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),j=u(f);let k=!1,D=[0,0,-1,0,1,0],A=[0,0,0];const V=()=>{if(k)return;k=!0;const H=s(f,256,9,0);H.onaudioprocess=({inputBuffer:X})=>{const Q=[l(X,R,0),l(X,R,1),l(X,R,2),l(X,R,3),l(X,R,4),l(X,R,5)];Q.some((q,W)=>q!==D[W])&&(p.setOrientation(...Q),D=Q);const $=[l(X,R,6),l(X,R,7),l(X,R,8)];$.some((q,W)=>q!==A[W])&&(p.setPosition(...$),A=$)},I.connect(H)},B=H=>X=>{X!==D[H]&&(D[H]=X,p.setOrientation(...D))},Z=H=>X=>{X!==A[H]&&(A[H]=X,p.setPosition(...A))},z=(H,X,Q)=>{const $=t(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:X});$.connect(I,0,H),$.start(),Object.defineProperty($.offset,"defaultValue",{get(){return X}});const q=n({context:d},j,$.offset,pn,kn);return c(q,"value",W=>()=>W.call(q),W=>O=>{try{W.call(q,O)}catch(Y){if(Y.code!==9)throw Y}V(),j&&Q(O)}),q.cancelAndHoldAtTime=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.cancelAndHoldAtTime),q.cancelScheduledValues=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.cancelScheduledValues),q.exponentialRampToValueAtTime=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.exponentialRampToValueAtTime),q.linearRampToValueAtTime=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.linearRampToValueAtTime),q.setTargetAtTime=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.setTargetAtTime),q.setValueAtTime=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.setValueAtTime),q.setValueCurveAtTime=(W=>j?()=>{throw r()}:(...O)=>{const Y=W.apply(q,O);return V(),Y})(q.setValueCurveAtTime),q};return{forwardX:z(0,0,B(0)),forwardY:z(1,0,B(1)),forwardZ:z(2,-1,B(2)),positionX:z(6,0,Z(0)),positionY:z(7,0,Z(1)),positionZ:z(8,0,Z(2)),upX:z(3,0,B(3)),upY:z(4,1,B(4)),upZ:z(5,0,B(5))}},{forwardX:x,forwardY:b,forwardZ:S,positionX:w,positionY:C,positionZ:N,upX:E,upY:T,upZ:M}=p.forwardX===void 0?m():p;return{get forwardX(){return x},get forwardY(){return b},get forwardZ(){return S},get positionX(){return w},get positionY(){return C},get positionZ(){return N},get upX(){return E},get upY(){return T},get upZ(){return M}}},ku=n=>"context"in n,vl=n=>ku(n[0]),Ii=(n,e,t,s)=>{for(const r of n)if(t(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Y0=(n,e,[t,s],r)=>{Ii(n,[e,t,s],l=>l[0]===e&&l[1]===t,r)},X0=(n,[e,t,s],r)=>{const l=n.get(e);l===void 0?n.set(e,new Set([[t,s]])):Ii(l,[t,s],u=>u[0]===t,r)},Ho=n=>"inputs"in n,Au=(n,e,t,s)=>{if(Ho(e)){const r=e.inputs[s];return n.connect(r,t,0),[r,t,0]}return n.connect(e,t,s),[e,t,s]},T_=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},XD=(n,e,t)=>gd(n,s=>s[0]===e&&s[1]===t),E_=(n,e)=>{if(!ml(n).delete(e))throw new Error("Missing the expected event listener.")},R_=(n,e,t)=>{const s=fs(n,e),r=gd(s,l=>l[0]===t);return s.size===0&&n.delete(e),r},Tu=(n,e,t,s)=>{Ho(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},xt=n=>fs(Xm,n),nl=n=>fs(Zm,n),Ri=n=>zp.has(n),cu=n=>!To.has(n),Z0=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=n.createScriptProcessor(256,1,1),r=n.createGain(),l=n.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=l,c.loop=!0,c.connect(s).connect(n.destination),c.connect(r),c.disconnect(r),s.onaudioprocess=d=>{const f=d.inputBuffer.getChannelData(0);Array.prototype.some.call(f,p=>p===1)?t(!0):t(!1),c.stop(),s.onaudioprocess=null,c.disconnect(s),s.disconnect(n.destination)},c.start()}}),Qf=(n,e)=>{const t=new Map;for(const s of n)for(const r of s){const l=t.get(r);t.set(r,l===void 0?1:l+1)}t.forEach((s,r)=>e(r,s))},Eu=n=>"context"in n,ZD=n=>{const e=new Map;n.connect=(t=>(s,r=0,l=0)=>{const u=Eu(s)?t(s,r,l):t(s,r),c=e.get(s);return c===void 0?e.set(s,[{input:l,output:r}]):c.every(d=>d.input!==l||d.output!==r)&&c.push({input:l,output:r}),u})(n.connect.bind(n)),n.disconnect=(t=>(s,r,l)=>{if(t.apply(n),s===void 0)e.clear();else if(typeof s=="number")for(const[u,c]of e){const d=c.filter(f=>f.output!==s);d.length===0?e.delete(u):e.set(u,d)}else if(e.has(s))if(r===void 0)e.delete(s);else{const u=e.get(s);if(u!==void 0){const c=u.filter(d=>d.output!==r&&(d.input!==l||l===void 0));c.length===0?e.delete(s):e.set(s,c)}}for(const[u,c]of e)c.forEach(d=>{Eu(u)?n.connect(u,d.output,d.input):n.connect(u,d.output)})})(n.disconnect)},JD=(n,e,t,s)=>{const{activeInputs:r,passiveInputs:l}=xl(e),{outputs:u}=mn(n),c=ml(n),d=f=>{const p=xt(n),m=nl(e);if(f){const x=R_(l,n,t);Y0(r,n,x,!1),!s&&!Ri(n)&&p.connect(m,t)}else{const x=XD(r,n,t);X0(l,x,!1),!s&&!Ri(n)&&p.disconnect(m,t)}};return Ii(u,[e,t],f=>f[0]===e&&f[1]===t,!0)?(c.add(d),tr(n)?Y0(r,n,[t,d],!0):X0(l,[n,t,d],!0),!0):!1},e4=(n,e,t,s)=>{const{activeInputs:r,passiveInputs:l}=mn(e),u=T_(r[s],n,t);return u===null?[N_(l,n,t,s)[2],!1]:[u[2],!0]},t4=(n,e,t)=>{const{activeInputs:s,passiveInputs:r}=xl(e),l=T_(s,n,t);return l===null?[R_(r,n,t)[1],!1]:[l[2],!0]},eg=(n,e,t,s,r)=>{const[l,u]=e4(n,t,s,r);if(l!==null&&(E_(n,l),u&&!e&&!Ri(n)&&Tu(xt(n),xt(t),s,r)),tr(t)){const{activeInputs:c}=mn(t);Gp(t,c)}},tg=(n,e,t,s)=>{const[r,l]=t4(n,t,s);r!==null&&(E_(n,r),l&&!e&&!Ri(n)&&xt(n).disconnect(nl(t),s))},n4=(n,e)=>{const t=mn(n),s=[];for(const r of t.outputs)vl(r)?eg(n,e,...r):tg(n,e,...r),s.push(r[0]);return t.outputs.clear(),s},s4=(n,e,t)=>{const s=mn(n),r=[];for(const l of s.outputs)l[1]===t&&(vl(l)?eg(n,e,...l):tg(n,e,...l),r.push(l[0]),s.outputs.delete(l));return r},r4=(n,e,t,s,r)=>{const l=mn(n);return Array.from(l.outputs).filter(u=>u[0]===t&&(s===void 0||u[1]===s)&&(r===void 0||u[2]===r)).map(u=>(vl(u)?eg(n,e,...u):tg(n,e,...u),l.outputs.delete(u),u[0]))},i4=(n,e,t,s,r,l,u,c,d,f,p,m,x,b,S,w)=>class extends f{constructor(N,E,T,M){super(T),this._context=N,this._nativeAudioNode=T;const R=p(N);m(R)&&t(Z0,()=>Z0(R,w))!==!0&&ZD(T),Xm.set(this,T),S_.set(this,new Set),N.state!=="closed"&&E&&Eo(this),n(this,M,T)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(N){this._nativeAudioNode.channelCount=N}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(N){this._nativeAudioNode.channelCountMode=N}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(N){this._nativeAudioNode.channelInterpretation=N}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(N,E=0,T=0){if(E<0||E>=this._nativeAudioNode.numberOfOutputs)throw r();const M=p(this._context),R=S(M);if(x(N)||b(N))throw l();if(ku(N)){const k=xt(N);try{const A=Au(this._nativeAudioNode,k,E,T),V=cu(this);(R||V)&&this._nativeAudioNode.disconnect(...A),this.context.state!=="closed"&&!V&&cu(N)&&Eo(N)}catch(A){throw A.code===12?l():A}if(e(this,N,E,T,R)){const A=d([this],N);Qf(A,s(R))}return N}const I=nl(N);if(I.name==="playbackRate"&&I.maxValue===1024)throw u();try{this._nativeAudioNode.connect(I,E),(R||cu(this))&&this._nativeAudioNode.disconnect(I,E)}catch(k){throw k.code===12?l():k}if(JD(this,N,E,R)){const k=d([this],N);Qf(k,s(R))}}disconnect(N,E,T){let M;const R=p(this._context),I=S(R);if(N===void 0)M=n4(this,I);else if(typeof N=="number"){if(N<0||N>=this.numberOfOutputs)throw r();M=s4(this,I,N)}else{if(E!==void 0&&(E<0||E>=this.numberOfOutputs)||ku(N)&&T!==void 0&&(T<0||T>=N.numberOfInputs))throw r();if(M=r4(this,I,N,E,T),M.length===0)throw l()}for(const j of M){const k=d([this],j);Qf(k,c)}}},o4=(n,e,t,s,r,l,u,c,d,f,p,m,x)=>(b,S,w,C=null,N=null)=>{const E=w.value,T=new gD(E),M=S?s(T):null,R={get defaultValue(){return E},get maxValue(){return C===null?w.maxValue:C},get minValue(){return N===null?w.minValue:N},get value(){return w.value},set value(I){w.value=I,R.setValueAtTime(I,b.context.currentTime)},cancelAndHoldAtTime(I){if(typeof w.cancelAndHoldAtTime=="function")M===null&&T.flush(b.context.currentTime),T.add(r(I)),w.cancelAndHoldAtTime(I);else{const j=Array.from(T).pop();M===null&&T.flush(b.context.currentTime),T.add(r(I));const k=Array.from(T).pop();w.cancelScheduledValues(I),j!==k&&k!==void 0&&(k.type==="exponentialRampToValue"?w.exponentialRampToValueAtTime(k.value,k.endTime):k.type==="linearRampToValue"?w.linearRampToValueAtTime(k.value,k.endTime):k.type==="setValue"?w.setValueAtTime(k.value,k.startTime):k.type==="setValueCurve"&&w.setValueCurveAtTime(k.values,k.startTime,k.duration))}return R},cancelScheduledValues(I){return M===null&&T.flush(b.context.currentTime),T.add(l(I)),w.cancelScheduledValues(I),R},exponentialRampToValueAtTime(I,j){if(I===0)throw new RangeError;if(!Number.isFinite(j)||j<0)throw new RangeError;const k=b.context.currentTime;return M===null&&T.flush(k),Array.from(T).length===0&&(T.add(f(E,k)),w.setValueAtTime(E,k)),T.add(u(I,j)),w.exponentialRampToValueAtTime(I,j),R},linearRampToValueAtTime(I,j){const k=b.context.currentTime;return M===null&&T.flush(k),Array.from(T).length===0&&(T.add(f(E,k)),w.setValueAtTime(E,k)),T.add(c(I,j)),w.linearRampToValueAtTime(I,j),R},setTargetAtTime(I,j,k){return M===null&&T.flush(b.context.currentTime),T.add(d(I,j,k)),w.setTargetAtTime(I,j,k),R},setValueAtTime(I,j){return M===null&&T.flush(b.context.currentTime),T.add(f(I,j)),w.setValueAtTime(I,j),R},setValueCurveAtTime(I,j,k){const D=I instanceof Float32Array?I:new Float32Array(I);if(m!==null&&m.name==="webkitAudioContext"){const A=j+k,V=b.context.sampleRate,B=Math.ceil(j*V),Z=Math.floor(A*V),z=Z-B,H=new Float32Array(z);for(let Q=0;Q<z;Q+=1){const $=(D.length-1)/k*((B+Q)/V-j),q=Math.floor($),W=Math.ceil($);H[Q]=q===W?D[q]:(1-($-q))*D[q]+(1-(W-$))*D[W]}M===null&&T.flush(b.context.currentTime),T.add(p(H,j,k)),w.setValueCurveAtTime(H,j,k);const X=Z/V;X<A&&x(R,H[H.length-1],X),x(R,D[D.length-1],A)}else M===null&&T.flush(b.context.currentTime),T.add(p(D,j,k)),w.setValueCurveAtTime(D,j,k);return R}};return t.set(R,w),e.set(R,b),n(R,M),R},a4=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:s,value:r}=t;e.exponentialRampToValueAtTime(r,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:r}=t;e.linearRampToValueAtTime(r,s)}else if(t.type==="setTarget"){const{startTime:s,target:r,timeConstant:l}=t;e.setTargetAtTime(r,s,l)}else if(t.type==="setValue"){const{startTime:s,value:r}=t;e.setValueAtTime(r,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:r,values:l}=t;e.setValueCurveAtTime(l,r,s)}else throw new Error("Can't apply an unknown automation.")}});class M_{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,r)=>e.call(t,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const l4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},c4=(n,e,t,s,r,l,u,c,d,f,p,m,x,b)=>class extends e{constructor(w,C,N){var E;const T=c(w),M=d(T),R=p({...l4,...N});x(R);const I=Bp.get(T),j=I?.get(C),k=M||T.state!=="closed"?T:(E=u(T))!==null&&E!==void 0?E:T,D=r(k,M?null:w.baseLatency,f,C,j,R),A=M?s(C,R,j):null;super(w,!0,D,A);const V=[];D.parameters.forEach((Z,z)=>{const H=t(this,M,Z);V.push([z,H])}),this._nativeAudioWorkletNode=D,this._onprocessorerror=null,this._parameters=new M_(V),M&&n(T,this);const{activeInputs:B}=l(this);m(D,B)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(w){const C=typeof w=="function"?b(this,w):null;this._nativeAudioWorkletNode.onprocessorerror=C;const N=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=N!==null&&N===C?w:N}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ru(n,e,t,s,r){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,r);else{const l=n.getChannelData(s);if(e[t].byteLength===0)e[t]=l.slice(r,r+128);else{const u=new Float32Array(l.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const P_=(n,e,t,s,r)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],s,r):e[t].byteLength!==0&&n.getChannelData(s).set(e[t],r)},Mu=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const r=[],l=typeof e=="number"?e:e[s];for(let u=0;u<l;u+=1)r.push(new Float32Array(128));t.push(r)}return t},u4=(n,e)=>{const t=fs(qp,n),s=xt(e);return fs(t,s)},d4=async(n,e,t,s,r,l,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,d=s.channelCount*s.numberOfInputs,f=r.reduce((C,N)=>C+N,0),p=f===0?null:t.createBuffer(f,c,t.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const m=mn(n),x=await u4(t,n),b=Mu(s.numberOfInputs,s.channelCount),S=Mu(s.numberOfOutputs,r),w=Array.from(n.parameters.keys()).reduce((C,N)=>({...C,[N]:new Float32Array(128)}),{});for(let C=0;C<c;C+=128){if(s.numberOfInputs>0&&e!==null)for(let N=0;N<s.numberOfInputs;N+=1)for(let E=0;E<s.channelCount;E+=1)Ru(e,b[N],E,E,C);l.parameterDescriptors!==void 0&&e!==null&&l.parameterDescriptors.forEach(({name:N},E)=>{Ru(e,w,N,d+E,C)});for(let N=0;N<s.numberOfInputs;N+=1)for(let E=0;E<r[N];E+=1)S[N][E].byteLength===0&&(S[N][E]=new Float32Array(128));try{const N=b.map((T,M)=>m.activeInputs[M].size===0?[]:T),E=u(C/t.sampleRate,t.sampleRate,()=>x.process(N,S,w));if(p!==null)for(let T=0,M=0;T<s.numberOfOutputs;T+=1){for(let R=0;R<r[T];R+=1)P_(p,S[T],R,M+R,C);M+=r[T]}if(!E)break}catch(N){n.dispatchEvent(new ErrorEvent("processorerror",{colno:N.colno,filename:N.filename,lineno:N.lineno,message:N.message}));break}}return p},h4=(n,e,t,s,r,l,u,c,d,f,p,m,x,b,S,w)=>(C,N,E)=>{const T=new WeakMap;let M=null;const R=async(I,j)=>{let k=p(I),D=null;const A=un(k,j),V=Array.isArray(N.outputChannelCount)?N.outputChannelCount:Array.from(N.outputChannelCount);if(m===null){const B=V.reduce((X,Q)=>X+Q,0),Z=r(j,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),z=[];for(let X=0;X<I.numberOfOutputs;X+=1)z.push(s(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:V[X]}));const H=u(j,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1});H.connect=e.bind(null,z),H.disconnect=d.bind(null,z),D=[Z,z,H]}else A||(k=new m(j,C));if(T.set(j,D===null?k:D[2]),D!==null){if(M===null){if(E===void 0)throw new Error("Missing the processor constructor.");if(x===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=I.channelCount*I.numberOfInputs,$=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length,q=Q+$;M=d4(I,q===0?null:await(async()=>{const O=new x(q,Math.ceil(I.context.length/128)*128,j.sampleRate),Y=[],he=[];for(let me=0;me<N.numberOfInputs;me+=1)Y.push(u(O,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1})),he.push(r(O,{channelCount:N.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:N.channelCount}));const ue=await Promise.all(Array.from(I.parameters.values()).map(async me=>{const L=l(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:me.value});return await b(O,me,L.offset),L})),ae=s(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Q+$)});for(let me=0;me<N.numberOfInputs;me+=1){Y[me].connect(he[me]);for(let L=0;L<N.channelCount;L+=1)he[me].connect(ae,L,me*N.channelCount+L)}for(const[me,L]of ue.entries())L.connect(ae,0,Q+me),L.start(0);return ae.connect(O.destination),await Promise.all(Y.map(me=>S(I,O,me))),w(O)})(),j,N,V,E,f)}const B=await M,Z=t(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[z,H,X]=D;B!==null&&(Z.buffer=B,Z.start(0)),Z.connect(z);for(let Q=0,$=0;Q<I.numberOfOutputs;Q+=1){const q=H[Q];for(let W=0;W<V[Q];W+=1)z.connect(q,$+W,W);$+=V[Q]}return X}if(A)for(const[B,Z]of I.parameters.entries())await n(j,Z,k.parameters.get(B));else for(const[B,Z]of I.parameters.entries())await b(j,Z,k.parameters.get(B));return await S(I,j,k),k};return{render(I,j){c(j,I);const k=T.get(j);return k!==void 0?Promise.resolve(k):R(I,j)}}},f4=(n,e,t,s,r,l,u,c,d,f,p,m,x,b,S,w,C,N,E,T)=>class extends S{constructor(R,I){super(R,I),this._nativeContext=R,this._audioWorklet=n===void 0?void 0:{addModule:(j,k)=>n(this,j,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(R,I,j){return new t({length:I,numberOfChannels:R,sampleRate:j})}createBufferSource(){return new s(this)}createChannelMerger(R=6){return new l(this,{numberOfInputs:R})}createChannelSplitter(R=6){return new u(this,{numberOfOutputs:R})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(R=1){return new p(this,{maxDelayTime:R})}createDynamicsCompressor(){return new m(this)}createGain(){return new x(this)}createIIRFilter(R,I){return new b(this,{feedback:I,feedforward:R})}createOscillator(){return new w(this)}createPanner(){return new C(this)}createPeriodicWave(R,I,j={disableNormalization:!1}){return new N(this,{...j,imag:I,real:R})}createStereoPanner(){return new E(this)}createWaveShaper(){return new T(this)}decodeAudioData(R,I,j){return f(this._nativeContext,R).then(k=>(typeof I=="function"&&I(k),k),k=>{throw typeof j=="function"&&j(k),k})}},p4={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},m4=(n,e,t,s,r,l,u,c)=>class extends n{constructor(f,p){const m=l(f),x={...p4,...p},b=r(m,x),S=u(m),w=S?t():null;super(f,!1,b,w),this._Q=e(this,S,b.Q,pn,kn),this._detune=e(this,S,b.detune,1200*Math.log2(pn),-1200*Math.log2(pn)),this._frequency=e(this,S,b.frequency,f.sampleRate/2,0),this._gain=e(this,S,b.gain,40*Math.log10(pn),kn),this._nativeBiquadFilterNode=b,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(f){this._nativeBiquadFilterNode.type=f}getFrequencyResponse(f,p,m){try{this._nativeBiquadFilterNode.getFrequencyResponse(f,p,m)}catch(x){throw x.code===11?s():x}if(f.length!==p.length||p.length!==m.length)throw s()}},g4=(n,e,t,s,r)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const p=un(f,d);if(!p){const m={Q:f.Q.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,gain:f.gain.value,type:f.type};f=e(d,m)}return l.set(d,f),p?(await n(d,c.Q,f.Q),await n(d,c.detune,f.detune),await n(d,c.frequency,f.frequency),await n(d,c.gain,f.gain)):(await s(d,c.Q,f.Q),await s(d,c.detune,f.detune),await s(d,c.frequency,f.frequency),await s(d,c.gain,f.gain)),await r(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},x4=(n,e)=>(t,s)=>{const r=e.get(t);if(r!==void 0)return r;const l=n.get(t);if(l!==void 0)return l;try{const u=s();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},v4={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},y4=(n,e,t,s,r)=>class extends n{constructor(u,c){const d=s(u),f={...v4,...c},p=t(d,f),m=r(d)?e():null;super(u,!1,p,m)}},w4=(n,e,t)=>()=>{const s=new WeakMap,r=async(l,u)=>{let c=e(l);if(!un(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,f)}return s.set(u,c),await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):r(l,u)}}},b4={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},C4=(n,e,t,s,r,l)=>class extends n{constructor(c,d){const f=s(c),p=l({...b4,...d}),m=t(f,p),x=r(f)?e():null;super(c,!1,m,x)}},S4=(n,e,t)=>()=>{const s=new WeakMap,r=async(l,u)=>{let c=e(l);if(!un(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,f)}return s.set(u,c),await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):r(l,u)}}},_4=n=>(e,t,s)=>n(t,e,s),N4=n=>(e,t,s=0,r=0)=>{const l=e[s];if(l===void 0)throw n();return Eu(t)?l.connect(t,0,r):l.connect(t,0)},j4=n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},k4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},A4=(n,e,t,s,r,l,u)=>class extends n{constructor(d,f){const p=r(d),m={...k4,...f},x=s(p,m),b=l(p),S=b?t():null;super(d,!1,x,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=x,this._offset=e(this,b,x.offset,pn,kn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?u(this,d):null;this._nativeConstantSourceNode.onended=f;const p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===f?d:p}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){Eo(this);const f=()=>{this._nativeConstantSourceNode.removeEventListener("ended",f),tr(this)&&gl(this)};this._nativeConstantSourceNode.addEventListener("ended",f)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},T4=(n,e,t,s,r)=>()=>{const l=new WeakMap;let u=null,c=null;const d=async(f,p)=>{let m=t(f);const x=un(m,p);if(!x){const b={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,offset:m.offset.value};m=e(p,b),u!==null&&m.start(u),c!==null&&m.stop(c)}return l.set(p,m),x?await n(p,f.offset,m.offset):await s(p,f.offset,m.offset),await r(f,p,m),m};return{set start(f){u=f},set stop(f){c=f},render(f,p){const m=l.get(p);return m!==void 0?Promise.resolve(m):d(f,p)}}},E4=n=>e=>(n[0]=e,n[0]),R4={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},M4=(n,e,t,s,r,l)=>class extends n{constructor(c,d){const f=s(c),p={...R4,...d},m=t(f,p),b=r(f)?e():null;super(c,!1,m,b),this._isBufferNullified=!1,this._nativeConvolverNode=m,p.buffer!==null&&l(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},P4=(n,e,t)=>()=>{const s=new WeakMap,r=async(l,u)=>{let c=e(l);if(!un(c,u)){const f={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,f)}return s.set(u,c),Ho(c)?await t(l,u,c.inputs[0]):await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):r(l,u)}}},O4=(n,e)=>(t,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,r)}catch(l){throw l.name==="SyntaxError"?n():l}},I4=()=>new DOMException("","DataCloneError"),J0=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const r=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>r();try{e.postMessage(n,[n])}catch{}finally{r()}})},D4=(n,e,t,s,r,l,u,c,d,f,p)=>(m,x)=>{const b=u(m)?m:l(m);if(r.has(x)){const S=t();return Promise.reject(S)}try{r.add(x)}catch{}return e(d,()=>d(b))?b.decodeAudioData(x).then(S=>(J0(x).catch(()=>{}),e(c,()=>c(S))||p(S),n.add(S),S)):new Promise((S,w)=>{const C=async()=>{try{await J0(x)}catch{}},N=E=>{w(E),C()};try{b.decodeAudioData(x,E=>{typeof E.copyFromChannel!="function"&&(f(E),Jm(E)),n.add(E),C().then(()=>S(E))},E=>{N(E===null?s():E)})}catch(E){N(E)}})},V4=(n,e,t,s,r,l,u,c)=>(d,f)=>{const p=e.get(d);if(p===void 0)throw new Error("Missing the expected cycle count.");const m=l(d.context),x=c(m);if(p===f){if(e.delete(d),!x&&u(d)){const b=s(d),{outputs:S}=t(d);for(const w of S)if(vl(w)){const C=s(w[0]);n(b,C,w[1],w[2])}else{const C=r(w[0]);b.connect(C,w[1])}}}else e.set(d,p-f)},F4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},L4=(n,e,t,s,r,l,u)=>class extends n{constructor(d,f){const p=r(d),m={...F4,...f},x=s(p,m),b=l(p),S=b?t(m.maxDelayTime):null;super(d,!1,x,S),this._delayTime=e(this,b,x.delayTime),u(this,m.maxDelayTime)}get delayTime(){return this._delayTime}},z4=(n,e,t,s,r)=>l=>{const u=new WeakMap,c=async(d,f)=>{let p=t(d);const m=un(p,f);if(!m){const x={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:l};p=e(f,x)}return u.set(f,p),m?await n(f,d.delayTime,p.delayTime):await s(f,d.delayTime,p.delayTime),await r(d,f,p),p};return{render(d,f){const p=u.get(f);return p!==void 0?Promise.resolve(p):c(d,f)}}},B4=n=>(e,t,s,r)=>n(e[r],l=>l[0]===t&&l[1]===s),q4=n=>(e,t)=>{n(e).delete(t)},G4=n=>"delayTime"in n,$4=(n,e,t)=>function s(r,l){const u=ku(l)?l:t(n,l);if(G4(u))return[];if(r[0]===u)return[r];if(r.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(d=>s([...r,u],d[0])).reduce((d,f)=>d.concat(f),[])},Yc=(n,e,t)=>{const s=e[t];if(s===void 0)throw n();return s},W4=n=>(e,t=void 0,s=void 0,r=0)=>t===void 0?e.forEach(l=>l.disconnect()):typeof t=="number"?Yc(n,e,t).disconnect():Eu(t)?s===void 0?e.forEach(l=>l.disconnect(t)):r===void 0?Yc(n,e,s).disconnect(t,0):Yc(n,e,s).disconnect(t,0,r):s===void 0?e.forEach(l=>l.disconnect(t)):Yc(n,e,s).disconnect(t,0),U4={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},H4=(n,e,t,s,r,l,u,c)=>class extends n{constructor(f,p){const m=l(f),x={...U4,...p},b=s(m,x),S=u(m),w=S?t():null;super(f,!1,b,w),this._attack=e(this,S,b.attack),this._knee=e(this,S,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=e(this,S,b.ratio),this._release=e(this,S,b.release),this._threshold=e(this,S,b.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(f){const p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=f,f>2)throw this._nativeDynamicsCompressorNode.channelCount=p,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(f){const p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=f,f==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Q4=(n,e,t,s,r)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const p=un(f,d);if(!p){const m={attack:f.attack.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,knee:f.knee.value,ratio:f.ratio.value,release:f.release.value,threshold:f.threshold.value};f=e(d,m)}return l.set(d,f),p?(await n(d,c.attack,f.attack),await n(d,c.knee,f.knee),await n(d,c.ratio,f.ratio),await n(d,c.release,f.release),await n(d,c.threshold,f.threshold)):(await s(d,c.attack,f.attack),await s(d,c.knee,f.knee),await s(d,c.ratio,f.ratio),await s(d,c.release,f.release),await s(d,c.threshold,f.threshold)),await r(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},K4=()=>new DOMException("","EncodingError"),Y4=n=>e=>new Promise((t,s)=>{if(n===null){s(new SyntaxError);return}const r=n.document.head;if(r===null)s(new SyntaxError);else{const l=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),d=n.onerror,f=()=>{n.onerror=d,URL.revokeObjectURL(c)};n.onerror=(p,m,x,b,S)=>{if(m===c||m===n.location.href&&x===1&&b===1)return f(),s(S),!1;if(d!==null)return d(p,m,x,b,S)},l.onerror=()=>{f(),s(new SyntaxError)},l.onload=()=>{f(),t()},l.src=c,l.type="module",r.appendChild(l)}}),X4=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,r){if(s!==null){let l=this._listeners.get(s);l===void 0&&(l=n(this,s),typeof s=="function"&&this._listeners.set(s,l)),this._nativeEventTarget.addEventListener(t,l,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,r){const l=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,l===void 0?null:l,r)}},Z4=n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},J4=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},e3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},t3=(n,e,t,s,r,l)=>class extends n{constructor(c,d){const f=r(c),p={...e3,...d},m=s(f,p),x=l(f),b=x?t():null;super(c,!1,m,b),this._gain=e(this,x,m.gain,pn,kn)}get gain(){return this._gain}},n3=(n,e,t,s,r)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const p=un(f,d);if(!p){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:f.gain.value};f=e(d,m)}return l.set(d,f),p?await n(d,c.gain,f.gain):await s(d,c.gain,f.gain),await r(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},s3=(n,e)=>t=>e(n,t),r3=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},i3=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},o3=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},a3=n=>e=>n.get(e),Zt=()=>new DOMException("","InvalidStateError"),l3=n=>e=>{const t=n.get(e);if(t===void 0)throw Zt();return t},c3=(n,e)=>t=>{let s=n.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s},u3=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},xd=()=>new DOMException("","InvalidAccessError"),d3=n=>{n.getFrequencyResponse=(e=>(t,s,r)=>{if(t.length!==s.length||s.length!==r.length)throw xd();return e.call(n,t,s,r)})(n.getFrequencyResponse)},h3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},f3=(n,e,t,s,r,l)=>class extends n{constructor(c,d){const f=s(c),p=r(f),m={...h3,...d},x=e(f,p?null:c.baseLatency,m),b=p?t(m.feedback,m.feedforward):null;super(c,!1,x,b),d3(x),this._nativeIIRFilterNode=x,l(this,1)}getFrequencyResponse(c,d,f){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,f)}},O_=(n,e,t,s,r,l,u,c,d,f,p)=>{const m=f.length;let x=c;for(let b=0;b<m;b+=1){let S=t[0]*f[b];for(let w=1;w<r;w+=1){const C=x-w&d-1;S+=t[w]*l[C],S-=n[w]*u[C]}for(let w=r;w<s;w+=1)S+=t[w]*l[x-w&d-1];for(let w=r;w<e;w+=1)S-=n[w]*u[x-w&d-1];l[x]=f[b],u[x]=S,x=x+1&d-1,p[b]=S}return x},p3=(n,e,t,s)=>{const r=t instanceof Float64Array?t:new Float64Array(t),l=s instanceof Float64Array?s:new Float64Array(s),u=r.length,c=l.length,d=Math.min(u,c);if(r[0]!==1){for(let S=0;S<u;S+=1)l[S]/=r[0];for(let S=1;S<c;S+=1)r[S]/=r[0]}const f=32,p=new Float32Array(f),m=new Float32Array(f),x=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),b=n.numberOfChannels;for(let S=0;S<b;S+=1){const w=n.getChannelData(S),C=x.getChannelData(S);p.fill(0),m.fill(0),O_(r,u,l,c,d,p,m,0,f,w,C)}return x},m3=(n,e,t,s,r)=>(l,u)=>{const c=new WeakMap;let d=null;const f=async(p,m)=>{let x=null,b=e(p);const S=un(b,m);if(m.createIIRFilter===void 0?x=n(m,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(b=m.createIIRFilter(u,l)),c.set(m,x===null?b:x),x!==null){if(d===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new t(p.context.destination.channelCount,p.context.length,m.sampleRate);d=(async()=>{await s(p,C,C.destination);const N=await r(C);return p3(N,m,l,u)})()}const w=await d;return x.buffer=w,x.start(0),x}return await s(p,m,b),b};return{render(p,m){const x=c.get(m);return x!==void 0?Promise.resolve(x):f(p,m)}}},g3=(n,e,t,s,r,l)=>u=>(c,d)=>{const f=n.get(c);if(f===void 0){if(!u&&l(c)){const p=s(c),{outputs:m}=t(c);for(const x of m)if(vl(x)){const b=s(x[0]);e(p,b,x[1],x[2])}else{const b=r(x[0]);p.disconnect(b,x[1])}}n.set(c,d)}else n.set(c,f+d)},x3=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},v3=(n,e)=>t=>n.has(t)||e(t),y3=(n,e)=>t=>n.has(t)||e(t),w3=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},b3=n=>e=>n!==null&&e instanceof n,C3=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,S3=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,_3=(n,e)=>t=>n(t)||e(t),N3=n=>e=>n!==null&&e instanceof n,j3=n=>n!==null&&n.isSecureContext,k3=(n,e,t,s)=>class extends n{constructor(l,u){const c=t(l),d=e(c,u);if(s(c))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},A3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},T3=(n,e,t,s)=>class extends n{constructor(l,u){const c=t(l);if(s(c))throw new TypeError;const d={...A3,...u},f=e(c,d);super(l,!1,f,null),this._nativeMediaStreamAudioDestinationNode=f}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},E3=(n,e,t,s)=>class extends n{constructor(l,u){const c=t(l),d=e(c,u);if(s(c))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},R3=(n,e,t)=>class extends n{constructor(r,l){const u=t(r),c=e(u,l);super(r,!0,c,null)}},M3=(n,e,t,s,r,l)=>class extends t{constructor(c,d){super(c),this._nativeContext=c,md.set(this,c),s(c)&&r.set(c,new Set),this._destination=new n(this,d),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?l(this,c):null;this._nativeContext.onstatechange=d;const f=this._nativeContext.onstatechange;this._onstatechange=f!==null&&f===d?c:f}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},sl=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},P3=(n,e)=>(t,s,r)=>{const l=new Set;return t.connect=(u=>(c,d=0,f=0)=>{const p=l.size===0;if(e(c))return u.call(t,c,d,f),n(l,[c,d,f],m=>m[0]===c&&m[1]===d&&m[2]===f,!0),p&&s(),c;u.call(t,c,d),n(l,[c,d],m=>m[0]===c&&m[1]===d,!0),p&&s()})(t.connect),t.disconnect=(u=>(c,d,f)=>{const p=l.size>0;if(c===void 0)u.apply(t),l.clear();else if(typeof c=="number"){u.call(t,c);for(const x of l)x[1]===c&&l.delete(x)}else{e(c)?u.call(t,c,d,f):u.call(t,c,d);for(const x of l)x[0]===c&&(d===void 0||x[1]===d)&&(f===void 0||x[2]===f)&&l.delete(x)}const m=l.size===0;p&&m&&r()})(t.disconnect),t},yt=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t]&&(n[t]=s)},Qt=(n,e)=>{yt(n,e,"channelCount"),yt(n,e,"channelCountMode"),yt(n,e,"channelInterpretation")},ew=n=>typeof n.getFloatTimeDomainData=="function",O3=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let r=0;r<s;r+=1)e[r]=(t[r]-128)*.0078125;return e}},I3=(n,e)=>(t,s)=>{const r=t.createAnalyser();if(Qt(r,s),!(s.maxDecibels>s.minDecibels))throw e();return yt(r,s,"fftSize"),yt(r,s,"maxDecibels"),yt(r,s,"minDecibels"),yt(r,s,"smoothingTimeConstant"),n(ew,()=>ew(r))||O3(r),r},D3=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,Tt=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t].value&&(n[t].value=s)},V3=n=>{n.start=(e=>{let t=!1;return(s=0,r=0,l)=>{if(t)throw Zt();e.call(n,s,r,l),t=!0}})(n.start)},ng=n=>{n.start=(e=>(t=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,r)})(n.start)},sg=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},F3=(n,e,t,s,r,l,u,c,d,f,p)=>(m,x)=>{const b=m.createBufferSource();return Qt(b,x),Tt(b,x,"playbackRate"),yt(b,x,"buffer"),yt(b,x,"loop"),yt(b,x,"loopEnd"),yt(b,x,"loopStart"),e(t,()=>t(m))||V3(b),e(s,()=>s(m))||d(b),e(r,()=>r(m))||f(b,m),e(l,()=>l(m))||ng(b),e(u,()=>u(m))||p(b,m),e(c,()=>c(m))||sg(b),n(m,b),b},L3=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,z3=(n,e)=>(t,s,r)=>{const l=t.destination;if(l.channelCount!==s)try{l.channelCount=s}catch{}r&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:s});const u=n(t,{channelCount:s,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>d=>{c.call(u,d);try{l.channelCount=d}catch(f){if(d>l.maxChannelCount)throw f}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>d=>{c.call(u,d),l.channelCountMode=d}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>d=>{c.call(u,d),l.channelInterpretation=d}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},B3=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,q3=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},G3=(n,e,t,s,r)=>(l,u,c,d,f,p)=>{if(c!==null)try{const m=new c(l,d,p),x=new Map;let b=null;if(Object.defineProperties(m,{channelCount:{get:()=>p.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>b,set:S=>{typeof b=="function"&&m.removeEventListener("processorerror",b),b=typeof S=="function"?S:null,typeof b=="function"&&m.addEventListener("processorerror",b)}}}),m.addEventListener=(S=>(...w)=>{if(w[0]==="processorerror"){const C=typeof w[1]=="function"?w[1]:typeof w[1]=="object"&&w[1]!==null&&typeof w[1].handleEvent=="function"?w[1].handleEvent:null;if(C!==null){const N=x.get(w[1]);N!==void 0?w[1]=N:(w[1]=E=>{E.type==="error"?(Object.defineProperties(E,{type:{value:"processorerror"}}),C(E)):C(new ErrorEvent(w[0],{...E}))},x.set(C,w[1]))}}return S.call(m,"error",w[1],w[2]),S.call(m,...w)})(m.addEventListener),m.removeEventListener=(S=>(...w)=>{if(w[0]==="processorerror"){const C=x.get(w[1]);C!==void 0&&(x.delete(w[1]),w[1]=C)}return S.call(m,"error",w[1],w[2]),S.call(m,w[0],w[1],w[2])})(m.removeEventListener),p.numberOfOutputs!==0){const S=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return m.connect(S).connect(l.destination),r(m,()=>S.disconnect(),()=>S.connect(l.destination))}return m}catch(m){throw m.code===11?s():m}if(f===void 0)throw s();return q3(p),e(l,u,f,p)},I_=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),$3=n=>new Promise((e,t)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:l})=>{s.close(),r.close(),e(l)},s.onmessageerror=({data:l})=>{s.close(),r.close(),t(l)},r.postMessage(n)}),W3=async(n,e)=>{const t=await $3(e);return new n(t)},U3=(n,e,t,s)=>{let r=qp.get(n);r===void 0&&(r=new WeakMap,qp.set(n,r));const l=W3(t,s);return r.set(e,l),l},H3=(n,e,t,s,r,l,u,c,d,f,p,m,x)=>(b,S,w,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw d();const N=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(N.some(ce=>ce<1))throw d();if(N.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw d();const E=C.channelCount*C.numberOfInputs,T=N.reduce((ce,Se)=>ce+Se,0),M=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length;if(E+M>6||T>6)throw d();const R=new MessageChannel,I=[],j=[];for(let ce=0;ce<C.numberOfInputs;ce+=1)I.push(u(b,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),j.push(r(b,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const k=[];if(w.parameterDescriptors!==void 0)for(const{defaultValue:ce,maxValue:Se,minValue:Ke,name:Ye}of w.parameterDescriptors){const $e=l(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[Ye]!==void 0?C.parameterData[Ye]:ce===void 0?0:ce});Object.defineProperties($e.offset,{defaultValue:{get:()=>ce===void 0?0:ce},maxValue:{get:()=>Se===void 0?pn:Se},minValue:{get:()=>Ke===void 0?kn:Ke}}),k.push($e)}const D=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,E+M)}),A=I_(S,b.sampleRate),V=c(b,A,E+M,Math.max(1,T)),B=r(b,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),Z=[];for(let ce=0;ce<C.numberOfOutputs;ce+=1)Z.push(s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[ce]}));for(let ce=0;ce<C.numberOfInputs;ce+=1){I[ce].connect(j[ce]);for(let Se=0;Se<C.channelCount;Se+=1)j[ce].connect(D,Se,ce*C.channelCount+Se)}const z=new M_(w.parameterDescriptors===void 0?[]:w.parameterDescriptors.map(({name:ce},Se)=>{const Ke=k[Se];return Ke.connect(D,0,E+Se),Ke.start(0),[ce,Ke.offset]}));D.connect(V);let H=C.channelInterpretation,X=null;const Q=C.numberOfOutputs===0?[V]:Z,$={get bufferSize(){return A},get channelCount(){return C.channelCount},set channelCount(ce){throw t()},get channelCountMode(){return C.channelCountMode},set channelCountMode(ce){throw t()},get channelInterpretation(){return H},set channelInterpretation(ce){for(const Se of I)Se.channelInterpretation=ce;H=ce},get context(){return V.context},get inputs(){return I},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return X},set onprocessorerror(ce){typeof X=="function"&&$.removeEventListener("processorerror",X),X=typeof ce=="function"?ce:null,typeof X=="function"&&$.addEventListener("processorerror",X)},get parameters(){return z},get port(){return R.port2},addEventListener(...ce){return V.addEventListener(ce[0],ce[1],ce[2])},connect:n.bind(null,Q),disconnect:f.bind(null,Q),dispatchEvent(...ce){return V.dispatchEvent(ce[0])},removeEventListener(...ce){return V.removeEventListener(ce[0],ce[1],ce[2])}},q=new Map;R.port1.addEventListener=(ce=>(...Se)=>{if(Se[0]==="message"){const Ke=typeof Se[1]=="function"?Se[1]:typeof Se[1]=="object"&&Se[1]!==null&&typeof Se[1].handleEvent=="function"?Se[1].handleEvent:null;if(Ke!==null){const Ye=q.get(Se[1]);Ye!==void 0?Se[1]=Ye:(Se[1]=$e=>{p(b.currentTime,b.sampleRate,()=>Ke($e))},q.set(Ke,Se[1]))}}return ce.call(R.port1,Se[0],Se[1],Se[2])})(R.port1.addEventListener),R.port1.removeEventListener=(ce=>(...Se)=>{if(Se[0]==="message"){const Ke=q.get(Se[1]);Ke!==void 0&&(q.delete(Se[1]),Se[1]=Ke)}return ce.call(R.port1,Se[0],Se[1],Se[2])})(R.port1.removeEventListener);let W=null;Object.defineProperty(R.port1,"onmessage",{get:()=>W,set:ce=>{typeof W=="function"&&R.port1.removeEventListener("message",W),W=typeof ce=="function"?ce:null,typeof W=="function"&&(R.port1.addEventListener("message",W),R.port1.start())}}),w.prototype.port=R.port1;let O=null;U3(b,$,w,C).then(ce=>O=ce);const he=Mu(C.numberOfInputs,C.channelCount),ue=Mu(C.numberOfOutputs,N),ae=w.parameterDescriptors===void 0?[]:w.parameterDescriptors.reduce((ce,{name:Se})=>({...ce,[Se]:new Float32Array(128)}),{});let me=!0;const L=()=>{C.numberOfOutputs>0&&V.disconnect(B);for(let ce=0,Se=0;ce<C.numberOfOutputs;ce+=1){const Ke=Z[ce];for(let Ye=0;Ye<N[ce];Ye+=1)B.disconnect(Ke,Se+Ye,Ye);Se+=N[ce]}},F=new Map;V.onaudioprocess=({inputBuffer:ce,outputBuffer:Se})=>{if(O!==null){const Ke=m($);for(let Ye=0;Ye<A;Ye+=128){for(let $e=0;$e<C.numberOfInputs;$e+=1)for(let Qe=0;Qe<C.channelCount;Qe+=1)Ru(ce,he[$e],Qe,Qe,Ye);w.parameterDescriptors!==void 0&&w.parameterDescriptors.forEach(({name:$e},Qe)=>{Ru(ce,ae,$e,E+Qe,Ye)});for(let $e=0;$e<C.numberOfInputs;$e+=1)for(let Qe=0;Qe<N[$e];Qe+=1)ue[$e][Qe].byteLength===0&&(ue[$e][Qe]=new Float32Array(128));try{const $e=he.map((be,et)=>{if(Ke[et].size>0)return F.set(et,A/128),be;const hr=F.get(et);return hr===void 0?[]:(be.every(Li=>Li.every(Rl=>Rl===0))&&(hr===1?F.delete(et):F.set(et,hr-1)),be)});me=p(b.currentTime+Ye/b.sampleRate,b.sampleRate,()=>O.process($e,ue,ae));for(let be=0,et=0;be<C.numberOfOutputs;be+=1){for(let wn=0;wn<N[be];wn+=1)P_(Se,ue[be],wn,et+wn,Ye);et+=N[be]}}catch($e){me=!1,$.dispatchEvent(new ErrorEvent("processorerror",{colno:$e.colno,filename:$e.filename,lineno:$e.lineno,message:$e.message}))}if(!me){for(let $e=0;$e<C.numberOfInputs;$e+=1){I[$e].disconnect(j[$e]);for(let Qe=0;Qe<C.channelCount;Qe+=1)j[Ye].disconnect(D,Qe,$e*C.channelCount+Qe)}if(w.parameterDescriptors!==void 0){const $e=w.parameterDescriptors.length;for(let Qe=0;Qe<$e;Qe+=1){const be=k[Qe];be.disconnect(D,0,E+Qe),be.stop()}}D.disconnect(V),V.onaudioprocess=null,se?L():ge();break}}}};let se=!1;const re=u(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),xe=()=>V.connect(re).connect(b.destination),ge=()=>{V.disconnect(re),re.disconnect()},Ie=()=>{if(me){ge(),C.numberOfOutputs>0&&V.connect(B);for(let ce=0,Se=0;ce<C.numberOfOutputs;ce+=1){const Ke=Z[ce];for(let Ye=0;Ye<N[ce];Ye+=1)B.connect(Ke,Se+Ye,Ye);Se+=N[ce]}}se=!0},Re=()=>{me&&(xe(),L()),se=!1};return xe(),x($,Ie,Re)},D_=(n,e)=>{const t=n.createBiquadFilter();return Qt(t,e),Tt(t,e,"Q"),Tt(t,e,"detune"),Tt(t,e,"frequency"),Tt(t,e,"gain"),yt(t,e,"type"),t},Q3=(n,e)=>(t,s)=>{const r=t.createChannelMerger(s.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,r),Qt(r,s),r},K3=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Zt()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Zt()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Zt()}})},yl=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return Qt(t,e),K3(t),t},Y3=(n,e,t,s,r)=>(l,u)=>{if(l.createConstantSource===void 0)return t(l,u);const c=l.createConstantSource();return Qt(c,u),Tt(c,u,"offset"),e(s,()=>s(l))||ng(c),e(r,()=>r(l))||sg(c),n(l,c),c},Qo=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),X3=(n,e,t,s)=>(r,{offset:l,...u})=>{const c=r.createBuffer(1,2,44100),d=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),f=t(r,{...u,gain:l}),p=c.getChannelData(0);p[0]=1,p[1]=1,d.buffer=c,d.loop=!0;const m={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(S){f.channelCount=S},get channelCountMode(){return f.channelCountMode},set channelCountMode(S){f.channelCountMode=S},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(S){f.channelInterpretation=S},get context(){return f.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get offset(){return f.gain},get onended(){return d.onended},set onended(S){d.onended=S},addEventListener(...S){return d.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return d.dispatchEvent(S[0])},removeEventListener(...S){return d.removeEventListener(S[0],S[1],S[2])},start(S=0){d.start.call(d,S)},stop(S=0){d.stop.call(d,S)}},x=()=>d.connect(f),b=()=>d.disconnect(f);return n(r,d),s(Qo(m,f),x,b)},Z3=(n,e)=>(t,s)=>{const r=t.createConvolver();if(Qt(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),yt(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",l=>()=>l.call(r),l=>u=>{if(u>2)throw n();return l.call(r,u)}),s.channelCountMode==="max"))throw n();return e(r,"channelCountMode",l=>()=>l.call(r),l=>u=>{if(u==="max")throw n();return l.call(r,u)}),r},V_=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return Qt(t,e),Tt(t,e,"delayTime"),t},J3=n=>(e,t)=>{const s=e.createDynamicsCompressor();if(Qt(s,t),t.channelCount>2||t.channelCountMode==="max")throw n();return Tt(s,t,"attack"),Tt(s,t,"knee"),Tt(s,t,"ratio"),Tt(s,t,"release"),Tt(s,t,"threshold"),s},Tn=(n,e)=>{const t=n.createGain();return Qt(t,e),Tt(t,e,"gain"),t},eV=n=>(e,t,s)=>{if(e.createIIRFilter===void 0)return n(e,t,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Qt(r,s),r};function tV(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function nV(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function tw(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=nV(t,e),t[0]+=n[s];return t}const sV=(n,e,t,s)=>(r,l,{channelCount:u,channelCountMode:c,channelInterpretation:d,feedback:f,feedforward:p})=>{const m=I_(l,r.sampleRate),x=f instanceof Float64Array?f:new Float64Array(f),b=p instanceof Float64Array?p:new Float64Array(p),S=x.length,w=b.length,C=Math.min(S,w);if(S===0||S>20)throw s();if(x[0]===0)throw e();if(w===0||w>20)throw s();if(b[0]===0)throw e();if(x[0]!==1){for(let k=0;k<w;k+=1)b[k]/=x[0];for(let k=1;k<S;k+=1)x[k]/=x[0]}const N=t(r,m,u,u);N.channelCount=u,N.channelCountMode=c,N.channelInterpretation=d;const E=32,T=[],M=[],R=[];for(let k=0;k<u;k+=1){T.push(0);const D=new Float32Array(E),A=new Float32Array(E);D.fill(0),A.fill(0),M.push(D),R.push(A)}N.onaudioprocess=k=>{const D=k.inputBuffer,A=k.outputBuffer,V=D.numberOfChannels;for(let B=0;B<V;B+=1){const Z=D.getChannelData(B),z=A.getChannelData(B);T[B]=O_(x,S,b,w,C,M[B],R[B],T[B],E,Z,z)}};const I=r.sampleRate/2;return Qo({get bufferSize(){return m},get channelCount(){return N.channelCount},set channelCount(k){N.channelCount=k},get channelCountMode(){return N.channelCountMode},set channelCountMode(k){N.channelCountMode=k},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(k){N.channelInterpretation=k},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},addEventListener(...k){return N.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return N.dispatchEvent(k[0])},getFrequencyResponse(k,D,A){if(k.length!==D.length||D.length!==A.length)throw n();const V=k.length;for(let B=0;B<V;B+=1){const Z=-Math.PI*(k[B]/I),z=[Math.cos(Z),Math.sin(Z)],H=tw(b,z),X=tw(x,z),Q=tV(H,X);D[B]=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),A[B]=Math.atan2(Q[1],Q[0])}},removeEventListener(...k){return N.removeEventListener(k[0],k[1],k[2])}},N)},rV=(n,e)=>n.createMediaElementSource(e.mediaElement),iV=(n,e)=>{const t=n.createMediaStreamDestination();return Qt(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},oV=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const s=t.slice(0,1),r=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},aV=(n,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const r=new MediaStream([s]),l=t.createMediaStreamSource(r);if(s.kind!=="audio")throw n();if(e(t))throw new TypeError;return l},lV=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,cV=(n,e,t,s,r,l)=>(u,c)=>{const d=u.createOscillator();return Qt(d,c),Tt(d,c,"detune"),Tt(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):yt(d,c,"type"),e(t,()=>t(u))||ng(d),e(s,()=>s(u))||l(d,u),e(r,()=>r(u))||sg(d),n(u,d),d},uV=n=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?n(e,t):(Qt(s,t),Tt(s,t,"orientationX"),Tt(s,t,"orientationY"),Tt(s,t,"orientationZ"),Tt(s,t,"positionX"),Tt(s,t,"positionY"),Tt(s,t,"positionZ"),yt(s,t,"coneInnerAngle"),yt(s,t,"coneOuterAngle"),yt(s,t,"coneOuterGain"),yt(s,t,"distanceModel"),yt(s,t,"maxDistance"),yt(s,t,"panningModel"),yt(s,t,"refDistance"),yt(s,t,"rolloffFactor"),s)},dV=(n,e,t,s,r,l,u,c,d,f)=>(p,{coneInnerAngle:m,coneOuterAngle:x,coneOuterGain:b,distanceModel:S,maxDistance:w,orientationX:C,orientationY:N,orientationZ:E,panningModel:T,positionX:M,positionY:R,positionZ:I,refDistance:j,rolloffFactor:k,...D})=>{const A=p.createPanner();if(D.channelCount>2||D.channelCountMode==="max")throw u();Qt(A,D);const V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},B=t(p,{...V,channelInterpretation:"speakers",numberOfInputs:6}),Z=s(p,{...D,gain:1}),z=s(p,{...V,gain:1}),H=s(p,{...V,gain:0}),X=s(p,{...V,gain:0}),Q=s(p,{...V,gain:0}),$=s(p,{...V,gain:0}),q=s(p,{...V,gain:0}),W=r(p,256,6,1),O=l(p,{...V,curve:new Float32Array([1,1]),oversample:"none"});let Y=[C,N,E],he=[M,R,I];const ue=new Float32Array(1);W.onaudioprocess=({inputBuffer:F})=>{const se=[d(F,ue,0),d(F,ue,1),d(F,ue,2)];se.some((xe,ge)=>xe!==Y[ge])&&(A.setOrientation(...se),Y=se);const re=[d(F,ue,3),d(F,ue,4),d(F,ue,5)];re.some((xe,ge)=>xe!==he[ge])&&(A.setPosition(...re),he=re)},Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0});const ae={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(F){if(F>2)throw u();Z.channelCount=F,A.channelCount=F},get channelCountMode(){return A.channelCountMode},set channelCountMode(F){if(F==="max")throw u();Z.channelCountMode=F,A.channelCountMode=F},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(F){Z.channelInterpretation=F,A.channelInterpretation=F},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(F){A.coneInnerAngle=F},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(F){A.coneOuterAngle=F},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(F){if(F<0||F>1)throw e();A.coneOuterGain=F},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(F){A.distanceModel=F},get inputs(){return[Z]},get maxDistance(){return A.maxDistance},set maxDistance(F){if(F<0)throw new RangeError;A.maxDistance=F},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return z.gain},get orientationY(){return H.gain},get orientationZ(){return X.gain},get panningModel(){return A.panningModel},set panningModel(F){A.panningModel=F},get positionX(){return Q.gain},get positionY(){return $.gain},get positionZ(){return q.gain},get refDistance(){return A.refDistance},set refDistance(F){if(F<0)throw new RangeError;A.refDistance=F},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(F){if(F<0)throw new RangeError;A.rolloffFactor=F},addEventListener(...F){return Z.addEventListener(F[0],F[1],F[2])},dispatchEvent(...F){return Z.dispatchEvent(F[0])},removeEventListener(...F){return Z.removeEventListener(F[0],F[1],F[2])}};m!==ae.coneInnerAngle&&(ae.coneInnerAngle=m),x!==ae.coneOuterAngle&&(ae.coneOuterAngle=x),b!==ae.coneOuterGain&&(ae.coneOuterGain=b),S!==ae.distanceModel&&(ae.distanceModel=S),w!==ae.maxDistance&&(ae.maxDistance=w),C!==ae.orientationX.value&&(ae.orientationX.value=C),N!==ae.orientationY.value&&(ae.orientationY.value=N),E!==ae.orientationZ.value&&(ae.orientationZ.value=E),T!==ae.panningModel&&(ae.panningModel=T),M!==ae.positionX.value&&(ae.positionX.value=M),R!==ae.positionY.value&&(ae.positionY.value=R),I!==ae.positionZ.value&&(ae.positionZ.value=I),j!==ae.refDistance&&(ae.refDistance=j),k!==ae.rolloffFactor&&(ae.rolloffFactor=k),(Y[0]!==1||Y[1]!==0||Y[2]!==0)&&A.setOrientation(...Y),(he[0]!==0||he[1]!==0||he[2]!==0)&&A.setPosition(...he);const me=()=>{Z.connect(A),n(Z,O,0,0),O.connect(z).connect(B,0,0),O.connect(H).connect(B,0,1),O.connect(X).connect(B,0,2),O.connect(Q).connect(B,0,3),O.connect($).connect(B,0,4),O.connect(q).connect(B,0,5),B.connect(W).connect(p.destination)},L=()=>{Z.disconnect(A),c(Z,O,0,0),O.disconnect(z),z.disconnect(B),O.disconnect(H),H.disconnect(B),O.disconnect(X),X.disconnect(B),O.disconnect(Q),Q.disconnect(B),O.disconnect($),$.disconnect(B),O.disconnect(q),q.disconnect(B),B.disconnect(W),W.disconnect(p.destination)};return f(Qo(ae,A),me,L)},hV=n=>(e,{disableNormalization:t,imag:s,real:r})=>{const l=s instanceof Float32Array?s:new Float32Array(s),u=r instanceof Float32Array?r:new Float32Array(r),c=e.createPeriodicWave(u,l,{disableNormalization:t});if(Array.from(s).length<2)throw n();return c},wl=(n,e,t,s)=>n.createScriptProcessor(e,t,s),fV=(n,e)=>(t,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,s);const l=t.createStereoPanner();return Qt(l,s),Tt(l,s,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>r,set:u=>{if(u!==r)throw e()}}),l},pV=(n,e,t,s,r,l)=>{const c=new Float32Array([1,1]),d=Math.PI/2,f={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...f,oversample:"none"},m=(S,w,C,N)=>{const E=new Float32Array(16385),T=new Float32Array(16385);for(let D=0;D<16385;D+=1){const A=D/16384*d;E[D]=Math.cos(A),T[D]=Math.sin(A)}const M=t(S,{...f,gain:0}),R=s(S,{...p,curve:E}),I=s(S,{...p,curve:c}),j=t(S,{...f,gain:0}),k=s(S,{...p,curve:T});return{connectGraph(){w.connect(M),w.connect(I.inputs===void 0?I:I.inputs[0]),w.connect(j),I.connect(C),C.connect(R.inputs===void 0?R:R.inputs[0]),C.connect(k.inputs===void 0?k:k.inputs[0]),R.connect(M.gain),k.connect(j.gain),M.connect(N,0,0),j.connect(N,0,1)},disconnectGraph(){w.disconnect(M),w.disconnect(I.inputs===void 0?I:I.inputs[0]),w.disconnect(j),I.disconnect(C),C.disconnect(R.inputs===void 0?R:R.inputs[0]),C.disconnect(k.inputs===void 0?k:k.inputs[0]),R.disconnect(M.gain),k.disconnect(j.gain),M.disconnect(N,0,0),j.disconnect(N,0,1)}}},x=(S,w,C,N)=>{const E=new Float32Array(16385),T=new Float32Array(16385),M=new Float32Array(16385),R=new Float32Array(16385),I=Math.floor(16385/2);for(let Q=0;Q<16385;Q+=1)if(Q>I){const $=(Q-I)/(16384-I)*d;E[Q]=Math.cos($),T[Q]=Math.sin($),M[Q]=0,R[Q]=1}else{const $=Q/(16384-I)*d;E[Q]=1,T[Q]=0,M[Q]=Math.cos($),R[Q]=Math.sin($)}const j=e(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=t(S,{...f,gain:0}),D=s(S,{...p,curve:E}),A=t(S,{...f,gain:0}),V=s(S,{...p,curve:T}),B=s(S,{...p,curve:c}),Z=t(S,{...f,gain:0}),z=s(S,{...p,curve:M}),H=t(S,{...f,gain:0}),X=s(S,{...p,curve:R});return{connectGraph(){w.connect(j),w.connect(B.inputs===void 0?B:B.inputs[0]),j.connect(k,0),j.connect(A,0),j.connect(Z,1),j.connect(H,1),B.connect(C),C.connect(D.inputs===void 0?D:D.inputs[0]),C.connect(V.inputs===void 0?V:V.inputs[0]),C.connect(z.inputs===void 0?z:z.inputs[0]),C.connect(X.inputs===void 0?X:X.inputs[0]),D.connect(k.gain),V.connect(A.gain),z.connect(Z.gain),X.connect(H.gain),k.connect(N,0,0),Z.connect(N,0,0),A.connect(N,0,1),H.connect(N,0,1)},disconnectGraph(){w.disconnect(j),w.disconnect(B.inputs===void 0?B:B.inputs[0]),j.disconnect(k,0),j.disconnect(A,0),j.disconnect(Z,1),j.disconnect(H,1),B.disconnect(C),C.disconnect(D.inputs===void 0?D:D.inputs[0]),C.disconnect(V.inputs===void 0?V:V.inputs[0]),C.disconnect(z.inputs===void 0?z:z.inputs[0]),C.disconnect(X.inputs===void 0?X:X.inputs[0]),D.disconnect(k.gain),V.disconnect(A.gain),z.disconnect(Z.gain),X.disconnect(H.gain),k.disconnect(N,0,0),Z.disconnect(N,0,0),A.disconnect(N,0,1),H.disconnect(N,0,1)}}},b=(S,w,C,N,E)=>{if(w===1)return m(S,C,N,E);if(w===2)return x(S,C,N,E);throw r()};return(S,{channelCount:w,channelCountMode:C,pan:N,...E})=>{if(C==="max")throw r();const T=n(S,{...E,channelCount:1,channelCountMode:C,numberOfInputs:2}),M=t(S,{...E,channelCount:w,channelCountMode:C,gain:1}),R=t(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:N});let{connectGraph:I,disconnectGraph:j}=b(S,w,M,R,T);Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"maxValue",{get:()=>1}),Object.defineProperty(R.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(B){M.channelCount!==B&&(D&&j(),{connectGraph:I,disconnectGraph:j}=b(S,B,M,R,T),D&&I()),M.channelCount=B},get channelCountMode(){return M.channelCountMode},set channelCountMode(B){if(B==="clamped-max"||B==="max")throw r();M.channelCountMode=B},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(B){M.channelInterpretation=B},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return R.gain},addEventListener(...B){return M.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return M.dispatchEvent(B[0])},removeEventListener(...B){return M.removeEventListener(B[0],B[1],B[2])}};let D=!1;const A=()=>{I(),D=!0},V=()=>{j(),D=!1};return l(Qo(k,T),A,V)}},mV=(n,e,t,s,r,l,u)=>(c,d)=>{const f=c.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,d);Qt(f,d);const p=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(p!==null&&p.length<2)throw e();yt(f,{curve:p},"curve"),yt(f,d,"oversample");let m=null,x=!1;return u(f,"curve",w=>()=>w.call(f),w=>C=>(w.call(f,C),x&&(s(C)&&m===null?m=n(c,f):!s(C)&&m!==null&&(m(),m=null)),C)),r(f,()=>{x=!0,s(f.curve)&&(m=n(c,f))},()=>{x=!1,m!==null&&(m(),m=null)})},gV=(n,e,t,s,r)=>(l,{curve:u,oversample:c,...d})=>{const f=l.createWaveShaper(),p=l.createWaveShaper();Qt(f,d),Qt(p,d);const m=t(l,{...d,gain:1}),x=t(l,{...d,gain:-1}),b=t(l,{...d,gain:1}),S=t(l,{...d,gain:-1});let w=null,C=!1,N=null;const E={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(R){m.channelCount=R,x.channelCount=R,f.channelCount=R,b.channelCount=R,p.channelCount=R,S.channelCount=R},get channelCountMode(){return f.channelCountMode},set channelCountMode(R){m.channelCountMode=R,x.channelCountMode=R,f.channelCountMode=R,b.channelCountMode=R,p.channelCountMode=R,S.channelCountMode=R},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(R){m.channelInterpretation=R,x.channelInterpretation=R,f.channelInterpretation=R,b.channelInterpretation=R,p.channelInterpretation=R,S.channelInterpretation=R},get context(){return f.context},get curve(){return N},set curve(R){if(R!==null&&R.length<2)throw e();if(R===null)f.curve=R,p.curve=R;else{const I=R.length,j=new Float32Array(I+2-I%2),k=new Float32Array(I+2-I%2);j[0]=R[0],k[0]=-R[I-1];const D=Math.ceil((I+1)/2),A=(I+1)/2-1;for(let V=1;V<D;V+=1){const B=V/D*A,Z=Math.floor(B),z=Math.ceil(B);j[V]=Z===z?R[Z]:(1-(B-Z))*R[Z]+(1-(z-B))*R[z],k[V]=Z===z?-R[I-1-Z]:-((1-(B-Z))*R[I-1-Z])-(1-(z-B))*R[I-1-z]}j[D]=I%2===1?R[D-1]:(R[D-2]+R[D-1])/2,f.curve=j,p.curve=k}N=R,C&&(s(N)&&w===null?w=n(l,m):w!==null&&(w(),w=null))},get inputs(){return[m]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get oversample(){return f.oversample},set oversample(R){f.oversample=R,p.oversample=R},addEventListener(...R){return m.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return m.dispatchEvent(R[0])},removeEventListener(...R){return m.removeEventListener(R[0],R[1],R[2])}};u!==null&&(E.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==E.oversample&&(E.oversample=c);const T=()=>{m.connect(f).connect(b),m.connect(x).connect(p).connect(S).connect(b),C=!0,s(N)&&(w=n(l,m))},M=()=>{m.disconnect(f),f.disconnect(b),m.disconnect(x),x.disconnect(p),p.disconnect(S),S.disconnect(b),C=!1,w!==null&&(w(),w=null)};return r(Qo(E,b),T,M)},yn=()=>new DOMException("","NotSupportedError"),xV={numberOfChannels:1},vV=(n,e,t,s,r)=>class extends n{constructor(u,c,d){let f;if(typeof u=="number"&&c!==void 0&&d!==void 0)f={length:c,numberOfChannels:u,sampleRate:d};else if(typeof u=="object")f=u;else throw new Error("The given parameters are not valid.");const{length:p,numberOfChannels:m,sampleRate:x}={...xV,...f},b=s(m,p,x);e(sl,()=>sl(b))||b.addEventListener("statechange",(()=>{let S=0;const w=C=>{this._state==="running"&&(S>0?(b.removeEventListener("statechange",w),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):S+=1)};return w})()),super(b,m),this._length=p,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,A_(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},yV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},wV=(n,e,t,s,r,l,u)=>class extends n{constructor(d,f){const p=r(d),m={...yV,...f},x=t(p,m),b=l(p),S=b?s():null,w=d.sampleRate/2;super(d,!1,x,S),this._detune=e(this,b,x.detune,153600,-153600),this._frequency=e(this,b,x.frequency,w,-w),this._nativeOscillatorNode=x,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&m.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=m.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?u(this,d):null;this._nativeOscillatorNode.onended=f;const p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===f?d:p}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){Eo(this);const f=()=>{this._nativeOscillatorNode.removeEventListener("ended",f),tr(this)&&gl(this)};this._nativeOscillatorNode.addEventListener("ended",f)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},bV=(n,e,t,s,r)=>()=>{const l=new WeakMap;let u=null,c=null,d=null;const f=async(p,m)=>{let x=t(p);const b=un(x,m);if(!b){const S={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,detune:x.detune.value,frequency:x.frequency.value,periodicWave:u===null?void 0:u,type:x.type};x=e(m,S),c!==null&&x.start(c),d!==null&&x.stop(d)}return l.set(m,x),b?(await n(m,p.detune,x.detune),await n(m,p.frequency,x.frequency)):(await s(m,p.detune,x.detune),await s(m,p.frequency,x.frequency)),await r(p,m,x),x};return{set periodicWave(p){u=p},set start(p){c=p},set stop(p){d=p},render(p,m){const x=l.get(m);return x!==void 0?Promise.resolve(x):f(p,m)}}},CV={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},SV=(n,e,t,s,r,l,u)=>class extends n{constructor(d,f){const p=r(d),m={...CV,...f},x=t(p,m),b=l(p),S=b?s():null;super(d,!1,x,S),this._nativePannerNode=x,this._orientationX=e(this,b,x.orientationX,pn,kn),this._orientationY=e(this,b,x.orientationY,pn,kn),this._orientationZ=e(this,b,x.orientationZ,pn,kn),this._positionX=e(this,b,x.positionX,pn,kn),this._positionY=e(this,b,x.positionY,pn,kn),this._positionZ=e(this,b,x.positionZ,pn,kn),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},_V=(n,e,t,s,r,l,u,c,d,f)=>()=>{const p=new WeakMap;let m=null;const x=async(b,S)=>{let w=null,C=l(b);const N={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},E={...N,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},T=un(C,S);if("bufferSize"in C)w=s(S,{...N,gain:1});else if(!T){const M={...E,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=r(S,M)}if(p.set(S,w===null?C:w),w!==null){if(m===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=new u(6,b.context.length,S.sampleRate),B=e(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(V.destination),m=(async()=>{const Z=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(z,H)=>{const X=t(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H===0?1:0});return await c(V,z,X.offset),X}));for(let z=0;z<6;z+=1)Z[z].connect(B,0,z),Z[z].start(0);return f(V)})()}const M=await m,R=s(S,{...N,gain:1});await d(b,S,R);const I=[];for(let V=0;V<M.numberOfChannels;V+=1)I.push(M.getChannelData(V));let j=[I[0][0],I[1][0],I[2][0]],k=[I[3][0],I[4][0],I[5][0]],D=s(S,{...N,gain:1}),A=r(S,{...E,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:k[0],positionY:k[1],positionZ:k[2]});R.connect(D).connect(A.inputs[0]),A.connect(w);for(let V=128;V<M.length;V+=128){const B=[I[0][V],I[1][V],I[2][V]],Z=[I[3][V],I[4][V],I[5][V]];if(B.some((z,H)=>z!==j[H])||Z.some((z,H)=>z!==k[H])){j=B,k=Z;const z=V/S.sampleRate;D.gain.setValueAtTime(0,z),D=s(S,{...N,gain:0}),A=r(S,{...E,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),D.gain.setValueAtTime(1,z),R.connect(D).connect(A.inputs[0]),A.connect(w)}}return w}return T?(await n(S,b.orientationX,C.orientationX),await n(S,b.orientationY,C.orientationY),await n(S,b.orientationZ,C.orientationZ),await n(S,b.positionX,C.positionX),await n(S,b.positionY,C.positionY),await n(S,b.positionZ,C.positionZ)):(await c(S,b.orientationX,C.orientationX),await c(S,b.orientationY,C.orientationY),await c(S,b.orientationZ,C.orientationZ),await c(S,b.positionX,C.positionX),await c(S,b.positionY,C.positionY),await c(S,b.positionZ,C.positionZ)),Ho(C)?await d(b,S,C.inputs[0]):await d(b,S,C),C};return{render(b,S){const w=p.get(S);return w!==void 0?Promise.resolve(w):x(b,S)}}},NV={disableNormalization:!1},jV=(n,e,t,s)=>class F_{constructor(l,u){const c=e(l),d=s({...NV,...u}),f=n(c,d);return t.add(f),f}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===F_.prototype||t.has(l)}},kV=(n,e)=>(t,s,r)=>(n(s).replay(r),e(s,t,r)),AV=(n,e,t)=>async(s,r,l)=>{const u=n(s);await Promise.all(u.activeInputs.map((c,d)=>Array.from(c).map(async([f,p])=>{const x=await e(f).render(f,r),b=s.context.destination;!t(f)&&(s!==b||!t(s))&&x.connect(l,p,d)})).reduce((c,d)=>[...c,...d],[]))},TV=(n,e,t)=>async(s,r,l)=>{const u=e(s);await Promise.all(Array.from(u.activeInputs).map(async([c,d])=>{const p=await n(c).render(c,r);t(c)||p.connect(l,d)}))},EV=(n,e,t,s)=>r=>n(sl,()=>sl(r))?Promise.resolve(n(s,s)).then(l=>{if(!l){const u=t(r,512,0,1);r.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>r.currentTime,u.connect(r.destination)}return r.startRendering()}):new Promise(l=>{const u=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=c=>{u.disconnect(),l(c.renderedBuffer)},u.connect(r.destination),r.startRendering()}),RV=n=>(e,t)=>{n.set(e,t)},MV=n=>(e,t)=>n.set(e,t),PV=(n,e,t,s,r,l,u,c)=>(d,f)=>t(d).render(d,f).then(()=>Promise.all(Array.from(s(f)).map(p=>t(p).render(p,f)))).then(()=>r(f)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),Jm(p)):e(l,()=>l(p))||c(p),n.add(p),p)),OV={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},IV=(n,e,t,s,r,l)=>class extends n{constructor(c,d){const f=r(c),p={...OV,...d},m=t(f,p),x=l(f),b=x?s():null;super(c,!1,m,b),this._pan=e(this,x,m.pan)}get pan(){return this._pan}},DV=(n,e,t,s,r)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const p=un(f,d);if(!p){const m={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,pan:f.pan.value};f=e(d,m)}return l.set(d,f),p?await n(d,c.pan,f.pan):await s(d,c.pan,f.pan),Ho(f)?await r(c,d,f.inputs[0]):await r(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},VV=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},FV=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(t);let l=!1,u=!1;try{await s.audioWorklet.addModule(r);const c=new n(s,"a",{numberOfOutputs:0}),d=s.createOscillator();c.port.onmessage=()=>l=!0,c.onprocessorerror=()=>u=!0,d.connect(c),d.start(0),await s.startRendering(),await new Promise(f=>setTimeout(f))}catch{}finally{URL.revokeObjectURL(r)}return l&&!u},LV=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{t.oncomplete=()=>{s.disconnect(),r(t.currentTime!==0)},t.startRendering()})},zV=()=>new DOMException("","UnknownError"),BV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},qV=(n,e,t,s,r,l,u)=>class extends n{constructor(d,f){const p=r(d),m={...BV,...f},x=t(p,m),S=l(p)?s():null;super(d,!0,x,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=x,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},GV=(n,e,t)=>()=>{const s=new WeakMap,r=async(l,u)=>{let c=e(l);if(!un(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,f)}return s.set(u,c),Ho(c)?await t(l,u,c.inputs[0]):await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):r(l,u)}}},$V=()=>typeof window>"u"?null:window,WV=(n,e)=>t=>{t.copyFromChannel=(s,r,l=0)=>{const u=n(l),c=n(r);if(c>=t.numberOfChannels)throw e();const d=t.length,f=t.getChannelData(c),p=s.length;for(let m=u<0?-u:0;m+u<d&&m<p;m+=1)s[m]=f[m+u]},t.copyToChannel=(s,r,l=0)=>{const u=n(l),c=n(r);if(c>=t.numberOfChannels)throw e();const d=t.length,f=t.getChannelData(c),p=s.length;for(let m=u<0?-u:0;m+u<d&&m<p;m+=1)f[m+u]=s[m]}},UV=n=>e=>{e.copyFromChannel=(t=>(s,r,l=0)=>{const u=n(l),c=n(r);if(u<e.length)return t.call(e,s,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(s,r,l=0)=>{const u=n(l),c=n(r);if(u<e.length)return t.call(e,s,c,u)})(e.copyToChannel)},HV=n=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),n(e,"buffer",r=>()=>{const l=r.call(e);return l===s?null:l},r=>l=>r.call(e,l===null?s:l))},QV=(n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const r=t.createBufferSource();e(s,()=>{const c=s.numberOfInputs;for(let d=0;d<c;d+=1)r.connect(s,0,d)},()=>r.disconnect(s))},L_=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),z_=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},bl=(n,e,t,s)=>{let r=n;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:l,set:u}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(n,e,{get:t(l),set:s(u)})},KV=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),YV=n=>({...n,channelCount:n.numberOfOutputs}),XV=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},B_=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;B_(n,e,t+1e-7)}},ZV=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},JV=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},e5=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},rg=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},q_=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},ig=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},t5=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},n5=n=>{n.start=(e=>(t=0,s=0,r)=>{const l=n.buffer,u=l===null?s:Math.min(l.duration,s);l!==null&&u>l.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,r)})(n.start)},G_=(n,e)=>{const t=e.createGain();n.connect(t);const s=(r=>()=>{r.call(n,t),n.removeEventListener("ended",s)})(n.disconnect);n.addEventListener("ended",s),Qo(n,t),n.stop=(r=>{let l=!1;return(u=0)=>{if(l)try{r.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else r.call(n,u),l=!0}})(n.stop)},Ko=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},s5=SD(Ii),r5=TD(Ii),i5=B4(gd),$_=new WeakMap,o5=i3($_),xs=x4(new Map,new WeakMap),Ms=$V(),W_=I3(xs,Ds),og=r3(mn),tn=AV(mn,og,Ri),a5=OD(W_,xt,tn),ct=l3(md),lr=lV(Ms),st=N3(lr),U_=new WeakMap,H_=X4(Ko),Cl=L3(Ms),ag=b3(Cl),lg=C3(Ms),Q_=S3(Ms),rl=B3(Ms),Ot=i4(_D(b_),AD(s5,r5,Au,i5,Tu,mn,o5,ml,xt,Ii,tr,Ri,cu),xs,g3(zp,Tu,mn,xt,nl,tr),Ds,xd,yn,V4(Au,zp,mn,xt,nl,ct,tr,st),$4(U_,mn,fs),H_,ct,ag,lg,Q_,st,rl),l5=PD(Ot,a5,Ds,W_,ct,st),cg=new WeakSet,nw=D3(Ms),K_=E4(new Uint32Array(1)),ug=WV(K_,Ds),dg=UV(K_),Y_=DD(cg,xs,yn,nw,lr,VV(nw),ug,dg),vd=ED(Tn),X_=TV(og,xl,Ri),Vs=_4(X_),Yo=F3(vd,xs,ZV,JV,e5,rg,q_,ig,n5,HV(bl),G_),Fs=kV(o3(xl),X_),c5=LD(Vs,Yo,xt,Fs,tn),vs=o4(ND(C_),U_,Zm,a4,xD,vD,yD,wD,bD,Vp,y_,Cl,B_),u5=FD(Ot,c5,vs,Zt,Yo,ct,st,Ko),d5=QD(Ot,KD,Ds,Zt,z3(Tn,bl),ct,st,tn),h5=g4(Vs,D_,xt,Fs,tn),Di=MV($_),f5=m4(Ot,vs,h5,xd,D_,ct,st,Di),ti=P3(Ii,lg),p5=QV(Zt,ti),ni=Q3(Cl,p5),m5=w4(ni,xt,tn),g5=y4(Ot,m5,ni,ct,st),x5=S4(yl,xt,tn),v5=C4(Ot,x5,yl,ct,st,YV),y5=X3(vd,Yo,Tn,ti),Xo=Y3(vd,xs,y5,rg,ig),w5=T4(Vs,Xo,xt,Fs,tn),b5=A4(Ot,vs,w5,Xo,ct,st,Ko),Z_=Z3(yn,bl),C5=P4(Z_,xt,tn),S5=M4(Ot,C5,Z_,ct,st,Di),_5=z4(Vs,V_,xt,Fs,tn),N5=L4(Ot,vs,_5,V_,ct,st,Di),J_=J3(yn),j5=Q4(Vs,J_,xt,Fs,tn),k5=H4(Ot,vs,j5,J_,yn,ct,st,Di),A5=n3(Vs,Tn,xt,Fs,tn),T5=t3(Ot,vs,A5,Tn,ct,st),E5=sV(xd,Zt,wl,yn),yd=EV(xs,Tn,wl,LV(Tn,lr)),R5=m3(Yo,xt,lr,tn,yd),M5=eV(E5),P5=f3(Ot,M5,R5,ct,st,Di),O5=YD(vs,ni,Xo,wl,yn,L_,st,bl),eN=new WeakMap,I5=M3(d5,O5,H_,st,eN,Ko),tN=cV(vd,xs,rg,q_,ig,G_),D5=bV(Vs,tN,xt,Fs,tn),V5=wV(Ot,vs,tN,D5,ct,st,Ko),nN=j4(Yo),F5=gV(nN,Zt,Tn,z_,ti),wd=mV(nN,Zt,F5,z_,ti,Cl,bl),L5=dV(Au,Zt,ni,Tn,wl,wd,yn,Tu,L_,ti),sN=uV(L5),z5=_V(Vs,ni,Xo,Tn,sN,xt,lr,Fs,tn,yd),B5=SV(Ot,vs,sN,z5,ct,st,Di),q5=hV(Ds),G5=jV(q5,ct,new WeakSet,XV),$5=pV(ni,yl,Tn,wd,yn,ti),rN=fV($5,yn),W5=DV(Vs,rN,xt,Fs,tn),U5=IV(Ot,vs,rN,W5,ct,st),H5=GV(wd,xt,tn),Q5=qV(Ot,Zt,wd,H5,ct,st,Di),iN=j3(Ms),hg=Z4(Ms),oN=new WeakMap,K5=c3(oN,lr),Y5=iN?kD(xs,yn,Y4(Ms),hg,J4(CD),ct,K5,st,rl,new WeakMap,new WeakMap,FV(rl,lr),Ms):void 0,X5=_3(ag,st),Z5=D4(cg,xs,I4,K4,new WeakSet,ct,X5,ju,sl,ug,dg),aN=f4(Y5,l5,Y_,u5,f5,g5,v5,b5,S5,Z5,N5,k5,T5,P5,I5,V5,B5,G5,U5,Q5),J5=k3(Ot,rV,ct,st),eF=T3(Ot,iV,ct,st),tF=E3(Ot,oV,ct,st),nF=aV(Zt,st),sF=R3(Ot,nF,ct),rF=HD(aN,Zt,yn,zV,J5,eF,tF,sF,Cl),fg=u3(eN),iF=RD(fg),lN=N4(Ds),oF=q4(fg),cN=W4(Ds),uN=new WeakMap,aF=s3(uN,fs),lF=H3(lN,Ds,Zt,ni,yl,Xo,Tn,wl,yn,cN,hg,aF,ti),cF=G3(Zt,lF,Tn,yn,ti),uF=h4(Vs,lN,Yo,ni,yl,Xo,Tn,oF,cN,hg,xt,rl,lr,Fs,tn,yd),dF=a3(oN),hF=RV(uN),sw=iN?c4(iF,Ot,vs,uF,cF,mn,dF,ct,st,rl,KV,hF,t5,Ko):void 0,fF=O4(yn,lr),pF=PV(cg,xs,og,fg,yd,ju,ug,dg),mF=vV(aN,xs,Zt,fF,pF),gF=x3(md,ag),xF=v3(Xm,lg),vF=y3(Zm,Q_),yF=w3(md,st);function zn(n){return n===void 0}function Ue(n){return n!==void 0}function wF(n){return typeof n=="function"}function Ps(n){return typeof n=="number"}function Br(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function dN(n){return typeof n=="boolean"}function An(n){return Array.isArray(n)}function Os(n){return typeof n=="string"}function Xc(n){return Os(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Be(n,e){if(!n)throw new Error(e)}function Ur(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function hN(n){!n.isOffline&&n.state!=="running"&&pg('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let fN=!1,rw=!1;function iw(n){fN=n}function bF(n){zn(n)&&fN&&!rw&&(rw=!0,pg("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let pN=console;function CF(...n){pN.log(...n)}function pg(...n){pN.warn(...n)}function SF(n){return new rF(n)}function _F(n,e,t){return new mF(n,e,t)}const Dn=typeof self=="object"?self:null,NF=Dn&&(Dn.hasOwnProperty("AudioContext")||Dn.hasOwnProperty("webkitAudioContext"));function jF(n,e,t){return Be(Ue(sw),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof Dn?.BaseAudioContext?Dn?.AudioWorkletNode:sw)(n,e,t)}class kF{constructor(e,t,s,r){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Mi(n){return vF(n)}function qr(n){return xF(n)}function uu(n){return yF(n)}function vo(n){return gF(n)}function AF(n){return n instanceof Y_}function TF(n,e){return n==="value"||Mi(e)||qr(e)||AF(e)}function Ci(n,...e){if(!e.length)return n;const t=e.shift();if(Br(n)&&Br(t))for(const s in t)TF(s,t[s])?n[s]=t[s]:Br(t[s])?(n[s]||Object.assign(n,{[s]:{}}),Ci(n[s],t[s])):Object.assign(n,{[s]:t[s]});return Ci(n,...e)}function EF(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}function Fe(n,e,t=[],s){const r={},l=Array.from(e);if(Br(l[0])&&s&&!Reflect.has(l[0],s)&&(Object.keys(l[0]).some(c=>Reflect.has(n,c))||(Ci(r,{[s]:l[0]}),t.splice(t.indexOf(s),1),l.shift())),l.length===1&&Br(l[0]))Ci(r,l[0]);else for(let u=0;u<t.length;u++)Ue(l[u])&&(r[t[u]]=l[u]);return Ci(n,r)}function RF(n){return n.constructor.getDefaults()}function Es(n,e){return zn(n)?e:n}function Ro(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class cr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Dn&&this.toString()===Dn.TONE_DEBUG_CLASS)&&CF(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}cr.version=v_;const mg=1e-6;function Mo(n,e){return n>e+mg}function Wp(n,e){return Mo(n,e)||as(n,e)}function Pu(n,e){return n+mg<e}function as(n,e){return Math.abs(n-e)<mg}function MF(n,e,t){return Math.max(Math.min(n,t),e)}class Yn extends cr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Fe(Yn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Be(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Be(Wp(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(as(this._timeline[t].time,e)){for(let s=t;s>=0&&as(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Wp(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let l=r;if(r>0&&this._timeline[r-1][t]<=e)return r-1;for(;s<l;){let u=Math.floor(s+(l-s)/2);const c=this._timeline[u],d=this._timeline[u+1];if(as(c[t],e)){for(let f=u;f<this._timeline.length;f++){const p=this._timeline[f];if(as(p[t],e))u=f;else break}return u}else{if(Pu(c[t],e)&&Mo(d[t],e))return u;Mo(c[t],e)?l=u:s=u+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let r=this._search(e),l=this._search(t);return r!==-1&&l!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[l].time===t&&(l-=1),this._iterate(s,r,l)):r===-1&&this._iterate(s,0,l),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&as(this._timeline[s].time,e)){let r=s;for(let l=s;l>=0&&as(this._timeline[l].time,e);l--)r=l;this._iterate(l=>{t(l)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const mN=[];function bd(n){mN.push(n)}function PF(n){mN.forEach(e=>e(n))}const gN=[];function Cd(n){gN.push(n)}function OF(n){gN.forEach(e=>e(n))}class Sl extends cr{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(r=>{zn(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(t)}),this}once(e,t){const s=(...r)=>{t(...r),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(r=>{if(zn(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(zn(t))this._events[r]=[];else{const l=this._events[r];for(let u=l.length-1;u>=0;u--)l[u]===t&&l.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,l=s.length;r<l;r++)s[r].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(Sl.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class xN extends Sl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class _l extends xN{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Yn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=Fe(_l.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=SF({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new kF(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(PF(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Be(vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Be(vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Be(vo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Be(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Be(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Be(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Be(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return jF(this.rawContext,e,t)}addAudioWorkletModule(e){return qt(this,void 0,void 0,function*(){Be(Ue(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return qt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return vo(this._context)?this._context.resume():Promise.resolve()}close(){return qt(this,void 0,void 0,function*(){vo(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&OF(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let l=0;l<s.length;l++)s[l]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=t,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,r=()=>{const l=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:l+t})};return r(),s}}class IF extends xN{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return qt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Nt(n,e){An(e)?e.forEach(t=>Nt(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function gg(n,e){An(e)?e.forEach(t=>gg(n,t)):Object.defineProperty(n,e,{writable:!0})}const tt=()=>{};class rt extends cr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=tt;const e=Fe(rt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Os(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:tt,onload:tt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Vn().sampleRate}set(e){return e instanceof rt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return qt(this,void 0,void 0,function*(){const t=rt.load(e).then(s=>{this.set(s),this.onload(this)});rt.downloads.push(t);try{yield t}finally{const s=rt.downloads.indexOf(t);rt.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=An(e)&&e[0].length>0,s=t?e.length:1,r=t?e[0].length:e.length,l=Vn(),u=l.createBuffer(s,r,l.sampleRate),c=!t&&s===1?[e]:e;for(let d=0;d<s;d++)u.copyToChannel(c[d],d);return this._buffer=u,this}toMono(e){if(Ps(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const l=this.toArray(r);for(let u=0;u<l.length;u++)t[u]+=l[u]}t=t.map(r=>r/s),this.fromArray(t)}return this}toArray(e){if(Ps(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Be(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(t*this.sampleRate);Be(s<r,"The start time must be less than the end time");const l=r-s,u=Vn().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(s,r),c);return new rt(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new rt().fromArray(e)}static fromUrl(e){return qt(this,void 0,void 0,function*(){return yield new rt().load(e)})}static load(e){return qt(this,void 0,void 0,function*(){const t=rt.baseUrl===""||rt.baseUrl.endsWith("/")?rt.baseUrl:rt.baseUrl+"/",s=yield fetch(t+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const r=yield s.arrayBuffer();return yield Vn().decodeAudioData(r)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return qt(this,void 0,void 0,function*(){for(yield Promise.resolve();rt.downloads.length;)yield rt.downloads[0]})}}rt.baseUrl="";rt.downloads=[];class xg extends _l{constructor(){super({clockSource:"offline",context:uu(arguments[0])?arguments[0]:_F(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:uu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=uu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return qt(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return qt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new rt(t)})}close(){return Promise.resolve()}}const vN=new IF;let vi=vN;function Vn(){return vi===vN&&NF&&DF(new _l),vi}function DF(n,e=!1){e&&vi.dispose(),vo(n)?vi=new _l(n):uu(n)?vi=new xg(n):vi=n}function VF(){return vi.resume()}if(Dn&&!Dn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${v_} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function FF(n){return Math.pow(10,n/20)}function LF(n){return 20*(Math.log(n)/Math.LN10)}function yN(n){return Math.pow(2,n/12)}let Sd=440;function zF(){return Sd}function BF(n){Sd=n}function Up(n){return Math.round(wN(n))}function wN(n){return 69+12*Math.log2(n/Sd)}function qF(n){return Sd*Math.pow(2,(n-69)/12)}class vg extends cr{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),r=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(r+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof vg&&this.fromType(this._val),zn(this._val))return this._noArg();if(Os(this._val)&&zn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Br(this._val)){let e=0;for(const t in this._val)if(Ue(this._val[t])){const s=this._val[t],r=new this.constructor(this.context,t).valueOf()*s;e+=r}return e}if(Ue(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Os(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class ls extends vg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new ls(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),c=Math.round(r/s)*s-r;return r+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let s=t[0],r=new ls(this.context,t[0]).toSeconds();return t.forEach(l=>{const u=new ls(this.context,l).toSeconds();Math.abs(u-e)<Math.abs(r-e)&&(s=l,r=u)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let r=t%1*4;t=Math.floor(t)%this._getTimeSignature();const l=r.toString();return l.length>3&&(r=parseFloat(parseFloat(l).toFixed(3))),[s,t,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Up(this.toFrequency())}_now(){return this.context.now()}}class Fn extends ls{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return zF()}static set A4(e){BF(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Fn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const r=GF[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?r:Fn.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(r*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new Fn(this.context,this.valueOf()*yN(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Up(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Fn.A4);let s=Math.round(12*t)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),$F[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return qF(e)}static ftom(e){return Up(e)}}const GF={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},$F=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function WF(n,e){return new Fn(Vn(),n,e)}class jo extends ls{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ln extends cr{constructor(){super();const e=Fe(ln.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Vn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return bF(e),new ls(this.context,e).toSeconds()}toFrequency(e){return new Fn(this.context,e).toFrequency()}toTicks(e){return new jo(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{zn(e[s])&&delete t[s]}),t}get(){const e=RF(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];Ue(s)&&Ue(s.value)&&Ue(s.setValueAtTime)?e[t]=s.value:s instanceof ln?e[t]=s._getPartialProperties(e[t]):An(s)||Ps(s)||Os(s)||dN(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Ue(this[t])&&(this[t]&&Ue(this[t].value)&&Ue(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof ln?this[t].set(e[t]):this[t]=e[t])}),this}}class Nl extends Yn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return Ur(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let r=s;r>=0;r--){const l=this._timeline[r];if(l.state===e)return l}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const l=this._timeline[r];if(l.state===e)return l}}}class it extends ln{constructor(){const e=Fe(it.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Be(Ue(e.param)&&(Mi(e.param)||e.param instanceof it),"param must be an AudioParam");!Mi(e.param);)e.param=e.param._param;this._swappable=Ue(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Yn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ue(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ln.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ue(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Ue(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Ue(this.maxValue)&&Ue(this.minValue)&&Ur(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?FF(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?LF(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),r=this._fromType(e);return Be(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),r=this._events.get(t);let l=this._initialValue;if(r===null)l=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const u=this._events.getBefore(r.time);let c;u===null?c=this._initialValue:c=u.value,r.type==="setTargetAtTime"&&(l=this._exponentialApproach(r.time,c,r.value,r.constant,t))}else if(s===null)l=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let u=r.value;if(r.type==="setTargetAtTime"){const c=this._events.getBefore(r.time);c===null?u=this._initialValue:u=c.value}s.type==="linearRampToValueAtTime"?l=this._linearInterpolate(r.time,u,s.time,s.value,t):l=this._exponentialInterpolate(r.time,u,s.time,s.value,t)}else l=r.value;return this._toType(l)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),r=this.toSeconds(t);return Be(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=as(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(t);return Be(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,r),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const r=this._fromType(e);Be(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(t);return this._assertRange(r),Be(isFinite(r)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:l,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,l,s),this._param.setTargetAtTime(r,l,s),this}setValueCurveAtTime(e,t,s,r=1){s=this.toSeconds(s),t=this.toSeconds(t);const l=this._fromType(e[0])*r;this.setValueAtTime(this._toType(l),t);const u=s/(e.length-1);for(let c=1;c<e.length;c++){const d=this._fromType(e[c])*r;this.linearRampToValueAtTime(this._toType(d),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Be(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));Be(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const r=this._events.get(t),l=this._events.getAfter(t);return r&&as(r.time,t)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),l=r?r.time:t+2,u=(l-t)/10;for(let c=t;c<l;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){Be(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,r,l){return s+(t-s)*Math.exp(-(l-e)/r)}_linearInterpolate(e,t,s,r,l){return t+(r-t)*((l-e)/(s-e))}_exponentialInterpolate(e,t,s,r,l){return t*Math.pow(r/t,(l-e)/(s-e))}}class Ge extends ln{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ue(this.input)?Mi(this.input)||this.input instanceof it?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ue(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ue(e)&&(e instanceof Ge||qr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Be(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return Zo(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return pg("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return UF(this,e,t,s),this}chain(...e){return il(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Ue(this.input)&&(this.input instanceof Ge?this.input.dispose():qr(this.input)&&this.input.disconnect()),Ue(this.output)&&(this.output instanceof Ge?this.output.dispose():qr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function il(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof Ge?t.connect(s):qr(t)&&Zo(t,s),s),e)}function Zo(n,e,t=0,s=0){for(Be(Ue(n),"Cannot connect from undefined node"),Be(Ue(e),"Cannot connect to undefined node"),(e instanceof Ge||qr(e))&&Be(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Be(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ge||e instanceof it;)Ue(e.input)&&(e=e.input);for(;n instanceof Ge;)Ue(n.output)&&(n=n.output);Mi(e)?n.connect(e,t):n.connect(e,t,s)}function UF(n,e,t=0,s=0){if(Ue(e))for(;e instanceof Ge;)e=e.input;for(;!qr(n);)Ue(n.output)&&(n=n.output);Mi(e)?n.disconnect(e,t):qr(e)?n.disconnect(e,t,s):n.disconnect()}class Gt extends Ge{constructor(){const e=Fe(Gt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new it({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Nt(this,"gain")}static getDefaults(){return Object.assign(Ge.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Po extends Ge{constructor(e){super(e),this.onended=tt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ge.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:tt})}_startGain(e,t=1){Be(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Be(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==tt&&(this.onended(this),this.onended=tt,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Be(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=tt,this}}class yg extends Po{constructor(){const e=Fe(yg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Zo(this._source,this._gainNode),this.offset=new it({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Po.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class lt extends Ge{constructor(){const e=Fe(lt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new yg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ge.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return wg(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,r){return this._param.setValueCurveAtTime(e,t,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function wg(n,e,t,s){(e instanceof it||Mi(e)||e instanceof lt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof lt&&(e.overridden=!0)),Zo(n,e,t,s)}class bg extends it{constructor(){const e=Fe(bg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Yn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(it.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const r=this._fromType(e),l=this._events.get(t),u=Math.round(Math.max(1/s,1));for(let c=0;c<=u;c++){const d=s*c+t,f=this._exponentialApproach(l.time,l.value,r,s,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const r=this._events.get(s),l=this._events.previousEvent(r),u=this._getTicksUntilEvent(l,s);return r.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const r=this._events.get(s),l=this._events.previousEvent(r),u=this._getTicksUntilEvent(l,s);return r.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),r=this._events.get(t),l=Math.round(Math.max((t-r.time)*10,1)),u=(t-r.time)/l;for(let c=0;c<=l;c++){const d=u*c+r.time,f=this._exponentialInterpolate(r.time,r.value,t,s,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(zn(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(t));const l=this._events.get(t);return l&&l.time===t&&l.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),r=this.getTicksAtTime(t);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const r=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-t.time),c=Math.sqrt(Math.pow(r,2)-2*u*(t.ticks-e)),d=(-r+c)/u,f=(-r-c)/u;return(d>0?d:f)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),r=this.toSeconds(e),l=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-l}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Cg extends lt{constructor(){const e=Fe(Cg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new bg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(lt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Sg extends ln{constructor(){const e=Fe(Sg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Nl,this._tickOffset=new Yn,this._ticksAtTime=new Yn,this._secondsAtTime=new Yn,this.frequency=new Cg({context:this.context,units:e.units,value:e.frequency}),Nt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ln.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Ue(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),r=this._ticksAtTime.get(t),l={state:"paused",time:t};this._state.add(l);let u=r||s,c=r?r.ticks:0,d=null;return this._state.forEachBetween(u.time,t+this.sampleTime,f=>{let p=u.time;const m=this._tickOffset.get(f.time);m&&m.time>=u.time&&(c=m.ticks,p=m.time),u.state==="started"&&f.state!=="started"&&(c+=this.frequency.getTicksAtTime(f.time)-this.frequency.getTicksAtTime(p),f.time!==l.time&&(d={state:f.state,time:f.time,ticks:c})),u=f}),this._state.remove(l),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let l=r||t,u=r?r.seconds:0,c=null;return this._state.forEachBetween(l.time,e+this.sampleTime,d=>{let f=l.time;const p=this._tickOffset.get(d.time);p&&p.time>=l.time&&(u=p.seconds,f=p.time),l.state==="started"&&d.state!=="started"&&(u+=d.time-f,d.time!==s.time&&(c={state:d.state,time:d.time,seconds:u})),l=d}),this._state.remove(s),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),r=this._state.get(t),l=Math.max(s.time,r.time),u=this.frequency.getTicksAtTime(l)+e-s.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,s){let r=this._state.get(e);this._state.forEachBetween(e,t,u=>{r&&r.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),u.time-this.sampleTime,s),r=u});let l=null;if(r&&r.state==="started"){const u=Math.max(r.time,e),c=this.frequency.getTicksAtTime(u),d=this.frequency.getTicksAtTime(r.time),f=c-d;let p=Math.ceil(f)-f;p=as(p,1)?0:p;let m=this.frequency.getTimeOfTick(c+p);for(;m<t;){try{s(m,Math.round(this.getTicksAtTime(m)))}catch(x){l=x;break}m+=this.frequency.getDurationOfTicks(1,m)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class _d extends ln{constructor(){const e=Fe(_d.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=tt,this._lastUpdate=0,this._state=new Nl("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Sg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Nt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ln.getDefaults(),{callback:tt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){hN(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Sl.mixin(_d);class Jo extends Ge{constructor(){const e=Fe(Jo.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Gt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Nt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class _g extends Ge{constructor(){const e=Fe(_g.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Jo({context:this.context}),this.output=new Gt({context:this.context}),this.volume=this.input.volume,il(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),il(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}bd(n=>{n.destination=new _g({context:n})});Cd(n=>{n.destination.dispose()});class HF extends Ge{constructor(){super(...arguments),this.name="Listener",this.positionX=new it({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new it({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new it({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new it({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new it({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new it({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new it({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new it({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new it({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ge.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}bd(n=>{n.listener=new HF({context:n})});Cd(n=>{n.listener.dispose()});class Ng extends cr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Fe(Ng.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:tt,onload:tt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Be(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=tt,r=tt){return Os(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new rt(this.baseUrl+t,s,r))):this._buffers.set(e.toString(),new rt(t,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class At extends jo{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class QF extends ln{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Yn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}bd(n=>{n.draw=new QF({context:n})});Cd(n=>{n.draw.dispose()});class KF extends cr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Be(Ue(e.time),"Events must have a time property"),Be(Ue(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new YF(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,r=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),t!==null?s?t.left=r:t.right=r:this._setRoot(r)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),t!==null?s?t.left=r:t.right=r:this._setRoot(r)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let r=1;r<t.length;r++)t[r].low>s.low&&(s=t[r]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&t(r.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&t(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class YF{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class XF extends cr{constructor(e){super(),this.name="TimelineValue",this._timeline=new Yn({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Hr extends Ge{constructor(){super(Fe(Hr.getDefaults(),arguments,["context"]))}connect(e,t=0,s=0){return wg(this,e,t,s),this}}class jl extends Hr{constructor(){const e=Fe(jl.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,An(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):wF(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(lt.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let r=0,l=t;r<l;r++){const u=r/(l-1)*2-1;s[r]=e(u,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));Be(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class jg extends Hr{constructor(){const e=Fe(jg.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new jl({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Hr.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Qr{constructor(e,t){this.id=Qr._eventId++,this._remainderTime=0;const s=Object.assign(Qr.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:tt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Qr._eventId=0;class kg extends Qr{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(kg.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Qr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Pu(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new At(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Pu(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new At(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Mo(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Nd extends ln{constructor(){const e=Fe(Nd.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new XF(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Yn,this._repeatedEvents=new KF,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new _d({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Nt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ln.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new At(this.context,this._swingTicks*2/3).toSeconds()*r}iw(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),iw(!1)}schedule(e,t){const s=new Qr(this,{callback:e,time:new jo(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,r=1/0){const l=new kg(this,{callback:e,duration:new ls(this.context,r).toTicks(),interval:new ls(this.context,t).toTicks(),time:new jo(this.context,s).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(e,t){const s=new Qr(this,{callback:e,once:!0,time:new jo(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new At(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return Ue(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){An(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new ls(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new ls(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new At(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new At(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),l=t+r;this.emit("stop",l),this._clock.setTicksAtTime(e,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),r=e-s%e;return this._clock.nextTickTime(r,t)}}syncSignal(e,t){const s=this.now();let r=this.bpm,l=1/(60/r.getValueAtTime(s)/this.PPQ),u=[];if(e.units==="time"){const d=.015625/l,f=new Gt(d),p=new jg(-1),m=new Gt(d);r.chain(f,p,m),r=m,l=1/l,u=[f,p,m]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/l:t=0);const c=new Gt(t);return r.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),gg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Sl.mixin(Nd);bd(n=>{n.transport=new Nd({context:n})});Cd(n=>{n.transport.dispose()});class cn extends Ge{constructor(e){super(e),this.input=void 0,this._state=new Nl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=tt,this._syncedStop=tt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Jo({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Nt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ge.getDefaults(),{mute:!1,onstop:tt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let r=zn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")Be(Mo(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,t,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const l=this._state.get(r);l&&(l.offset=this.toSeconds(Es(t,0)),l.duration=s?this.toSeconds(s):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,s)},r);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else hN(this.context),this._start(r,t,s);return this}stop(e){let t=zn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||Ue(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Mo(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const r=t-this.toSeconds(s.time);let l;s.duration&&(l=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,l)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=tt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class kl extends Po{constructor(){const e=Fe(kl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Zo(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new it({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new rt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Po.getDefaults(),{url:new rt,loop:!1,loopEnd:0,loopStart:0,onload:tt,onerror:tt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,r=1){Be(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(e);this._startGain(l,r),this.loop?t=Es(t,this.loopStart):t=Es(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),f=c-d;Wp(u,c)&&(u=(u-d)%f+d),as(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Pu(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),Ue(s)){let c=this.toSeconds(s);c=Math.max(c,0),this.stop(l+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Ou extends cn{constructor(){const e=Fe(Ou.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(cn.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(Be(e in ow,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=ow[this._type];this._source=new kl({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const po=44100*5,Kf=2,Ks={brown:null,pink:null,white:null},ow={get brown(){if(!Ks.brown){const n=[];for(let e=0;e<Kf;e++){const t=new Float32Array(po);n[e]=t;let s=0;for(let r=0;r<po;r++){const l=Math.random()*2-1;t[r]=(s+.02*l)/1.02,s=t[r],t[r]*=3.5}}Ks.brown=new rt().fromArray(n)}return Ks.brown},get pink(){if(!Ks.pink){const n=[];for(let e=0;e<Kf;e++){const t=new Float32Array(po);n[e]=t;let s,r,l,u,c,d,f;s=r=l=u=c=d=f=0;for(let p=0;p<po;p++){const m=Math.random()*2-1;s=.99886*s+m*.0555179,r=.99332*r+m*.0750759,l=.969*l+m*.153852,u=.8665*u+m*.3104856,c=.55*c+m*.5329522,d=-.7616*d-m*.016898,t[p]=s+r+l+u+c+d+f+m*.5362,t[p]*=.11,f=m*.115926}}Ks.pink=new rt().fromArray(n)}return Ks.pink},get white(){if(!Ks.white){const n=[];for(let e=0;e<Kf;e++){const t=new Float32Array(po);n[e]=t;for(let s=0;s<po;s++)t[s]=Math.random()*2-1}Ks.white=new rt().fromArray(n)}return Ks.white}};function Vi(n,e){return qt(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new xg(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Ag extends Po{constructor(){const e=Fe(Ag.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Zo(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new it({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new it({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Nt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Po.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class zt extends cn{constructor(){const e=Fe(zt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new lt({context:this.context,units:"frequency",value:e.frequency}),Nt(this,"frequency"),this.detune=new lt({context:this.context,units:"cents",value:e.detune}),Nt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(cn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new Ag({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return zt._periodicWaveCache.find(t=>t.phase===this._phase&&EF(t.partials,this._partials));{const e=zt._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Ue(s)){const{partials:r,wave:l}=s;this._wave=l,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,l]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(r,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),zt._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),zt._periodicWaveCache.length>100&&zt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ur(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const r=new Float32Array(e);this._partials.forEach((l,u)=>r[u]=l),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,t){let r=2048;const l=new Float32Array(r),u=new Float32Array(r);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,r=c,this._partials.length===0)return[l,u]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],c=Math.max(c,2),r=c):this._partialCount=0,this._partials=[]}for(let d=1;d<r;++d){const f=2/(d*Math.PI);let p;switch(e){case"sine":p=d<=c?1:0,this._partials[d-1]=p;break;case"square":p=d&1?2*f:0,this._partials[d-1]=p;break;case"sawtooth":p=f*(d&1?1:-1),this._partials[d-1]=p;break;case"triangle":d&1?p=2*(f*f)*(d-1>>1&1?-1:1):p=0,this._partials[d-1]=p;break;case"custom":p=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}p!==0?(l[d]=-p*Math.sin(t*d),u[d]=p*Math.cos(t*d)):(l[d]=0,u[d]=0)}return[l,u]}_inverseFFT(e,t,s){let r=0;const l=e.length;for(let u=0;u<l;u++)r+=e[u]*Math.cos(u*s)+t[u]*Math.sin(u*s);return r}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,l=32;for(let u=0;u<l;u++)s=Math.max(this._inverseFFT(e,t,u/l*r),s);return MF(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}zt._periodicWaveCache=[];class ZF extends Hr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new jl({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Kr extends lt{constructor(){const e=Fe(Kr.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Gt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(lt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class jd extends cn{constructor(){const e=Fe(jd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new ZF({context:this.context}),this._modulationNode=new Gt({context:this.context}),this._carrier=new zt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new zt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Kr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Nt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(zt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Al extends cn{constructor(){const e=Fe(Al.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Gt({context:this.context,gain:0}),this._carrier=new zt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new lt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new zt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Kr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Kr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Nt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(zt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Tl extends cn{constructor(){const e=Fe(Tl.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Gt({context:this.context,gain:0}),this._thresh=new jl({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new lt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new zt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Nt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(cn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class kd extends cn{constructor(){const e=Fe(kd.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new lt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new lt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Nt(this,["frequency","detune"])}static getDefaults(){return Object.assign(zt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,l)=>r.detune.value=t+s*l)}}get count(){return this._oscillators.length}set count(e){if(Ur(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new zt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):tt});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ad extends cn{constructor(){const e=Fe(Ad.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Kr({context:this.context,value:2}),this._pulse=new Tl({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new zt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Nt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(cn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const aw={am:jd,fat:kd,fm:Al,oscillator:zt,pulse:Tl,pwm:Ad};class Iu extends cn{constructor(){const e=Fe(Iu.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new lt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new lt({context:this.context,units:"cents",value:e.detune}),Nt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(zt.getDefaults(),Al.getDefaults(),jd.getDefaults(),kd.getDefaults(),Tl.getDefaults(),Ad.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=aw[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof aw[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Ps(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Ps(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Os(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return qt(this,arguments,void 0,function*(e=1024){return Vi(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Tg extends lt{constructor(){super(Fe(Tg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Gt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,il(this._constantSource,this._sum)}static getDefaults(){return Object.assign(lt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Eg extends Hr{constructor(){const e=Fe(Eg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Kr({context:this.context,value:e.max-e.min}),this._add=this.output=new Tg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Hr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function bN(n,e=1/0){const t=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(l){Ur(l,n,e),t.set(this,l)}})}}function ur(n,e=1/0){const t=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(l){Ur(this.toSeconds(l),n,e),t.set(this,l)}})}}class Td extends cn{constructor(){const e=Fe(Td.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new rt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(cn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:tt,onerror:tt,playbackRate:1,reverse:!1})}load(e){return qt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=tt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=Es(t,this._loopStart):t=Es(t,0);const r=this.toSeconds(t),l=s;s=Es(s,Math.max(this._buffer.duration-r,0));let u=this.toSeconds(s);u=u/this._playbackRate,e=this.toSeconds(e);const c=new kl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&zn(l)?c.start(e,r):c.start(e,r,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ur(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ur(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}ms([ur(0)],Td.prototype,"fadeIn",void 0);ms([ur(0)],Td.prototype,"fadeOut",void 0);class ps extends Ge{constructor(){const e=Fe(ps.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new lt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ge.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Os(e))return e;{let s;for(s in Zc)if(Zc[s][t]===e)return s;return e}}_setCurve(e,t,s){if(Os(s)&&Reflect.has(Zc,s)){const r=Zc[s];Br(r)?e!=="_decayCurve"&&(this[e]=r[t]):this[e]=r}else if(An(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/r;r=(1-u)/c}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,r,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=u&&u<=c[d]){c=this._attackCurve.slice(d),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,r,t)}if(l&&this.sustain<1){const c=t*this.sustain,d=e+r;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,l+d):this._sig.exponentialApproachValueAtTime(c,d,l)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Be(An(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return wg(this,e,t,s),this}asArray(){return qt(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,s=new xg(1,t,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=r+this.toSeconds(this.release),u=l*.1,c=l+u,d=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:s}));return d._sig.toDestination(),d.triggerAttackRelease(t*(r+u)/c,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ms([ur(0)],ps.prototype,"attack",void 0);ms([ur(0)],ps.prototype,"decay",void 0);ms([bN(0,1)],ps.prototype,"sustain",void 0);ms([ur(0)],ps.prototype,"release",void 0);const Zc=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],l=6.4;for(e=0;e<127;e++){t=e/127;const x=Math.sin(t*(Math.PI*2)*l-Math.PI/2)+1;r[e]=x/10+t*.83}r[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const d=[];for(e=0;e<128;e++)t=e/127,d[e]=.5*(1-Math.cos(Math.PI*t));const f=[];for(e=0;e<128;e++){t=e/127;const x=Math.pow(t,3)*4+.2,b=Math.cos(x*Math.PI*2*t);f[e]=Math.abs(b*(1-t))}function p(x){const b=new Array(x.length);for(let S=0;S<x.length;S++)b[S]=1-x[S];return b}function m(x){return x.slice(0).reverse()}return{bounce:{In:p(f),Out:f},cosine:{In:s,Out:m(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:p(r)},sine:{In:d,Out:p(d)},step:{In:u,Out:p(u)}}})();class Yr extends Ge{constructor(){const e=Fe(Yr.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Jo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Nt(this,"volume")}static getDefaults(){return Object.assign(Ge.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const l=r[t],u=this.context.transport.schedule(c=>{r[t]=c,s.apply(this,r)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,r){const l=this.toSeconds(s),u=this.toSeconds(t);return this.triggerAttack(e,l,r),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Xr extends Yr{constructor(){const e=Fe(Xr.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Yr.getDefaults(),{detune:0,onsilence:tt,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const r=this.toSeconds(t);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),r=e instanceof Fn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,l,s)}else this.frequency.setValueAtTime(r,s);return this}}ms([ur(0)],Xr.prototype,"portamento",void 0);class Ed extends ps{constructor(){super(Fe(Ed.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ol extends Xr{constructor(){const e=Fe(ol.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Iu(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ed(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Nt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Xr.getDefaults(),{envelope:Object.assign(Ro(ps.getDefaults(),Object.keys(Ge.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ro(Iu.getDefaults(),[...Object.keys(cn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Du extends Ge{constructor(){const e=Fe(Du.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new it({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new it({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new it({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new it({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Ge.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Be(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let u=0;u<e;u++){const d=Math.pow(u/e,2)*19980+20;t[u]=d}const s=new Float32Array(e),r=new Float32Array(e),l=this.context.createBiquadFilter();return l.type=this.type,l.Q.value=this.Q.value,l.frequency.value=this.frequency.value,l.gain.value=this.gain.value,l.getFrequencyResponse(t,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Rg extends Ge{constructor(){const e=Fe(Rg.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Gt({context:this.context}),this.output=new Gt({context:this.context}),this._filters=[],this._filters=[],this.Q=new lt({context:this.context,units:"positive",value:e.Q}),this.frequency=new lt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new lt({context:this.context,units:"cents",value:e.detune}),this.gain=new lt({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Nt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Ge.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Be(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=Ps(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(t);Be(r!==-1,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(l=>l.disconnect()),this._filters=new Array(r);for(let l=0;l<r;l++){const u=new Du({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[l]=u}this._internalChannels=this._filters,il(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Du({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((l,u)=>s[u]*=l)}),t.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),gg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}const lw=[1,1.483,1.932,2.546,2.63,3.897];class xi extends Xr{constructor(){const e=Fe(xi.getDefaults(),arguments);super(e),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new lt({context:this.context,units:"cents",value:e.detune}),this.frequency=new lt({context:this.context,units:"frequency"}),this._amplitude=new Gt({context:this.context,gain:0}).connect(this.output),this._highpass=new Rg({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let t=0;t<lw.length;t++){const s=new Al({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:t===0?()=>this.onsilence(this):tt,type:"square"});s.connect(this._highpass),this._oscillators[t]=s;const r=new Kr({context:this.context,value:lw[t]});this._freqMultipliers[t]=r,this.frequency.chain(r,s.frequency),this.detune.connect(s.detune)}this._filterFreqScaler=new Eg({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new ps({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Ci(Xr.getDefaults(),{envelope:Object.assign(Ro(ps.getDefaults(),Object.keys(Ge.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,t=1){return this.envelope.triggerAttack(e,t),this._oscillators.forEach(s=>s.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(s=>{s.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(t=>t.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(t=>t.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(t=>t.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Vr extends ol{constructor(){const e=Fe(Vr.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Nt(this,["oscillator","envelope"])}static getDefaults(){return Ci(Xr.getDefaults(),ol.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),r=this.toFrequency(e instanceof Fn?e.toFrequency():e),l=r*this.octaves;return this.oscillator.frequency.setValueAtTime(l,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ms([bN(0)],Vr.prototype,"octaves",void 0);ms([ur(0)],Vr.prototype,"pitchDecay",void 0);class Mg extends Yr{constructor(){const e=Fe(Mg.getDefaults(),arguments);super(e),this.name="NoiseSynth",this.noise=new Ou(Object.assign({context:this.context},e.noise)),this.envelope=new Ed(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Yr.getDefaults(),{envelope:Object.assign(Ro(ps.getDefaults(),Object.keys(Ge.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ro(Ou.getDefaults(),Object.keys(cn.getDefaults())),{type:"white"})})}triggerAttack(e,t=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,t),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),e=this.toSeconds(e),this.triggerAttack(t,s),this.triggerRelease(t+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const CN=new Set;function Pg(n){CN.add(n)}function SN(n,e){const t=`registerProcessor("${n}", ${e})`;CN.add(t)}const JF=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Pg(JF);const eL=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Pg(eL);const tL=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Pg(tL);const nL="feedback-comb-filter",sL=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;SN(nL,sL);class Rd extends Yr{constructor(){const e=Fe(Rd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(Be(Xc(s)||Ps(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),Xc(s)){const l=new Fn(this.context,s).toMidi();t[l]=e.urls[s]}else Ps(r)&&isFinite(r)&&(t[r]=e.urls[r])}),this._buffers=new Ng({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Yr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:tt,onerror:tt,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const l=wN(new Fn(this.context,r).toFrequency()),u=Math.round(l),c=l-u,d=this._findClosest(u),f=u-d,p=this._buffers.get(f),m=yN(d+c),x=new kl({url:p,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:m}).connect(this.output);x.start(t,0,p.duration/m,s),An(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(x),x.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const b=this._activeSources.get(u),S=b.indexOf(x);S!==-1&&b.splice(S,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new Fn(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const l=this._activeSources.get(r);t=this.toSeconds(t),l.forEach(u=>{u.stop(t)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,r=1){const l=this.toSeconds(s);return this.triggerAttack(e,l,r),An(t)?(Be(An(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const d=t[Math.min(c,t.length-1)];this.triggerRelease(u,l+this.toSeconds(d))})):this.triggerRelease(e,l+this.toSeconds(t)),this}add(e,t,s){if(Be(Xc(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Xc(e)){const r=new Fn(this.context,e).toMidi();this._buffers.add(r,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}ms([ur(0)],Rd.prototype,"attack",void 0);ms([ur(0)],Rd.prototype,"release",void 0);class Fr extends ln{constructor(){const e=Fe(Fr.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Nl("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(ln.getDefaults(),{callback:tt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,t=>{let s;if(t.state==="started"){t.id!==-1&&this.context.transport.clear(t.id);const r=t.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Ps(this._loop)&&this._loop>1){s=1/0,Ps(this._loop)&&(s=this._loop*this._getLoopDuration());const l=this._state.getAfter(r);l!==null&&(s=Math.min(s,l.time-r)),s!==1/0&&(s=new At(this.context,s));const u=new At(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),u,new At(this.context,r),s)}else t.id=this.context.transport.schedule(this._tick.bind(this),new At(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return this._state.getValueAtTime(t)==="stopped"&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if(this._state.getValueAtTime(t)==="started"){this._state.setStateAtTime("stopped",t,{id:-1});const s=this._state.getBefore(t);let r=t;s!==null&&(r=s.time),this._rescheduleEvents(r)}return this}cancel(e){e=Es(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,s=>{this.context.transport.clear(s.id)}),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(t)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let s=.02;dN(this.humanize)||(s=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*s}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new At(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new At(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(t!==null&&t.state==="started"){const s=this._getLoopDuration();return(e-t.time)%s/s}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Vu extends Fr{constructor(){const e=Fe(Vu.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Nl("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(t=>{An(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(Fr.getDefaults(),{events:[]})}start(e,t){const s=this.toTicks(e);if(this._state.getValueAtTime(s)!=="started"){t=Es(t,this._loop?this._loopStart:0),this._loop?t=Es(t,this._loopStart):t=Es(t,0);const r=this.toTicks(t);this._state.add({id:-1,offset:r,state:"started",time:s}),this._forEach(l=>{this._startNote(l,s,r)})}return this}_startNote(e,t,s){t-=s,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<s&&(t+=this._getLoopDuration()),e.start(new At(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=s&&(e.loop=!1,e.start(new At(this.context,t))):e.startOffset>=s&&e.start(new At(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach(s=>{s.stop(e)}),this}at(e,t){const s=new jo(this.context,e).toTicks(),r=new At(this.context,1).toSeconds(),l=this._events.values();let u=l.next();for(;!u.done;){const c=u.value;if(Math.abs(s-c.startOffset)<r)return Ue(t)&&(c.value=t),c;u=l.next()}return Ue(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(t=e,e=t.time);const s=this.toTicks(e);let r;return t instanceof Fr?(r=t,r.callback=this._tick.bind(this)):r=new Fr({callback:this._tick.bind(this),context:this.context,value:t}),r.startOffset=s,r.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(r),this._restartEvent(r),this}_restartEvent(e){this._state.forEach(t=>{t.state==="started"?this._startNote(e,t.time,t.offset):e.stop(new At(this.context,t.time))})}remove(e,t){return Br(e)&&e.hasOwnProperty("time")&&(t=e,e=t.time),e=this.toTicks(e),this._events.forEach(s=>{s.startOffset===e&&(zn(t)||Ue(t)&&s.value===t)&&(this._events.delete(s),s.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(t=>t.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(t=>{t instanceof Vu?t._forEach(e):e(t)}),this}_setAll(e,t){this._forEach(s=>{s[e]=t})}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)})}get loopEnd(){return new At(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopEnd=e,this._testLoopBoundries(t)})}get loopStart(){return new At(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class Ha extends Fr{constructor(){const e=Fe(Ha.getDefaults(),arguments,["callback","events","subdivision"]);super(e),this.name="Sequence",this._part=new Vu({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Ro(Fr.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,t){t!==null&&!this.mute&&this.callback(e,t)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,t){return this._part.start(e,t&&this._indexTime(t)),this}stop(e){return this._part.stop(e),this}get subdivision(){return new At(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(t,s)=>t[s],set:(t,s,r)=>(Os(s)&&isFinite(parseInt(s,10))&&An(r)?t[s]=this._createSequence(r):t[s]=r,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,t,s){e.forEach((r,l)=>{const u=l*t+s;if(An(r))this._rescheduleSequence(r,t/r.length,u);else{const c=new At(this.context,u,"i").toSeconds();this._part.add(c,r)}})}_indexTime(e){return new At(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,e===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class Og extends Ge{constructor(){const e=Fe(Og.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new it({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Nt(this,"pan")}static getDefaults(){return Object.assign(Ge.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const rL="bit-crusher",iL=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;SN(rL,iL);class Ft extends Ge{constructor(){const e=Fe(Ft.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Gt({context:this.context}),Ft._allSolos.has(this.context)||Ft._allSolos.set(this.context,new Set),Ft._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ge.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ft._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ft._soloed.has(this.context)||Ft._soloed.set(this.context,new Set),Ft._soloed.get(this.context).add(this)}_removeSolo(){Ft._soloed.has(this.context)&&Ft._soloed.get(this.context).delete(this)}_isSoloed(){return Ft._soloed.has(this.context)&&Ft._soloed.get(this.context).has(this)}_noSolos(){return!Ft._soloed.has(this.context)||Ft._soloed.has(this.context)&&Ft._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ft._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ft._allSolos=new Map;Ft._soloed=new Map;class Ig extends Ge{constructor(){const e=Fe(Ig.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Og({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Jo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Nt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ge.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class bo extends Ge{constructor(){const e=Fe(bo.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ft({solo:e.solo,context:this.context}),this._panVol=this.output=new Ig({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Nt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ge.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return bo.buses.has(e)||bo.buses.set(e,new Gt({context:this.context})),bo.buses.get(e)}send(e,t=0){const s=this._getBus(e),r=new Gt({context:this.context,units:"decibels",gain:t});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}bo.buses=new Map;const Ys=Vn().transport;Vn().destination;Vn().destination;Vn().listener;Vn().draw;Vn();class oL{constructor(){this.audioContext=null,this.masterGain=null,this.activeOscillators=new Map,this.reverbConvolver=null,this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{if(this.audioContext=new(window.AudioContext||window.webkitAudioContext),console.log("🎵 Synthetic audio context created, state:",this.audioContext.state),this.audioContext.state==="suspended"){console.log("🎵 Synthetic audio context suspended, attempting to resume...");const e=async()=>{if(this.audioContext&&this.audioContext.state==="suspended")try{await this.audioContext.resume(),console.log("🎵 Synthetic audio context resumed successfully")}catch(t){console.error("🎵 Failed to resume synthetic audio context:",t)}document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0),document.removeEventListener("touchstart",e,!0)};document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),document.addEventListener("touchstart",e,!0);try{await this.audioContext.resume(),console.log("🎵 Synthetic audio context resumed immediately")}catch{console.log("🎵 Synthetic audio context needs user interaction to resume")}}this.masterGain=this.audioContext.createGain(),this.masterGain.gain.value=.3,this.masterGain.connect(this.audioContext.destination),await this.createReverb(),this.isInitialized=!0,console.log("🎵 Synthetic audio engine initialized successfully")}catch(e){throw console.error("Failed to initialize audio:",e),e}}async createReverb(){if(!this.audioContext)return;this.reverbConvolver=this.audioContext.createConvolver();const e=this.audioContext.sampleRate*2,t=this.audioContext.createBuffer(2,e,this.audioContext.sampleRate);for(let s=0;s<2;s++){const r=t.getChannelData(s);for(let l=0;l<e;l++)r[l]=(Math.random()*2-1)*Math.pow(1-l/e,2)}this.reverbConvolver.buffer=t}addReverb(e,t){if(!this.audioContext||!this.reverbConvolver||!this.masterGain)return;const s=this.audioContext.createGain(),r=this.audioContext.createGain();s.gain.value=t,r.gain.value=1-t,e.connect(r),e.connect(this.reverbConvolver),this.reverbConvolver.connect(s),s.connect(this.masterGain),r.connect(this.masterGain)}async playNote(e,t,s=.7,r="piano",l=!0){(!this.audioContext||!this.masterGain)&&await this.initialize();try{const u=this.audioContext.currentTime;r.includes("piano")&&!r.includes("organ")?this.playPianoNote(e,t,s,u,l):r.includes("grand")?this.playGrandPianoNote(e,t,s,u):r.includes("organ")?this.playOrganNote(e,t,s,u):r.includes("guitar")?this.playGuitarNote(e,t,s,u,l):r.includes("violin")?this.playViolinNote(e,t,s,u):r.includes("ukulele")?this.playUkuleleNote(e,t,s,u):r.includes("flute")&&!r.includes("pan")?this.playFluteNote(e,t,s,u):r.includes("panflute")?this.playPanFluteNote(e,t,s,u):r.includes("recorder")?this.playRecorderNote(e,t,s,u):this.playGenericNote(e,t,s,u)}catch(u){console.error("Failed to play note:",u)}}playPianoNote(e,t,s,r,l=!0){if(!this.audioContext||!this.masterGain)return;const u=[],c=this.audioContext.createGain(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createOscillator(),x=this.audioContext.createOscillator(),b=this.audioContext.createBufferSource(),S=this.audioContext.createOscillator(),w=this.audioContext.createOscillator(),C=this.audioContext.createGain(),N=this.audioContext.createGain(),E=this.audioContext.createGain(),T=this.audioContext.createGain(),M=this.audioContext.createGain(),R=this.audioContext.createGain(),I=this.audioContext.createGain(),j=this.audioContext.createGain(),k=this.audioContext.createBiquadFilter(),D=this.audioContext.createBiquadFilter();e<150?d.type="square":d.type="triangle",d.frequency.setValueAtTime(e,r),f.type="sine",f.frequency.setValueAtTime(e*2,r),p.type="sine",p.frequency.setValueAtTime(e*3,r),m.type="sine",m.frequency.setValueAtTime(e*4,r),x.type="sine",x.frequency.setValueAtTime(e*5,r);const A=Math.floor(this.audioContext.sampleRate*.005),V=this.audioContext.createBuffer(1,A,this.audioContext.sampleRate),B=V.getChannelData(0);for(let ae=0;ae<A;ae++)B[ae]=(Math.random()*2-1)*Math.exp(-ae/A*8);b.buffer=V,S.type="square",S.frequency.setValueAtTime(e*8,r),w.type="triangle",w.frequency.setValueAtTime(e*1.003,r),k.type="lowpass",e<150?(k.frequency.setValueAtTime(e*4,r),k.Q.setValueAtTime(2,r)):(k.frequency.setValueAtTime(e*6,r),k.Q.setValueAtTime(1,r)),D.type="peaking",D.frequency.setValueAtTime(e*3,r),D.Q.setValueAtTime(2,r),e<150?D.gain.setValueAtTime(1,r):D.gain.setValueAtTime(3,r);const Z=.02,z=.15,H=l?.75:.2,X=l?Math.min(.4,t*.3):Math.min(.2,t*.7),Q=Math.max(.001,s*.8);C.gain.setValueAtTime(.001,r),C.gain.exponentialRampToValueAtTime(Q,r+Z),C.gain.exponentialRampToValueAtTime(Q*H,r+Z+z),t>Z+z+X&&C.gain.setValueAtTime(Q*H,r+t-X),C.gain.exponentialRampToValueAtTime(.001,r+t);const $=Math.max(.001,s*.6);N.gain.setValueAtTime(.001,r),N.gain.exponentialRampToValueAtTime($,r+Z),N.gain.exponentialRampToValueAtTime($*H,r+Z+z),t>Z+z+X&&N.gain.setValueAtTime($*H,r+t-X),N.gain.exponentialRampToValueAtTime(.001,r+t);const q=Math.max(.001,s*.4);E.gain.setValueAtTime(.001,r),E.gain.exponentialRampToValueAtTime(q,r+Z),E.gain.exponentialRampToValueAtTime(q*H,r+Z+z),t>Z+z+X&&E.gain.setValueAtTime(q*H,r+t-X),E.gain.exponentialRampToValueAtTime(.001,r+t);const W=Math.max(.001,s*.3);T.gain.setValueAtTime(.001,r),T.gain.exponentialRampToValueAtTime(W,r+Z),T.gain.exponentialRampToValueAtTime(W*H,r+Z+z),t>Z+z+X&&T.gain.setValueAtTime(W*H,r+t-X),T.gain.exponentialRampToValueAtTime(.001,r+t);const O=Math.max(.001,s*.2);M.gain.setValueAtTime(.001,r),M.gain.exponentialRampToValueAtTime(O,r+Z),M.gain.exponentialRampToValueAtTime(O*H,r+Z+z),t>Z+z+X&&M.gain.setValueAtTime(O*H,r+t-X),M.gain.exponentialRampToValueAtTime(.001,r+t);const Y=Math.max(.001,s*.3);R.gain.setValueAtTime(Y,r),R.gain.exponentialRampToValueAtTime(.001,r+.01);const he=Math.max(.001,s*.2);I.gain.setValueAtTime(he,r),I.gain.exponentialRampToValueAtTime(.001,r+.005);const ue=Math.max(.001,s*.3);j.gain.setValueAtTime(.001,r),j.gain.exponentialRampToValueAtTime(ue,r+.02),j.gain.exponentialRampToValueAtTime(ue*.8,r+.2),j.gain.exponentialRampToValueAtTime(.001,r+t),d.connect(k),k.connect(D),D.connect(C),C.connect(c),f.connect(N),N.connect(c),p.connect(E),E.connect(c),m.connect(T),T.connect(c),x.connect(M),M.connect(c),b.connect(R),R.connect(c),S.connect(I),I.connect(c),w.connect(j),j.connect(c),d.start(r),f.start(r),p.start(r),m.start(r),x.start(r),b.start(r),S.start(r),w.start(r),d.stop(r+t),f.stop(r+t),p.stop(r+t),m.stop(r+t),x.stop(r+t),S.stop(r+t),w.stop(r+t),u.push(d,f,p,m,x,S,w),this.addReverb(c,.3),c.connect(this.masterGain),this.trackOscillators(u,"piano",e)}playGrandPianoNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createOscillator(),x=this.audioContext.createOscillator(),b=this.audioContext.createOscillator(),S=this.audioContext.createOscillator(),w=this.audioContext.createBufferSource(),C=this.audioContext.createGain(),N=this.audioContext.createGain(),E=this.audioContext.createGain(),T=this.audioContext.createGain(),M=this.audioContext.createGain(),R=this.audioContext.createGain(),I=this.audioContext.createGain(),j=this.audioContext.createGain(),k=this.audioContext.createGain(),D=this.audioContext.createBiquadFilter(),A=this.audioContext.createBiquadFilter(),V=this.audioContext.createBiquadFilter();c.type="triangle",c.frequency.setValueAtTime(e,r),d.type="sine",d.frequency.setValueAtTime(e*2,r),f.type="sine",f.frequency.setValueAtTime(e*3,r),p.type="sine",p.frequency.setValueAtTime(e*4,r),m.type="sine",m.frequency.setValueAtTime(e*5,r),x.type="sine",x.frequency.setValueAtTime(e*6,r),b.type="triangle",b.frequency.setValueAtTime(e*.997,r),S.type="triangle",S.frequency.setValueAtTime(e*1.003,r);const B=Math.floor(this.audioContext.sampleRate*.003),Z=this.audioContext.createBuffer(1,B,this.audioContext.sampleRate),z=Z.getChannelData(0);for(let ue=0;ue<B;ue++)z[ue]=(Math.random()*2-1)*.5*Math.exp(-ue/B*6);w.buffer=Z,D.type="lowpass",D.frequency.setValueAtTime(e*8,r),D.Q.setValueAtTime(.8,r),A.type="peaking",A.frequency.setValueAtTime(e*2,r),A.Q.setValueAtTime(1.5,r),A.gain.setValueAtTime(2,r),V.type="bandpass",V.frequency.setValueAtTime(e*1.5,r),V.Q.setValueAtTime(1,r);const H=Math.max(.001,s*.9);C.gain.setValueAtTime(H,r),C.gain.exponentialRampToValueAtTime(H*.8,r+.2),C.gain.exponentialRampToValueAtTime(H*.6,r+t*.4),C.gain.exponentialRampToValueAtTime(.001,r+t);const X=Math.max(.001,s*.7);N.gain.setValueAtTime(X,r),N.gain.exponentialRampToValueAtTime(X*.7,r+.15),N.gain.exponentialRampToValueAtTime(.001,r+t*.9);const Q=Math.max(.001,s*.5);E.gain.setValueAtTime(Q,r),E.gain.exponentialRampToValueAtTime(Q*.6,r+.12),E.gain.exponentialRampToValueAtTime(.001,r+t*.7);const $=Math.max(.001,s*.4);T.gain.setValueAtTime($,r),T.gain.exponentialRampToValueAtTime($*.5,r+.1),T.gain.exponentialRampToValueAtTime(.001,r+t*.6);const q=Math.max(.001,s*.3);M.gain.setValueAtTime(q,r),M.gain.exponentialRampToValueAtTime(q*.4,r+.08),M.gain.exponentialRampToValueAtTime(.001,r+t*.5);const W=Math.max(.001,s*.2);R.gain.setValueAtTime(W,r),R.gain.exponentialRampToValueAtTime(W*.3,r+.06),R.gain.exponentialRampToValueAtTime(.001,r+t*.4);const O=Math.max(.001,s*.4);I.gain.setValueAtTime(.001,r),I.gain.exponentialRampToValueAtTime(O,r+.05),I.gain.exponentialRampToValueAtTime(O*.8,r+.3),I.gain.exponentialRampToValueAtTime(.001,r+t);const Y=Math.max(.001,s*.35);j.gain.setValueAtTime(.001,r),j.gain.exponentialRampToValueAtTime(Y,r+.07),j.gain.exponentialRampToValueAtTime(Y*.7,r+.35),j.gain.exponentialRampToValueAtTime(.001,r+t);const he=Math.max(.001,s*.2);k.gain.setValueAtTime(he,r),k.gain.exponentialRampToValueAtTime(.001,r+.008),c.connect(D),D.connect(A),A.connect(C),C.connect(u),d.connect(N),N.connect(u),f.connect(E),E.connect(u),p.connect(T),T.connect(u),m.connect(M),M.connect(u),x.connect(R),R.connect(u),b.connect(V),V.connect(I),I.connect(u),S.connect(j),j.connect(u),w.connect(k),k.connect(u),c.start(r),d.start(r),f.start(r),p.start(r),m.start(r),x.start(r),b.start(r),S.start(r),w.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),p.stop(r+t),m.stop(r+t),x.stop(r+t),b.stop(r+t),S.stop(r+t),l.push(c,d,f,p,m,x,b,S),this.addReverb(u,.5),u.connect(this.masterGain),this.trackOscillators(l,"grand",e)}playOrganNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createOscillator(),x=this.audioContext.createOscillator(),b=this.audioContext.createBufferSource(),S=this.audioContext.createGain(),w=this.audioContext.createGain(),C=this.audioContext.createGain(),N=this.audioContext.createGain(),E=this.audioContext.createGain(),T=this.audioContext.createGain(),M=this.audioContext.createGain(),R=this.audioContext.createBiquadFilter();c.type="sine",c.frequency.setValueAtTime(e*.5,r),d.type="sine",d.frequency.setValueAtTime(e,r),f.type="sine",f.frequency.setValueAtTime(e*1.498,r),p.type="sine",p.frequency.setValueAtTime(e*2,r),m.type="sine",m.frequency.setValueAtTime(e*2.997,r),x.type="sine",x.frequency.setValueAtTime(e*4,r);const I=Math.floor(this.audioContext.sampleRate*t),j=this.audioContext.createBuffer(1,I,this.audioContext.sampleRate),k=j.getChannelData(0);for(let X=0;X<I;X++)k[X]=(Math.random()*2-1)*.02;b.buffer=j,R.type="lowpass",R.frequency.setValueAtTime(e*8,r),R.Q.setValueAtTime(.7,r);const D=Math.max(.001,s*.6);S.gain.setValueAtTime(D,r),S.gain.setValueAtTime(D*.95,r+t-.05),S.gain.exponentialRampToValueAtTime(.001,r+t);const A=Math.max(.001,s*.8);w.gain.setValueAtTime(A,r),w.gain.setValueAtTime(A*.95,r+t-.05),w.gain.exponentialRampToValueAtTime(.001,r+t);const V=Math.max(.001,s*.5);C.gain.setValueAtTime(V,r),C.gain.setValueAtTime(V*.9,r+t-.05),C.gain.exponentialRampToValueAtTime(.001,r+t);const B=Math.max(.001,s*.4);N.gain.setValueAtTime(B,r),N.gain.setValueAtTime(B*.9,r+t-.05),N.gain.exponentialRampToValueAtTime(.001,r+t);const Z=Math.max(.001,s*.3);E.gain.setValueAtTime(Z,r),E.gain.setValueAtTime(Z*.85,r+t-.05),E.gain.exponentialRampToValueAtTime(.001,r+t);const z=Math.max(.001,s*.25);T.gain.setValueAtTime(z,r),T.gain.setValueAtTime(z*.8,r+t-.05),T.gain.exponentialRampToValueAtTime(.001,r+t);const H=Math.max(.001,s*.1);M.gain.setValueAtTime(H,r),M.gain.exponentialRampToValueAtTime(H*.7,r+t*.8),M.gain.exponentialRampToValueAtTime(.001,r+t),c.connect(R),R.connect(S),S.connect(u),d.connect(w),w.connect(u),f.connect(C),C.connect(u),p.connect(N),N.connect(u),m.connect(E),E.connect(u),x.connect(T),T.connect(u),b.connect(M),M.connect(u),c.start(r),d.start(r),f.start(r),p.start(r),m.start(r),x.start(r),b.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),p.stop(r+t),m.stop(r+t),x.stop(r+t),l.push(c,d,f,p,m,x),this.addReverb(u,.6),u.connect(this.masterGain),this.trackOscillators(l,"organ",e)}playGuitarNote(e,t,s,r,l=!0){if(!this.audioContext||!this.masterGain)return;const u=[],c=this.audioContext.createGain(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createGain(),x=this.audioContext.createGain(),b=this.audioContext.createGain(),S=this.audioContext.createBiquadFilter(),w=this.audioContext.createBiquadFilter();d.type="square",d.frequency.setValueAtTime(e,r),f.type="triangle",f.frequency.setValueAtTime(e,r),p.type="sawtooth",p.frequency.setValueAtTime(e*20,r),S.type="lowpass",S.frequency.setValueAtTime(e*6,r),S.frequency.exponentialRampToValueAtTime(e*2,r+t),S.Q.setValueAtTime(3,r),w.type="highpass",w.frequency.setValueAtTime(2e3,r),w.Q.setValueAtTime(5,r);const C=.01,N=.08,E=l?.65:.15,T=l?Math.min(.3,t*.4):Math.min(.15,t*.8),M=Math.max(.001,s*1.2);m.gain.setValueAtTime(M,r),m.gain.exponentialRampToValueAtTime(.001,r+.05);const R=Math.max(.001,s*.6);x.gain.setValueAtTime(.001,r),x.gain.exponentialRampToValueAtTime(R,r+C),x.gain.exponentialRampToValueAtTime(R*E,r+C+N),t>C+N+T&&x.gain.setValueAtTime(R*E,r+t-T),x.gain.exponentialRampToValueAtTime(.001,r+t);const I=Math.max(.001,s*.3);b.gain.setValueAtTime(I,r),b.gain.exponentialRampToValueAtTime(.001,r+.02),d.connect(w),w.connect(m),m.connect(c),f.connect(S),S.connect(x),x.connect(c),p.connect(b),b.connect(c),d.start(r),f.start(r),p.start(r),d.stop(r+t),f.stop(r+t),p.stop(r+t),u.push(d,f,p),this.addReverb(c,.1),c.connect(this.masterGain),this.trackOscillators(u,"guitar",e)}playViolinNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createBufferSource(),m=this.audioContext.createGain(),x=this.audioContext.createGain(),b=this.audioContext.createGain(),S=this.audioContext.createGain(),w=this.audioContext.createBiquadFilter(),C=this.audioContext.createBiquadFilter(),N=this.audioContext.createBiquadFilter();c.type="sawtooth",c.frequency.setValueAtTime(e,r),d.type="sine",d.frequency.setValueAtTime(440,r),f.type="sine",f.frequency.setValueAtTime(880,r);const E=Math.floor(this.audioContext.sampleRate*.1),T=this.audioContext.createBuffer(1,E,this.audioContext.sampleRate),M=T.getChannelData(0);for(let H=0;H<E;H++)M[H]=(Math.random()*2-1)*.1;p.buffer=T,w.type="bandpass",w.frequency.setValueAtTime(600,r),w.Q.setValueAtTime(3,r),C.type="bandpass",C.frequency.setValueAtTime(1400,r),C.Q.setValueAtTime(2,r),N.type="lowpass",N.frequency.setValueAtTime(e*4,r),N.Q.setValueAtTime(.7,r);const R=Math.max(.001,s*.6),I=.08,j=.15,k=R*.85,D=Math.min(.3,t*.3);m.gain.setValueAtTime(.001,r),m.gain.exponentialRampToValueAtTime(R,r+I),m.gain.exponentialRampToValueAtTime(k,r+I+j),t>I+j+D&&m.gain.setValueAtTime(k,r+t-D),m.gain.exponentialRampToValueAtTime(.001,r+t);const A=Math.max(.001,s*.3),V=A*.9;x.gain.setValueAtTime(.001,r),x.gain.exponentialRampToValueAtTime(A,r+.12),x.gain.exponentialRampToValueAtTime(V,r+.2),t>.5&&x.gain.setValueAtTime(V,r+t-D),x.gain.exponentialRampToValueAtTime(.001,r+t);const B=Math.max(.001,s*.25),Z=B*.85;b.gain.setValueAtTime(.001,r),b.gain.exponentialRampToValueAtTime(B,r+.15),b.gain.exponentialRampToValueAtTime(Z,r+.25),t>.6&&b.gain.setValueAtTime(Z,r+t-D),b.gain.exponentialRampToValueAtTime(.001,r+t);const z=Math.max(.001,s*.15);S.gain.setValueAtTime(z,r),S.gain.exponentialRampToValueAtTime(.001,r+.08),c.connect(w),w.connect(C),C.connect(N),N.connect(m),m.connect(u),d.connect(x),x.connect(u),f.connect(b),b.connect(u),p.connect(S),S.connect(u),c.start(r),d.start(r),f.start(r),p.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),l.push(c,d,f),this.addReverb(u,.4),u.connect(this.masterGain),this.trackOscillators(l,"violin",e)}playUkuleleNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createGain(),x=this.audioContext.createGain(),b=this.audioContext.createGain(),S=this.audioContext.createGain(),w=this.audioContext.createBiquadFilter(),C=this.audioContext.createBiquadFilter();c.type="triangle",c.frequency.setValueAtTime(e,r),d.type="triangle",d.frequency.setValueAtTime(e*2.01,r),f.type="triangle",f.frequency.setValueAtTime(e*3.02,r),p.type="sine",p.frequency.setValueAtTime(e*8,r),w.type="highpass",w.frequency.setValueAtTime(e*.8,r),w.Q.setValueAtTime(2,r),C.type="bandpass",C.frequency.setValueAtTime(e*6,r),C.Q.setValueAtTime(8,r);const N=Math.max(.001,s*1.3);m.gain.setValueAtTime(N,r),m.gain.exponentialRampToValueAtTime(N*.8,r+.08),m.gain.exponentialRampToValueAtTime(N*.4,r+t*.5),m.gain.exponentialRampToValueAtTime(.001,r+t);const E=Math.max(.001,s*.8);x.gain.setValueAtTime(E,r),x.gain.exponentialRampToValueAtTime(.001,r+t*.7);const T=Math.max(.001,s*.6);b.gain.setValueAtTime(T,r),b.gain.exponentialRampToValueAtTime(.001,r+t*.5);const M=Math.max(.001,s*.4);S.gain.setValueAtTime(M,r),S.gain.exponentialRampToValueAtTime(.001,r+t*.3),c.connect(w),w.connect(m),m.connect(u),d.connect(x),x.connect(u),f.connect(b),b.connect(u),p.connect(C),C.connect(S),S.connect(u),c.start(r),d.start(r),f.start(r),p.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),p.stop(r+t),l.push(c,d,f,p),this.addReverb(u,.05),u.connect(this.masterGain),this.trackOscillators(l,"ukulele",e)}playFluteNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createGain(),m=this.audioContext.createGain(),x=this.audioContext.createGain(),b=this.audioContext.createBiquadFilter(),S=this.audioContext.createBiquadFilter();c.type="sine",c.frequency.setValueAtTime(e,r),d.type="sawtooth",d.frequency.setValueAtTime(e*6.5,r),f.type="triangle",f.frequency.setValueAtTime(e*2.1,r),b.type="lowpass",b.frequency.setValueAtTime(e*4,r),b.Q.setValueAtTime(1.5,r),S.type="bandpass",S.frequency.setValueAtTime(e*8,r),S.Q.setValueAtTime(12,r);const w=Math.max(.001,s*.9);p.gain.setValueAtTime(.001,r),p.gain.exponentialRampToValueAtTime(w,r+.15),t>.3&&p.gain.setValueAtTime(w*.8,r+t-.2),p.gain.exponentialRampToValueAtTime(.001,r+t);const C=Math.max(.001,s*.15);m.gain.setValueAtTime(C,r),m.gain.exponentialRampToValueAtTime(.001,r+t*.8);const N=Math.max(.001,s*.3);x.gain.setValueAtTime(N,r),x.gain.exponentialRampToValueAtTime(.001,r+t),c.connect(b),b.connect(p),p.connect(u),d.connect(S),S.connect(m),m.connect(u),f.connect(x),x.connect(u),c.start(r),d.start(r),f.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),l.push(c,d,f),this.addReverb(u,.3),u.connect(this.masterGain),this.trackOscillators(l,"flute",e)}playPanFluteNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createGain(),x=this.audioContext.createGain(),b=this.audioContext.createGain(),S=this.audioContext.createGain(),w=this.audioContext.createBiquadFilter(),C=this.audioContext.createBiquadFilter();c.type="square",c.frequency.setValueAtTime(e,r),d.type="square",d.frequency.setValueAtTime(e*.99,r),f.type="triangle",f.frequency.setValueAtTime(e*.5,r),p.type="sawtooth",p.frequency.setValueAtTime(e*4,r),w.type="bandpass",w.frequency.setValueAtTime(e*2,r),w.Q.setValueAtTime(6,r),C.type="lowpass",C.frequency.setValueAtTime(e*3,r),C.Q.setValueAtTime(3,r);const N=Math.max(.001,s*.7);m.gain.setValueAtTime(.001,r),m.gain.exponentialRampToValueAtTime(N,r+.1),m.gain.exponentialRampToValueAtTime(.001,r+t);const E=Math.max(.001,s*.65);x.gain.setValueAtTime(.001,r),x.gain.exponentialRampToValueAtTime(E,r+.12),x.gain.exponentialRampToValueAtTime(.001,r+t);const T=Math.max(.001,s*.4);b.gain.setValueAtTime(.001,r),b.gain.exponentialRampToValueAtTime(T,r+.05),b.gain.exponentialRampToValueAtTime(.001,r+t);const M=Math.max(.001,s*.2);S.gain.setValueAtTime(M,r),S.gain.exponentialRampToValueAtTime(.001,r+t*.6),c.connect(w),w.connect(m),m.connect(u),d.connect(x),x.connect(u),f.connect(C),C.connect(b),b.connect(u),p.connect(S),S.connect(u),c.start(r),d.start(r),f.start(r),p.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),p.stop(r+t),l.push(c,d,f,p),this.addReverb(u,.5),u.connect(this.masterGain),this.trackOscillators(l,"panflute",e)}playRecorderNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createOscillator(),f=this.audioContext.createOscillator(),p=this.audioContext.createOscillator(),m=this.audioContext.createGain(),x=this.audioContext.createGain(),b=this.audioContext.createGain(),S=this.audioContext.createGain(),w=this.audioContext.createBiquadFilter(),C=this.audioContext.createBiquadFilter();c.type="sawtooth",c.frequency.setValueAtTime(e,r),d.type="sawtooth",d.frequency.setValueAtTime(e*2,r),f.type="sawtooth",f.frequency.setValueAtTime(e*3,r),p.type="square",p.frequency.setValueAtTime(e*8,r),w.type="bandpass",w.frequency.setValueAtTime(e*5,r),w.Q.setValueAtTime(4,r),C.type="highpass",C.frequency.setValueAtTime(e*6,r),C.Q.setValueAtTime(8,r);const N=Math.max(.001,s*1);m.gain.setValueAtTime(.001,r),m.gain.exponentialRampToValueAtTime(N,r+.05),m.gain.exponentialRampToValueAtTime(.001,r+t);const E=Math.max(.001,s*.6);x.gain.setValueAtTime(E,r),x.gain.exponentialRampToValueAtTime(.001,r+t);const T=Math.max(.001,s*.4);b.gain.setValueAtTime(T,r),b.gain.exponentialRampToValueAtTime(.001,r+t);const M=Math.max(.001,s*.3);S.gain.setValueAtTime(M,r),S.gain.exponentialRampToValueAtTime(.001,r+t*.5),c.connect(w),w.connect(m),m.connect(u),d.connect(x),x.connect(u),f.connect(b),b.connect(u),p.connect(C),C.connect(S),S.connect(u),c.start(r),d.start(r),f.start(r),p.start(r),c.stop(r+t),d.stop(r+t),f.stop(r+t),p.stop(r+t),l.push(c,d,f,p),this.addReverb(u,.1),u.connect(this.masterGain),this.trackOscillators(l,"recorder",e)}playGenericNote(e,t,s,r){if(!this.audioContext||!this.masterGain)return;const l=[],u=this.audioContext.createGain(),c=this.audioContext.createOscillator(),d=this.audioContext.createGain();c.type="triangle",c.frequency.setValueAtTime(e,r);const f=Math.max(.001,s*.5);d.gain.setValueAtTime(f,r),d.gain.exponentialRampToValueAtTime(.001,r+t),c.connect(d),d.connect(u),c.start(r),c.stop(r+t),l.push(c),this.addReverb(u,.2),u.connect(this.masterGain),this.trackOscillators(l,"generic",e)}playFrequency(e,t=.5,s=.7){this.playNote(e,t,s,"piano",!0)}trackOscillators(e,t,s){const r=e.map(l=>({oscillator:l,gain:this.audioContext.createGain(),instrument:t,frequency:s,startTime:this.audioContext.currentTime}));this.activeOscillators.has(t)||this.activeOscillators.set(t,[]),this.activeOscillators.get(t).push(...r)}playDrum(e,t=.7){if(!this.audioContext||!this.masterGain)return;const s=this.audioContext.currentTime;switch(e){case"kick":this.playKick(s,t);break;case"snare":this.playSnare(s,t);break;case"hihat":this.playHihat(s,t,!1);break;case"openhat":this.playHihat(s,t,!0);break;case"crash":this.playCrash(s,t);break;case"ride":this.playRide(s,t);break;case"clap":this.playClap(s,t);break;case"tom":this.playTom(s,t);break}}playKick(e,t){if(!(!this.audioContext||!this.masterGain))try{const s=this.audioContext.createOscillator(),r=this.audioContext.createOscillator(),l=this.audioContext.createOscillator(),u=this.audioContext.createBufferSource(),c=this.audioContext.createGain(),d=this.audioContext.createGain(),f=this.audioContext.createGain(),p=this.audioContext.createGain(),m=this.audioContext.createBiquadFilter(),x=this.audioContext.createBiquadFilter(),b=this.audioContext.createBiquadFilter(),S=this.audioContext.createBiquadFilter();s.type="sine",s.frequency.setValueAtTime(60,e),s.frequency.exponentialRampToValueAtTime(45,e+.05),s.frequency.exponentialRampToValueAtTime(30,e+.2),r.type="sine",r.frequency.setValueAtTime(35,e),r.frequency.exponentialRampToValueAtTime(25,e+.15),l.type="square",l.frequency.setValueAtTime(800,e),l.frequency.exponentialRampToValueAtTime(200,e+.02);const w=Math.floor(this.audioContext.sampleRate*.08),C=this.audioContext.createBuffer(1,w,this.audioContext.sampleRate),N=C.getChannelData(0);for(let I=0;I<w;I++){const j=Math.pow(1-I/w,4);N[I]=(Math.random()*2-1)*j*.8}u.buffer=C,m.type="lowpass",m.frequency.setValueAtTime(100,e),m.Q.setValueAtTime(1.2,e),x.type="lowpass",x.frequency.setValueAtTime(60,e),x.Q.setValueAtTime(.8,e),b.type="bandpass",b.frequency.setValueAtTime(1500,e),b.Q.setValueAtTime(3,e),S.type="bandpass",S.frequency.setValueAtTime(800,e),S.Q.setValueAtTime(2,e);const E=Math.max(.001,t*1);c.gain.setValueAtTime(E,e),c.gain.exponentialRampToValueAtTime(E*.7,e+.05),c.gain.exponentialRampToValueAtTime(E*.3,e+.15),c.gain.exponentialRampToValueAtTime(.001,e+.5);const T=Math.max(.001,t*.8);d.gain.setValueAtTime(T,e),d.gain.exponentialRampToValueAtTime(T*.6,e+.08),d.gain.exponentialRampToValueAtTime(.001,e+.4);const M=Math.max(.001,t*.4);f.gain.setValueAtTime(M,e),f.gain.exponentialRampToValueAtTime(.001,e+.025);const R=Math.max(.001,t*.6);p.gain.setValueAtTime(R,e),p.gain.exponentialRampToValueAtTime(.001,e+.08),s.connect(m),m.connect(c),c.connect(this.masterGain),r.connect(x),x.connect(d),d.connect(this.masterGain),l.connect(b),b.connect(f),f.connect(this.masterGain),u.connect(S),S.connect(p),p.connect(this.masterGain),s.start(e),r.start(e),l.start(e),u.start(e),s.stop(e+.5),r.stop(e+.4),l.stop(e+.025)}catch(s){console.error("🎵 Kick drum error:",s)}}playSnare(e,t){if(!(!this.audioContext||!this.masterGain))try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createOscillator(),l=this.audioContext.createBufferSource(),u=this.audioContext.createOscillator(),c=this.audioContext.createGain(),d=this.audioContext.createGain(),f=this.audioContext.createGain(),p=this.audioContext.createGain(),m=this.audioContext.createBiquadFilter(),x=this.audioContext.createBiquadFilter(),b=this.audioContext.createBiquadFilter(),S=this.audioContext.createBiquadFilter(),w=Math.floor(this.audioContext.sampleRate*.15),C=this.audioContext.createBuffer(1,w,this.audioContext.sampleRate),N=C.getChannelData(0);for(let D=0;D<w;D++){const A=Math.pow(1-D/w,1.5),V=8e3+Math.sin(D*.02)*2e3;N[D]=(Math.random()*2-1)*A*.9}s.buffer=C,r.type="triangle",r.frequency.setValueAtTime(220,e),r.frequency.exponentialRampToValueAtTime(160,e+.1);const E=Math.floor(this.audioContext.sampleRate*.12),T=this.audioContext.createBuffer(1,E,this.audioContext.sampleRate),M=T.getChannelData(0);for(let D=0;D<E;D++){const A=Math.pow(1-D/E,2.5);M[D]=(Math.random()*2-1)*A*.7}l.buffer=T,u.type="square",u.frequency.setValueAtTime(1500,e),u.frequency.exponentialRampToValueAtTime(800,e+.01),m.type="bandpass",m.frequency.setValueAtTime(4e3,e),m.Q.setValueAtTime(1.8,e),x.type="lowpass",x.frequency.setValueAtTime(800,e),x.Q.setValueAtTime(2,e),b.type="highpass",b.frequency.setValueAtTime(6e3,e),b.Q.setValueAtTime(1.5,e),S.type="bandpass",S.frequency.setValueAtTime(2500,e),S.Q.setValueAtTime(4,e);const R=Math.max(.001,t*1.1);c.gain.setValueAtTime(R,e),c.gain.exponentialRampToValueAtTime(R*.4,e+.02),c.gain.exponentialRampToValueAtTime(.001,e+.15);const I=Math.max(.001,t*.7);d.gain.setValueAtTime(I,e),d.gain.exponentialRampToValueAtTime(I*.3,e+.05),d.gain.exponentialRampToValueAtTime(.001,e+.12);const j=Math.max(.001,t*.8);f.gain.setValueAtTime(j,e),f.gain.exponentialRampToValueAtTime(j*.2,e+.03),f.gain.exponentialRampToValueAtTime(.001,e+.12);const k=Math.max(.001,t*.6);p.gain.setValueAtTime(k,e),p.gain.exponentialRampToValueAtTime(.001,e+.015),s.connect(m),m.connect(c),c.connect(this.masterGain),r.connect(x),x.connect(d),d.connect(this.masterGain),l.connect(b),b.connect(f),f.connect(this.masterGain),u.connect(S),S.connect(p),p.connect(this.masterGain),s.start(e),r.start(e),l.start(e),u.start(e),r.stop(e+.12),u.stop(e+.015)}catch(s){console.error("🎵 Snare drum error:",s)}}playHihat(e,t,s=!1){if(!(!this.audioContext||!this.masterGain))try{const r=this.audioContext.createBufferSource(),l=this.audioContext.createOscillator(),u=this.audioContext.createOscillator(),c=this.audioContext.createOscillator(),d=this.audioContext.createGain(),f=this.audioContext.createGain(),p=this.audioContext.createGain(),m=this.audioContext.createGain(),x=this.audioContext.createBiquadFilter(),b=this.audioContext.createBiquadFilter(),S=this.audioContext.createBiquadFilter(),w=s?.35:.08,C=Math.floor(this.audioContext.sampleRate*w),N=this.audioContext.createBuffer(1,C,this.audioContext.sampleRate),E=N.getChannelData(0);for(let j=0;j<C;j++){const k=s?Math.pow(1-j/C,.6):Math.pow(1-j/C,3),D=Math.sin(j*.8)*.3,A=Math.sin(j*1.2)*.2,V=Math.sin(j*2.1)*.1,B=(Math.random()*2-1)*.4;E[j]=(B+D+A+V)*k}r.buffer=N,l.type="square",l.frequency.setValueAtTime(8500,e),l.frequency.exponentialRampToValueAtTime(7200,e+w*.3),u.type="sawtooth",u.frequency.setValueAtTime(11200,e),u.frequency.exponentialRampToValueAtTime(9800,e+w*.4),c.type="sine",c.frequency.setValueAtTime(13500,e),x.type="bandpass",x.frequency.setValueAtTime(8e3,e),x.Q.setValueAtTime(1.2,e),b.type="highpass",b.frequency.setValueAtTime(6e3,e),b.Q.setValueAtTime(.8,e),S.type="bandpass",S.frequency.setValueAtTime(12e3,e),S.Q.setValueAtTime(3,e);const T=Math.max(.001,t*(s?.6:.8));d.gain.setValueAtTime(T,e),s?(d.gain.exponentialRampToValueAtTime(T*.7,e+.05),d.gain.exponentialRampToValueAtTime(T*.3,e+.15),d.gain.exponentialRampToValueAtTime(.001,e+w)):(d.gain.exponentialRampToValueAtTime(T*.3,e+.02),d.gain.exponentialRampToValueAtTime(.001,e+w));const M=Math.max(.001,t*.4);f.gain.setValueAtTime(M,e),f.gain.exponentialRampToValueAtTime(.001,e+w*(s?.7:.5));const R=Math.max(.001,t*.35);p.gain.setValueAtTime(R,e),p.gain.exponentialRampToValueAtTime(.001,e+w*(s?.6:.4));const I=Math.max(.001,t*.25);m.gain.setValueAtTime(I,e),m.gain.exponentialRampToValueAtTime(.001,e+w*(s?.8:.3)),r.connect(x),x.connect(d),d.connect(this.masterGain),l.connect(b),b.connect(f),f.connect(this.masterGain),u.connect(p),p.connect(this.masterGain),c.connect(S),S.connect(m),m.connect(this.masterGain),r.start(e),l.start(e),u.start(e),c.start(e),l.stop(e+w),u.stop(e+w),c.stop(e+w)}catch(r){console.error("🎵 Hi-hat error:",r)}}playCrash(e,t){if(!(!this.audioContext||!this.masterGain))try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter(),u=this.audioContext.sampleRate*2.5,c=this.audioContext.createBuffer(2,u,this.audioContext.sampleRate);for(let f=0;f<2;f++){const p=c.getChannelData(f);for(let m=0;m<u;m++)p[m]=(Math.random()*2-1)*(1-m/u)*.6}s.buffer=c,l.type="highpass",l.frequency.setValueAtTime(4e3,e),l.Q.setValueAtTime(1.5,e);const d=Math.max(.001,t*.9);r.gain.setValueAtTime(d,e),r.gain.exponentialRampToValueAtTime(d*.4,e+.1),r.gain.exponentialRampToValueAtTime(.001,e+2.5),s.connect(l),l.connect(r),r.connect(this.masterGain),s.start(e)}catch(s){console.error("Crash cymbal error:",s)}}playRide(e,t){if(!(!this.audioContext||!this.masterGain))try{const s=this.audioContext.createOscillator(),r=this.audioContext.createOscillator(),l=this.audioContext.createBufferSource(),u=this.audioContext.createGain(),c=this.audioContext.createBiquadFilter();s.type="triangle",s.frequency.setValueAtTime(850,e),r.type="sine",r.frequency.setValueAtTime(1300,e);const d=this.audioContext.sampleRate*.35,f=this.audioContext.createBuffer(1,d,this.audioContext.sampleRate),p=f.getChannelData(0);for(let x=0;x<d;x++)p[x]=(Math.random()*2-1)*(1-x/d)*.12;l.buffer=f,c.type="highpass",c.frequency.setValueAtTime(2800,e),c.Q.setValueAtTime(2.5,e);const m=Math.max(.001,t*.7);u.gain.setValueAtTime(m,e),u.gain.exponentialRampToValueAtTime(m*.6,e+.05),u.gain.exponentialRampToValueAtTime(.001,e+1.5),s.connect(c),r.connect(c),l.connect(c),c.connect(u),u.connect(this.masterGain),s.start(e),r.start(e),l.start(e),s.stop(e+1.5),r.stop(e+1.5)}catch(s){console.error("Ride cymbal error:",s)}}playClap(e,t){if(!(!this.audioContext||!this.masterGain))try{for(let s=0;s<4;s++){const r=s*.01,l=this.audioContext.createBufferSource(),u=this.audioContext.createGain(),c=this.audioContext.createBiquadFilter(),d=this.audioContext.sampleRate*.15,f=this.audioContext.createBuffer(1,d,this.audioContext.sampleRate),p=f.getChannelData(0);for(let x=0;x<d;x++)p[x]=(Math.random()*2-1)*(1-x/d)*.85;l.buffer=f,c.type="bandpass",c.frequency.setValueAtTime(1400+s*250,e),c.Q.setValueAtTime(9,e);const m=Math.max(.001,t*(.9-s*.15));u.gain.setValueAtTime(m,e+r),u.gain.exponentialRampToValueAtTime(.001,e+r+.12),l.connect(c),c.connect(u),u.connect(this.masterGain),l.start(e+r)}}catch(s){console.error("Clap error:",s)}}playTom(e,t){if(!(!this.audioContext||!this.masterGain))try{const s=this.audioContext.createOscillator(),r=this.audioContext.createOscillator(),l=this.audioContext.createOscillator(),u=this.audioContext.createBufferSource(),c=this.audioContext.createGain(),d=this.audioContext.createGain(),f=this.audioContext.createGain(),p=this.audioContext.createGain(),m=this.audioContext.createBiquadFilter(),x=this.audioContext.createBiquadFilter(),b=this.audioContext.createBiquadFilter(),S=this.audioContext.createBiquadFilter();s.type="sine",s.frequency.setValueAtTime(110,e),s.frequency.exponentialRampToValueAtTime(85,e+.1),s.frequency.exponentialRampToValueAtTime(75,e+.25),r.type="triangle",r.frequency.setValueAtTime(165,e),r.frequency.exponentialRampToValueAtTime(127,e+.1),r.frequency.exponentialRampToValueAtTime(112,e+.25),l.type="square",l.frequency.setValueAtTime(400,e),l.frequency.exponentialRampToValueAtTime(200,e+.02);const w=Math.floor(this.audioContext.sampleRate*.05),C=this.audioContext.createBuffer(1,w,this.audioContext.sampleRate),N=C.getChannelData(0);for(let I=0;I<w;I++){const j=Math.pow(1-I/w,6);N[I]=(Math.random()*2-1)*j*.5}u.buffer=C,m.type="lowpass",m.frequency.setValueAtTime(400,e),m.Q.setValueAtTime(2.5,e),x.type="bandpass",x.frequency.setValueAtTime(800,e),x.Q.setValueAtTime(1.8,e),b.type="bandpass",b.frequency.setValueAtTime(1200,e),b.Q.setValueAtTime(3,e),S.type="highpass",S.frequency.setValueAtTime(2e3,e),S.Q.setValueAtTime(1,e);const E=Math.max(.001,t*1);c.gain.setValueAtTime(E,e),c.gain.exponentialRampToValueAtTime(E*.7,e+.05),c.gain.exponentialRampToValueAtTime(E*.3,e+.15),c.gain.exponentialRampToValueAtTime(.001,e+.45);const T=Math.max(.001,t*.6);d.gain.setValueAtTime(T,e),d.gain.exponentialRampToValueAtTime(T*.4,e+.08),d.gain.exponentialRampToValueAtTime(.001,e+.35);const M=Math.max(.001,t*.4);f.gain.setValueAtTime(M,e),f.gain.exponentialRampToValueAtTime(.001,e+.025);const R=Math.max(.001,t*.5);p.gain.setValueAtTime(R,e),p.gain.exponentialRampToValueAtTime(.001,e+.05),s.connect(m),m.connect(c),c.connect(this.masterGain),r.connect(x),x.connect(d),d.connect(this.masterGain),l.connect(b),b.connect(f),f.connect(this.masterGain),u.connect(S),S.connect(p),p.connect(this.masterGain),s.start(e),r.start(e),l.start(e),u.start(e),s.stop(e+.45),r.stop(e+.35),l.stop(e+.025)}catch(s){console.error("🎵 Tom drum error:",s)}}stopAllInstruments(){this.activeOscillators.forEach((e,t)=>{e.forEach(s=>{try{s.oscillator.stop()}catch{}})}),this.activeOscillators.clear()}setMasterVolume(e){this.masterGain&&this.masterGain.gain.setValueAtTime(Math.max(0,Math.min(1,e)),this.audioContext.currentTime)}}const mo=new oL;var Yf={exports:{}},Xf={exports:{}},Zf,cw;function aL(){if(cw)return Zf;cw=1;function n(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function e(t,s){for(var r=t.replace(/[^A-Za-z0-9\+\/]/g,""),l=r.length,u=s?Math.ceil((l*3+1>>2)/s)*s:l*3+1>>2,c=new Uint8Array(u),d,f,p=0,m=0,x=0;x<l;x++)if(f=x&3,p|=n(r.charCodeAt(x))<<18-6*f,f===3||l-x===1){for(d=0;d<3&&m<u;d++,m++)c[m]=p>>>(16>>>d&24)&255;p=0}return c}return Zf={decode:e},Zf}var Jf,uw;function lL(){return uw||(uw=1,Jf=function(n,e){return new Promise(function(t,s){var r=new XMLHttpRequest;e&&(r.responseType=e),r.open("GET",n),r.onload=function(){r.status===200?t(r.response):s(Error(r.statusText))},r.onerror=function(){s(Error("Network Error"))},r.send()})}),Jf}var dw;function cL(){return dw||(dw=1,(function(n){var e=aL(),t=lL();function s(j){return function(k){return typeof k=="string"&&j.test(k)}}function r(j,k){return typeof j=="string"?j+k:typeof j=="function"?j(k):k}function l(j,k,D,A){var V=u(k)?c:d(k)?f:p(k)?m:x(k)?b:S(k)?w:C(k)?N:E(k)?T:M(k)?R:null,B=D||{};return V?V(j,k,B):A?Promise.resolve(A):Promise.reject("Source not valid ("+k+")")}l.fetch=t;function u(j){return j instanceof ArrayBuffer}function c(j,k,D){return new Promise(function(A,V){j.decodeAudioData(k,function(B){A(B)},function(){V("Can't decode audio data ("+k.slice(0,30)+"...)")})})}var d=s(/\.(mp3|wav|ogg)(\?.*)?$/i);function f(j,k,D){var A=r(D.from,k);return l(j,l.fetch(A,"arraybuffer"),D)}function p(j){return j&&typeof j.then=="function"}function m(j,k,D){return k.then(function(A){return l(j,A,D)})}var x=Array.isArray;function b(j,k,D){return Promise.all(k.map(function(A){return l(j,A,D,A)}))}function S(j){return j&&typeof j=="object"}function w(j,k,D){var A={},V=Object.keys(k).map(function(B){if(D.only&&D.only.indexOf(B)===-1)return null;var Z=k[B];return l(j,Z,D,Z).then(function(z){A[B]=z})});return Promise.all(V).then(function(){return A})}var C=s(/\.json(\?.*)?$/i);function N(j,k,D){var A=r(D.from,k);return l(j,l.fetch(A,"text").then(JSON.parse),D)}var E=s(/^data:audio/);function T(j,k,D){var A=k.indexOf(",");return l(j,e.decode(k.slice(A+1)).buffer,D)}var M=s(/\.js(\?.*)?$/i);function R(j,k,D){var A=r(D.from,k);return l(j,l.fetch(A,"text").then(I),D)}function I(j){var k=j.indexOf("MIDI.Soundfont.");if(k<0)throw Error("Invalid MIDI.js Soundfont format");k=j.indexOf("=",k)+2;var D=j.lastIndexOf(",");return JSON.parse(j.slice(k,D)+"}")}n.exports&&(n.exports=l),typeof window<"u"&&(window.loadAudio=l)})(Xf)),Xf.exports}var ep={exports:{}},tp,hw;function uL(){if(hw)return tp;hw=1,tp=n;function n(c){var d=c.createGain(),f=d._voltage=s(c),p=r(f),m=r(f),x=r(f);return d._startAmount=r(m),d._endAmount=r(x),d._multiplier=r(p),d._multiplier.connect(d),d._startAmount.connect(d),d._endAmount.connect(d),d.value=p.gain,d.startValue=m.gain,d.endValue=x.gain,d.startValue.value=0,d.endValue.value=0,Object.defineProperties(d,e),d}var e={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(c){var d=this._multiplier.gain,f=this._startAmount.gain,p=this._endAmount.gain;this._voltage.start(c),this._decayFrom=this._decayFrom=c+this.attack,this._startedAt=c;var m=this.sustain;d.cancelScheduledValues(c),f.cancelScheduledValues(c),p.cancelScheduledValues(c),p.setValueAtTime(0,c),this.attack?(d.setValueAtTime(0,c),d.linearRampToValueAtTime(1,c+this.attack),f.setValueAtTime(1,c),f.linearRampToValueAtTime(0,c+this.attack)):(d.setValueAtTime(1,c),f.setValueAtTime(0,c)),this.decay&&d.setTargetAtTime(m,this._decayFrom,l(this.decay))}},stop:{value:function(c,d){d&&(c=c-this.release);var f=c+this.release;if(this.release){var p=this._multiplier.gain,m=this._startAmount.gain,x=this._endAmount.gain;p.cancelScheduledValues(c),m.cancelScheduledValues(c),x.cancelScheduledValues(c);var b=l(this.release);if(this.attack&&c<this._decayFrom){var S=u(0,1,this._startedAt,this._decayFrom,c);p.linearRampToValueAtTime(S,c),m.linearRampToValueAtTime(1-S,c),m.setTargetAtTime(0,c,b)}x.setTargetAtTime(1,c,b),p.setTargetAtTime(0,c,b)}return this._voltage.stop(f),f}},onended:{get:function(){return this._voltage.onended},set:function(c){this._voltage.onended=c}}},t=new Float32Array([1,1]);function s(c){var d=c.createBufferSource(),f=c.createBuffer(1,2,c.sampleRate);return f.getChannelData(0).set(t),d.buffer=f,d.loop=!0,d}function r(c){var d=c.context.createGain();return c.connect(d),d}function l(c){return Math.log(c+1)/Math.log(100)}function u(c,d,f,p,m){var x=d-c,b=p-f,S=m-f,w=S/b,C=c+w*x;return C<=c&&(C=c),C>=d&&(C=d),C}return tp}var np,fw;function dL(){if(fw)return np;fw=1;var n=uL(),e={},t={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function s(d,f,p){var m=!1,x=0,b={},S=d.createGain();S.gain.value=1;var w=Object.assign({},t,p),C={context:d,out:S,opts:w};return f instanceof AudioBuffer?C.buffer=f:C.buffers=f,C.start=function(T,M,R){if(C.buffer&&T!==null)return C.start(null,T,M);var I=T?C.buffers[T]:C.buffer;if(I){if(!m){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+T+" not found.");return}var j=R||e;M=Math.max(d.currentTime,M||0),C.emit("start",M,T,j);var k=E(T,I,j);return k.id=N(T,k),k.env.start(M),k.source.start(M),C.emit("started",M,k.id,k),j.duration&&k.stop(M+j.duration),k},C.play=function(T,M,R){return C.start(T,M,R)},C.stop=function(T,M){var R;return M=M||Object.keys(b),M.map(function(I){return R=b[I],R?(R.stop(T),R.id):null})},C.connect=function(T){return m=!0,S.connect(T),C},C.emit=function(T,M,R,I){C.onevent&&C.onevent(T,M,R,I);var j=C["on"+T];j&&j(M,R,I)},C;function N(T,M){return M.id=x++,b[M.id]=M,M.source.onended=function(){var R=d.currentTime;M.source.disconnect(),M.env.disconnect(),M.disconnect(),C.emit("ended",R,M.id,M)},M.id}function E(T,M,R){var I=d.createGain();return I.gain.value=0,I.connect(S),I.env=u(d,R,w),I.env.connect(I.gain),I.source=d.createBufferSource(),I.source.buffer=M,I.source.connect(I),I.source.loop=R.loop||w.loop,I.source.playbackRate.value=c(R.cents||w.cents),I.source.loopStart=R.loopStart||w.loopStart,I.source.loopEnd=R.loopEnd||w.loopEnd,I.stop=function(j){var k=j||d.currentTime;C.emit("stop",k,T);var D=I.env.stop(k);I.source.stop(D)},I}}function r(d){return typeof d=="number"}var l=["attack","decay","sustain","release"];function u(d,f,p){var m=n(d),x=f.adsr||p.adsr;return l.forEach(function(b,S){x?m[b]=x[S]:m[b]=f[b]||p[b]}),m.value.value=r(f.gain)?f.gain:r(p.gain)?p.gain:1,m}function c(d){return d?Math.pow(2,d/1200):1}return np=s,np}var sp,pw;function hL(){if(pw)return sp;pw=1,sp=function(e){return e.on=function(t,s){if(arguments.length===1&&typeof t=="function")return e.on("event",t);var r="on"+t,l=e[r];return e[r]=l?n(l,s):s,e},e};function n(e,t){return function(s,r,l,u){e(s,r,l,u),t(s,r,l,u)}}return sp}var rp,mw;function fL(){if(mw)return rp;mw=1;var n=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function e(){return n}var t=[0,2,4,5,7,9,11];function s(c,d,f){if(typeof c!="string")return null;var p=n.exec(c);if(!p||!d&&p[4])return null;var m={letter:p[1].toUpperCase(),acc:p[2].replace(/x/g,"##")};return m.pc=m.letter+m.acc,m.step=(m.letter.charCodeAt(0)+3)%7,m.alt=m.acc[0]==="b"?-m.acc.length:m.acc.length,m.chroma=t[m.step]+m.alt,p[3]&&(m.oct=+p[3],m.midi=m.chroma+12*(m.oct+1),m.freq=r(m.midi,f)),d&&(m.tonicOf=p[4]),m}function r(c,d){return Math.pow(2,(c-69)/12)*(d||440)}var l={parse:s,regex:e,midiToFreq:r},u=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return u.forEach(function(c){l[c]=function(d){var f=s(d);return f&&typeof f[c]<"u"?f[c]:null}}),rp=l,rp}var ip,gw;function pL(){if(gw)return ip;gw=1;var n=fL(),e=function(r){return r!==null&&r!==[]&&r>=0&&r<129},t=function(r){return e(r)?+r:n.midi(r)};ip=function(r){if(r.buffers){var l=r.opts.map,u=typeof l=="function"?l:t,c=function(f){return f?u(f)||f:null};r.buffers=s(r.buffers,c);var d=r.start;r.start=function(f,p,m){var x=c(f),b=x%1;return b&&(x=Math.floor(x),m=Object.assign(m||{},{cents:Math.floor(b*100)})),d(x,p,m)}}return r};function s(r,l){return Object.keys(r).reduce(function(u,c){return u[l(c)]=r[c],u},{})}return ip}var op,xw;function mL(){if(xw)return op;xw=1;var n=Array.isArray,e=function(s){return s&&typeof s=="object"},t={};return op=function(s){return s.schedule=function(r,l){var u=s.context.currentTime,c=r<u?u:r;s.emit("schedule",c,l);var d,f,p,m;return l.map(function(x){if(x)n(x)?(d=x[0],f=x[1]):(d=x.time,f=x);else return null;return e(f)?(p=f.name||f.key||f.note||f.midi||null,m=f):(p=f,m=t),s.start(p,c+(d||0),m)})},s},op}function Jc(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ap={exports:{}},vw;function gL(){return vw||(vw=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(s,r,l){function u(f,p){if(!r[f]){if(!s[f]){var m=typeof Jc=="function"&&Jc;if(!p&&m)return m(f,!0);if(c)return c(f,!0);var x=new Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x}var b=r[f]={exports:{}};s[f][0].call(b.exports,function(S){var w=s[f][1][S];return u(w||S)},b,b.exports,t,s,r,l)}return r[f].exports}for(var c=typeof Jc=="function"&&Jc,d=0;d<l.length;d++)u(l[d]);return u})({1:[function(t,s,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(l){function u(c){if(this._event=c,this._data=c.data,this.receivedTime=c.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=c.data[0]&240,this.channel=c.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 144:this.messageType="noteon",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 160:this.messageType="keypressure",this.key=c.data[1]&127,this.pressure=c.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=c.data[1]&127,this.controllerValue=c.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=c.data[1];break;case 208:this.messageType="channelpressure",this.pressure=c.data[1]&127;break;case 224:this.messageType="pitchbendchange";var d=c.data[2]&127,f=c.data[1]&127;this.pitchBend=(d<<8)+f;break}}return new u(l)},s.exports=r.default},{}]},{},[1])(1)})})(ap)),ap.exports}var lp,yw;function xL(){if(yw)return lp;yw=1;var n=gL();return lp=function(e){return e.listenToMidi=function(t,s){var r={},l=s||{},u=l.gain||function(c){return c/127};return t.onmidimessage=function(c){var d=c.messageType?c:n(c);if(d.messageType==="noteon"&&d.velocity===0&&(d.messageType="noteoff"),!(l.channel&&d.channel!==l.channel))switch(d.messageType){case"noteon":r[d.key]=e.play(d.key,0,{gain:u(d.velocity)});break;case"noteoff":r[d.key]&&(r[d.key].stop(),delete r[d.key]);break}},e},e},lp}var ww;function vL(){return ww||(ww=1,(function(n){var e=dL(),t=hL(),s=pL(),r=mL(),l=xL();function u(c,d,f){return l(r(s(t(e(c,d,f)))))}n.exports&&(n.exports=u),typeof window<"u"&&(window.SamplePlayer=u)})(ep)),ep.exports}function bw(n,e){return Array(e+1).join(n)}function Dg(n){return typeof n=="number"}function yL(n){return typeof n=="string"}function wL(n){return typeof n<"u"}function _N(n,e){return Math.pow(2,(n-69)/12)*(e||440)}var NN=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function bL(){return NN}var CL=[0,2,4,5,7,9,11];function dr(n,e,t){if(typeof n!="string")return null;var s=NN.exec(n);if(!s||!e&&s[4])return null;var r={letter:s[1].toUpperCase(),acc:s[2].replace(/x/g,"##")};r.pc=r.letter+r.acc,r.step=(r.letter.charCodeAt(0)+3)%7,r.alt=r.acc[0]==="b"?-r.acc.length:r.acc.length;var l=CL[r.step]+r.alt;return r.chroma=l<0?12+l:l%12,s[3]&&(r.oct=+s[3],r.midi=l+12*(r.oct+1),r.freq=_N(r.midi,t)),e&&(r.tonicOf=s[4]),r}var SL="CDEFGAB";function _L(n){return Dg(n)?n<0?bw("b",-n):bw("#",n):""}function NL(n){return Dg(n)?""+n:""}function jN(n,e,t){return n===null||typeof n>"u"?null:n.step?jN(n.step,n.alt,n.oct):n<0||n>6?null:SL.charAt(n)+_L(e)+NL(t)}function kN(n){if((Dg(n)||yL(n))&&n>=0&&n<128)return+n;var e=dr(n);return e&&wL(e.midi)?e.midi:null}function jL(n,e){var t=kN(n);return t===null?null:_N(t,e)}function kL(n){return(dr(n)||{}).letter}function AL(n){return(dr(n)||{}).acc}function TL(n){return(dr(n)||{}).pc}function EL(n){return(dr(n)||{}).step}function RL(n){return(dr(n)||{}).alt}function ML(n){return(dr(n)||{}).chroma}function PL(n){return(dr(n)||{}).oct}const OL=Object.freeze(Object.defineProperty({__proto__:null,acc:AL,alt:RL,build:jN,chroma:ML,freq:jL,letter:kL,midi:kN,oct:PL,parse:dr,pc:TL,regex:bL,step:EL},Symbol.toStringTag,{value:"Module"})),IL=Tk(OL);var cp,Cw;function DL(){if(Cw)return cp;Cw=1;var n=IL;function e(r,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof e))return new e(r);this.nameToUrl=l||e.nameToUrl,this.ctx=r,this.instruments={},this.promises=[]}e.prototype.onready=function(r){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(r)},e.prototype.instrument=function(r,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var u=this.ctx;if(r=r||"default",r in this.instruments)return this.instruments[r];var c={name:r,play:s(u,l)};if(this.instruments[r]=c,r!=="default"){var d=e.instrument(u,r,l).then(function(f){return c.play=f.play,c});this.promises.push(d),c.onready=function(f){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),d.then(f)}}else c.onready=function(f){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),f()};return c};function t(r,l,u){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),e.instrument(r,l,u).then(function(c){return c.buffers})}e.loadBuffers=t;function s(r,l){return l=l||{},function(u,c,d,f){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var p=u>0&&u<129?+u:n.midi(u),m=p?n.midiToFreq(p,440):null;if(m){d=d||.2,f=f||{};var x=f.destination||l.destination||r.destination,b=f.vcoType||l.vcoType||"sine",S=f.gain||l.gain||.4,w=r.createOscillator();w.type=b,w.frequency.value=m;var C=r.createGain();return C.gain.value=S,w.connect(C),C.connect(x),w.start(c),d>0&&w.stop(c+d),w}}}return e.noteToMidi=n.midi,cp=e,cp}var Sw;function VL(){return Sw||(Sw=1,(function(n){var e=cL(),t=vL();function s(c,d,f){if(arguments.length===1)return function(S,w){return s(c,S,w)};var p=f||{},m=p.isSoundfontURL||r,x=p.nameToUrl||l,b=m(d)?d:x(d,p.soundfont,p.format);return e(c,b,{only:p.only||p.notes}).then(function(S){var w=t(c,S,p).connect(p.destination?p.destination:c.destination);return w.url=b,w.name=d,w})}function r(c){return/\.js(\?.*)?$/i.test(c)}function l(c,d,f){return f=f==="ogg"?f:"mp3",d=d==="FluidR3_GM"?d:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+d+"/"+c+"-"+f+".js"}var u=DL();u.instrument=s,u.nameToUrl=l,n.exports&&(n.exports=u),typeof window<"u"&&(window.Soundfont=u)})(Yf)),Yf.exports}var FL=VL();const _w=$u(FL);class AN{constructor(){this.instruments={},this.audioContext=null,this.isInitialized=!1,this.isLoading=!1,this.bassDrumDuration=.8,this.instrumentLibrary={piano:"acoustic_grand_piano","piano-keyboard":"acoustic_grand_piano","piano-grand":"acoustic_grand_piano","piano-organ":"church_organ",guitar:"acoustic_guitar_steel","strings-guitar":"acoustic_guitar_steel","guitar-acoustic":"acoustic_guitar_steel","guitar-electric":"electric_guitar_clean","guitar-distorted":"distortion_guitar","guitar-nylon":"acoustic_guitar_nylon","strings-violin":"violin","strings-ukulele":"acoustic_guitar_nylon","flute-recorder":"recorder","flute-indian":"flute","flute-concert":"flute","horns-trumpet":"trumpet","horns-trombone":"trombone","horns-french":"french_horn","synth-analog":"electric_piano_1","synth-digital":"electric_piano_2","synth-fm":"electric_piano_1","bass-electric":"electric_bass_finger","bass-upright":"acoustic_bass","bass-synth":"synth_bass_1","pads-warm":"pad_2_warm","pads-strings":"string_ensemble_1","pads-choir":"choir_aahs","leads-square":"lead_1_square","leads-saw":"lead_2_sawtooth","leads-pluck":"lead_6_voice",bass:"electric_bass_finger",violin:"violin",organ:"church_organ",synth:"lead_1_square",strings:"string_ensemble_1",flute:"flute",trumpet:"trumpet"}}async initialize(){if(!(this.isInitialized||this.isLoading)){this.isLoading=!0;try{if(this.audioContext=new(window.AudioContext||window.webkitAudioContext),console.log("🎵 Realistic audio context created, state:",this.audioContext.state),console.log("🎵 Environment:","production"),this.audioContext.state==="suspended"){console.log("🎵 Audio context suspended, attempting to resume...");const e=async()=>{if(this.audioContext&&this.audioContext.state==="suspended")try{await this.audioContext.resume(),console.log("🎵 Audio context resumed successfully")}catch(t){console.error("🎵 Failed to resume audio context:",t)}document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0),document.removeEventListener("touchstart",e,!0)};document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),document.addEventListener("touchstart",e,!0);try{await this.audioContext.resume(),console.log("🎵 Audio context resumed immediately")}catch{console.log("🎵 Audio context needs user interaction to resume")}}console.log("🎵 Realistic audio context started, final state:",this.audioContext.state),await this.loadInstruments(["piano","guitar","strings-guitar","violin","flute","trumpet","piano-organ","bass-electric","strings-violin"]),this.isInitialized=!0,this.isLoading=!1,console.log("Realistic audio engine initialized with sampled instruments")}catch(e){throw console.error("Failed to initialize realistic audio engine:",e),this.isLoading=!1,e}}}async loadInstruments(e){if(!this.audioContext)throw new Error("Audio context not initialized");const t=e.map(async s=>{if(!(this.instruments[s]||!(s in this.instrumentLibrary)))try{const r=this.instrumentLibrary[s];console.log(`🎵 Loading realistic ${s} instrument (${r})`);const l=await _w.instrument(this.audioContext,r,{format:"mp3",soundfont:"MusyngKite",nameToUrl:(u,c,d)=>`${`https://gleitz.github.io/midi-js-soundfonts/${c}`}/${u}-${d}.js`});this.instruments[s]=l,console.log(`🎵 Loaded realistic ${s} instrument successfully`)}catch(r){console.error(`🎵 Failed to load ${s} instrument:`,r)}});await Promise.all(t)}async loadAdditionalInstrument(e){if(!(this.instruments[e]||!(e in this.instrumentLibrary)||!this.audioContext))try{console.log(`Loading additional realistic ${e} instrument`);const t=this.instrumentLibrary[e],s=await _w.instrument(this.audioContext,t,{format:"mp3",soundfont:"MusyngKite",nameToUrl:(r,l,u)=>`${`https://gleitz.github.io/midi-js-soundfonts/${l}`}/${r}-${u}.js`});this.instruments[e]=s,console.log(`Loaded additional realistic ${e} instrument successfully`)}catch(t){console.error(`Failed to load additional ${e} instrument:`,t)}}async playNote(e,t,s,r="piano",l=.7,u=!0){this.isInitialized||await this.initialize();let c=r;c in this.instrumentLibrary||(r.includes("piano")||r.includes("keyboard")?c="piano":r.includes("guitar")||r.includes("string")?c="guitar":r.includes("violin")?c="strings-violin":r.includes("flute")?c="flute-concert":r.includes("trumpet")||r.includes("horn")?c="horns-trumpet":r.includes("bass")?c="bass-electric":r.includes("organ")?c="piano-organ":r.includes("synth")?c="synth-analog":r.includes("lead")?c="leads-square":r.includes("pad")?c="pads-warm":c="piano"),this.instruments[c]||await this.loadAdditionalInstrument(c);const d=this.instruments[c];if(!d){console.warn(`Realistic instrument ${c} not available, skipping playback`);return}try{const f=`${e}${t}`,p=u?s:Math.min(s,.5),m=Math.max(.1,Math.min(1,l)),x=d.play(f,this.audioContext.currentTime,{duration:p,gain:m});console.log(`Playing realistic ${c}: ${f} for ${p}s`)}catch(f){console.error(`Error playing realistic note ${e}${t} on ${c}:`,f)}}async playDrumSound(e,t=.7){if(this.isInitialized||await this.initialize(),this.instruments.drums||console.log("🎵 Using synthetic drums for realistic mode (soundfont drums are broken)"),console.log(`🎵 Playing synthetic drum in realistic mode: ${e}`),!this.audioContext){console.error("🎵 AudioContext not available for synthetic drums");return}const s=this.audioContext.currentTime;try{switch(e){case"kick":this.playSyntheticKick(s,t);break;case"bass":this.playSyntheticBassDrum(s,t);break;case"snare":this.playSyntheticSnare(s,t);break;case"hihat":this.playSyntheticHihat(s,t);break;case"openhat":this.playSyntheticOpenHat(s,t);break;case"tom":this.playSyntheticTom(s,t);break;case"clap":this.playSyntheticClap(s,t);break;case"crash":this.playSyntheticCrash(s,t);break;default:console.warn(`🎵 Unknown drum type: ${e}`)}}catch(r){console.error("🎵 Failed to play synthetic drum:",r)}}stopAllSounds(){Object.values(this.instruments).forEach(e=>{e&&e.stop&&e.stop()})}setMasterVolume(e){if(this.audioContext){const t=Math.max(0,Math.min(1,e));console.log(`Setting master volume to ${t}`)}}getAvailableInstruments(){return Object.keys(this.instrumentLibrary)}isReady(){return this.isInitialized&&!this.isLoading}playSyntheticKick(e,t){if(this.audioContext)try{const s=this.audioContext.createOscillator(),r=this.audioContext.createOscillator(),l=this.audioContext.createGain(),u=this.audioContext.createGain(),c=this.audioContext.createBiquadFilter();s.type="sine",s.frequency.setValueAtTime(65,e),s.frequency.exponentialRampToValueAtTime(35,e+.15),r.type="triangle",r.frequency.setValueAtTime(1200,e),r.frequency.exponentialRampToValueAtTime(800,e+.01),c.type="lowpass",c.frequency.setValueAtTime(120,e),c.Q.setValueAtTime(8,e);const d=Math.max(.001,t*1.8);l.gain.setValueAtTime(d,e),l.gain.exponentialRampToValueAtTime(d*.6,e+.08),l.gain.exponentialRampToValueAtTime(.001,e+.4);const f=Math.max(.001,t*.15);u.gain.setValueAtTime(.001,e),u.gain.exponentialRampToValueAtTime(f,e+.003),u.gain.exponentialRampToValueAtTime(.001,e+.02),s.connect(c),c.connect(l),l.connect(this.audioContext.destination),r.connect(u),u.connect(this.audioContext.destination),s.start(e),r.start(e),s.stop(e+.4),r.stop(e+.015)}catch(s){console.error("🎵 Kick drum error:",s)}}playSyntheticSnare(e,t){if(this.audioContext)try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createOscillator(),l=this.audioContext.createGain(),u=this.audioContext.createGain(),c=this.audioContext.createBiquadFilter(),d=this.audioContext.sampleRate*.12,f=this.audioContext.createBuffer(1,d,this.audioContext.sampleRate),p=f.getChannelData(0);for(let b=0;b<d;b++){const S=Math.pow(1-b/d,2);p[b]=(Math.random()*2-1)*S}s.buffer=f,r.type="triangle",r.frequency.setValueAtTime(240,e),r.frequency.exponentialRampToValueAtTime(180,e+.08),c.type="bandpass",c.frequency.setValueAtTime(2500,e),c.Q.setValueAtTime(2.5,e);const m=Math.max(.001,t*1.4);l.gain.setValueAtTime(m,e),l.gain.exponentialRampToValueAtTime(.001,e+.12);const x=Math.max(.001,t*.6);u.gain.setValueAtTime(x,e),u.gain.exponentialRampToValueAtTime(.001,e+.08),s.connect(c),c.connect(l),l.connect(this.audioContext.destination),r.connect(u),u.connect(this.audioContext.destination),s.start(e),r.start(e),r.stop(e+.08)}catch(s){console.error("🎵 Snare drum error:",s)}}playSyntheticHihat(e,t){if(this.audioContext)try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter(),u=.05,c=this.audioContext.sampleRate*u,d=this.audioContext.createBuffer(1,c,this.audioContext.sampleRate),f=d.getChannelData(0);for(let m=0;m<c;m++){const x=Math.pow(1-m/c,4);f[m]=(Math.random()*2-1)*x}s.buffer=d,l.type="highpass",l.frequency.setValueAtTime(1e4,e),l.Q.setValueAtTime(1,e);const p=Math.max(.001,t*1.2);r.gain.setValueAtTime(p,e),r.gain.exponentialRampToValueAtTime(.001,e+u),s.connect(l),l.connect(r),r.connect(this.audioContext.destination),s.start(e)}catch(s){console.error("🎵 Hi-hat error:",s)}}playSyntheticTom(e,t){if(this.audioContext)try{const s=this.audioContext.createOscillator(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter();s.type="sine",s.frequency.setValueAtTime(120,e),s.frequency.exponentialRampToValueAtTime(80,e+.3),l.type="lowpass",l.frequency.setValueAtTime(600,e),l.Q.setValueAtTime(3,e);const u=Math.max(.001,t*1.4);r.gain.setValueAtTime(u,e),r.gain.exponentialRampToValueAtTime(u*.5,e+.1),r.gain.exponentialRampToValueAtTime(.001,e+.4),s.connect(l),l.connect(r),r.connect(this.audioContext.destination),s.start(e),s.stop(e+.4)}catch(s){console.error("🎵 Tom drum error:",s)}}playSyntheticOpenHat(e,t){if(this.audioContext)try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter(),u=.25,c=this.audioContext.sampleRate*u,d=this.audioContext.createBuffer(1,c,this.audioContext.sampleRate),f=d.getChannelData(0);for(let m=0;m<c;m++){const x=Math.pow(1-m/c,2);f[m]=(Math.random()*2-1)*x}s.buffer=d,l.type="highpass",l.frequency.setValueAtTime(8e3,e),l.Q.setValueAtTime(1,e);const p=Math.max(.001,t*1.2);r.gain.setValueAtTime(p,e),r.gain.exponentialRampToValueAtTime(.001,e+u),s.connect(l),l.connect(r),r.connect(this.audioContext.destination),s.start(e)}catch(s){console.error("🎵 Open hi-hat error:",s)}}playSyntheticClap(e,t){if(this.audioContext)try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter(),u=this.audioContext.createBiquadFilter(),c=.08,d=this.audioContext.sampleRate*c,f=this.audioContext.createBuffer(1,d,this.audioContext.sampleRate),p=f.getChannelData(0);for(let x=0;x<d;x++){const b=x<d*.1?1:Math.pow(1-(x-d*.1)/(d*.9),4);p[x]=(Math.random()*2-1)*b}s.buffer=f,l.type="highpass",l.frequency.setValueAtTime(800,e),l.Q.setValueAtTime(1,e),u.type="bandpass",u.frequency.setValueAtTime(2200,e),u.Q.setValueAtTime(3,e);const m=Math.max(.001,t*1.3);r.gain.setValueAtTime(m,e),r.gain.exponentialRampToValueAtTime(m*.3,e+.01),r.gain.exponentialRampToValueAtTime(.001,e+c),s.connect(l),l.connect(u),u.connect(r),r.connect(this.audioContext.destination),s.start(e)}catch(s){console.error("🎵 Clap error:",s)}}playSyntheticCrash(e,t){if(this.audioContext)try{const s=this.audioContext.createBufferSource(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter(),u=1.2,c=this.audioContext.sampleRate*u,d=this.audioContext.createBuffer(1,c,this.audioContext.sampleRate),f=d.getChannelData(0);for(let m=0;m<c;m++){const x=Math.pow(1-m/c,.3);f[m]=(Math.random()*2-1)*x}s.buffer=d,l.type="highpass",l.frequency.setValueAtTime(4e3,e),l.Q.setValueAtTime(.3,e);const p=Math.max(.001,t*1);r.gain.setValueAtTime(p,e),r.gain.exponentialRampToValueAtTime(p*.4,e+.2),r.gain.exponentialRampToValueAtTime(.001,e+u),s.connect(l),l.connect(r),r.connect(this.audioContext.destination),s.start(e)}catch(s){console.error("🎵 Crash cymbal error:",s)}}playSyntheticBassDrum(e,t){if(this.audioContext)try{const s=this.audioContext.createOscillator(),r=this.audioContext.createGain(),l=this.audioContext.createBiquadFilter();s.type="sine",s.frequency.setValueAtTime(50,e),s.frequency.exponentialRampToValueAtTime(35,e+.2),l.type="lowpass",l.frequency.setValueAtTime(100,e),l.Q.setValueAtTime(2,e);const u=this.bassDrumDuration,c=Math.max(.001,t*1.1);r.gain.setValueAtTime(c,e),r.gain.exponentialRampToValueAtTime(c*.6,e+.15),r.gain.exponentialRampToValueAtTime(c*.2,e+u*.6),r.gain.exponentialRampToValueAtTime(.001,e+u),s.connect(l),l.connect(r),r.connect(this.audioContext.destination),s.start(e),s.stop(e+u)}catch(s){console.error("🎵 Bass drum error:",s)}}}const go=new AN;class LL{constructor(){this.synth=null,this.isInitialized=!1,this.currentSequence=null,this.trackInstruments={},this.drumKit={}}async playSequencer(e){await this.initialize();try{this.currentSequence&&(this.currentSequence.stop(),this.currentSequence.dispose()),this.setBpm(e.bpm);const t=e.bars*e.stepsPerBar,s={};for(const l of e.tracks){const u=Array(t).fill(!1);for(const c of l.clips)for(let d=0;d<c.length;d++){const f=c.start+d;f>=0&&f<t&&(u[f]=u[f]||!!c.steps[d]?.active)}s[l.id]=u}const r=Array.from({length:t},(l,u)=>u);this.currentSequence=new Ha((l,u)=>{const c=e.tracks.some(d=>d.solo);for(const d of e.tracks){const f=d.id;if(!s[f]?.[u]||d.mute||c&&!d.solo)continue;const m=this.trackInstruments[f]||this.drumKit.hihat,x=this.getAIPatternForInstrument(f,u);x?m.triggerAttackRelease(x.note||this.getDefaultNote(f),x.duration||this.getDefaultDuration(f),l,x.velocity||.8):this.triggerHardcodedPattern(f,m,l)}},r,"16n"),this.currentSequence.loop=!0,this.currentSequence.start(0),Ys.start()}catch(t){console.warn("Failed to play sequencer:",t)}}getAIPatternForInstrument(e,t){return null}getDefaultNote(e){return{kick:"C1",snare:"8n",hhc:220,hho:200,tom1:"G1",tom2:"F1",tom3:"D1",ride:260,crash:220}[e]||220}getDefaultDuration(e){return{kick:"8n",snare:"8n",hhc:"16n",hho:"8n",tom1:"8n",tom2:"8n",tom3:"8n",ride:"4n",crash:"2n"}[e]||"16n"}triggerHardcodedPattern(e,t,s){switch(e){case"kick":t.triggerAttackRelease("C1","8n",s);break;case"snare":t.triggerAttackRelease("8n",s);break;case"hhc":t.triggerAttackRelease(220,"16n",s,.9);break;case"hho":t.triggerAttackRelease(200,"8n",s,.9);break;case"tom1":t.triggerAttackRelease("G1","8n",s);break;case"tom2":t.triggerAttackRelease("F1","8n",s);break;case"tom3":t.triggerAttackRelease("D1","8n",s);break;case"ride":t.triggerAttackRelease(260,"4n",s,1);break;case"crash":t.triggerAttackRelease(220,"2n",s,1);break;default:this.drumKit.hihat.triggerAttackRelease(220,"16n",s,.8)}}async initialize(){if(!this.isInitialized)try{console.log("Initializing Tone.js audio context..."),await VF(),console.log("Tone.js started, audio context state:",Vn().state),this.synth=this.synth??new ol().toDestination(),this.drumKit={kick:new Vr({pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}}).toDestination(),snare:new Mg({noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}}).toDestination(),hihat:new xi({envelope:{attack:.001,decay:.15,release:.02},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination()},this.trackInstruments={kick:this.drumKit.kick,snare:this.drumKit.snare,hhc:new xi({envelope:{attack:.001,decay:.12,release:.02},harmonicity:5,modulationIndex:30,resonance:5e3,octaves:1.5}).toDestination(),hho:new xi({envelope:{attack:.001,decay:.45,release:.08},harmonicity:5,modulationIndex:30,resonance:4e3,octaves:1.5}).toDestination(),tom1:new Vr({octaves:4,envelope:{attack:.001,decay:.4,sustain:.01,release:.2}}).toDestination(),tom2:new Vr({octaves:4,envelope:{attack:.001,decay:.5,sustain:.01,release:.25}}).toDestination(),tom3:new Vr({octaves:4,envelope:{attack:.001,decay:.6,sustain:.01,release:.3}}).toDestination(),ride:new xi({envelope:{attack:.001,decay:1.2,release:.2},resonance:7e3}).toDestination(),crash:new xi({envelope:{attack:.001,decay:1.8,release:.3},resonance:6e3}).toDestination()};try{this.drumKit.hihat.volume.value=6,this.trackInstruments.hhc.volume.value=6,this.trackInstruments.hho.volume.value=6,this.trackInstruments.ride.volume.value=6,this.trackInstruments.crash.volume.value=6}catch{}console.log("Drum kit created:",Object.keys(this.drumKit)),this.isInitialized=!0}catch(e){throw console.error("Audio initialization failed:",e),e}}setBpm(e){try{Ys.bpm.value=e}catch{}}async playNote(e,t="8n"){await this.initialize();try{if(!this.synth)return;this.synth.triggerAttackRelease(e,t)}catch(s){console.warn("Failed to play note:",s)}}async playMelody(e,t=120){await this.initialize();try{Ys.bpm.value=t;const s=new Ha((r,l)=>{this.synth&&this.synth.triggerAttackRelease(WF(l,"midi").toNote(),"8n",r)},e,"8n");s.start(),Ys.start(),setTimeout(()=>{s.stop(),Ys.stop(),s.dispose()},e.length*(60/t)*.5*1e3)}catch(s){console.warn("Failed to play melody:",s)}}async playBeat(e,t,s=120){await this.initialize();try{this.currentSequence&&(this.currentSequence.stop(),this.currentSequence.dispose()),Ys.bpm.value=s,console.log("Playing beat pattern:",e),this.currentSequence=new Ha((r,l)=>{l%4===0&&(this.drumKit.kick.triggerAttackRelease("C1","8n",r),console.log("Playing kick at step",l)),(l===4||l===12)&&(this.drumKit.snare.triggerAttackRelease("8n",r),console.log("Playing snare at step",l)),this.drumKit.hihat.triggerAttackRelease(220,"16n",r,.8),e[l]===1&&l%4!==0&&l!==4&&l!==12&&this.drumKit.kick.triggerAttackRelease("C2","16n",r+.1)},Array.from({length:16},(r,l)=>l),"16n"),this.currentSequence.start(),Ys.start(),this.currentSequence.loop=!0}catch(r){console.warn("Failed to play beat:",r)}}stop(){try{this.currentSequence&&(this.currentSequence.stop(),this.currentSequence.dispose(),this.currentSequence=null),Ys.stop(),Ys.cancel()}catch(e){console.warn("Failed to stop audio:",e)}}dispose(){try{this.stop(),this.synth&&(this.synth.dispose(),this.synth=null),Object.values(this.drumKit).forEach(e=>e.dispose()),this.isInitialized=!1}catch(e){console.warn("Failed to dispose audio:",e)}}}const Lt=new LL;let xo=!1;const Co=[];let is=null,Fu=!1;function du(){return/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}async function Nw(){if(!(!du()||Fu))try{is||(is=new(window.AudioContext||window.webkitAudioContext)),is.state==="suspended"&&await is.resume();const n=is.createOscillator(),e=is.createGain();n.connect(e),e.connect(is.destination),e.gain.setValueAtTime(0,is.currentTime),n.frequency.setValueAtTime(440,is.currentTime),n.start(is.currentTime),n.stop(is.currentTime+.1),Fu=!0,console.log("✅ iOS audio enabled successfully"),Co.forEach(t=>t()),Co.length=0}catch(n){console.error("Failed to enable iOS audio:",n)}}function zL(n,e=4){const s={C:0,"C#":1,DB:1,D:2,"D#":3,EB:3,E:4,F:5,"F#":6,GB:6,G:7,"G#":8,AB:8,A:9,"A#":10,BB:10,B:11}[n.toUpperCase()];return s===void 0?(console.warn(`Unknown note: ${n}`),440):440*Math.pow(2,e-4+(s-9)/12)}function BL(){const{playDrumSound:n}=El();let e=[],t=!1;return{playPattern:(s,r=120)=>{if(e.forEach(l=>clearTimeout(l)),e=[],t=!0,Array.isArray(s))s.forEach((l,u)=>{if(l.active){const c=setTimeout(()=>{t&&n(l.sound||"kick",l.velocity||.7)},u*(6e4/(r*4)));e.push(c)}});else if(s&&typeof s=="object"){const l=6e4/(r*4),u=16;for(let c=0;c<u;c++){const d=setTimeout(()=>{t&&Object.entries(s).forEach(([f,p])=>{Array.isArray(p)&&p[c]&&n(f,.7)})},c*l);e.push(d)}}},stopPattern:()=>{t=!1,e.forEach(s=>clearTimeout(s)),e=[]},isPlaying:t}}function El(){const[n,e]=v.useState(xo),[t,s]=v.useState(!0),{toast:r}=ar(),l=v.useCallback(async()=>{if(!xo)try{await mo.initialize(),await go.initialize(),await Lt.initialize(),typeof window<"u"&&(window.syntheticAudioEngine=mo),xo=!0,e(!0),Co.forEach(p=>p()),r({title:"Audio System Ready",description:"Advanced Tone.js, realistic, and synthetic audio engines initialized successfully."})}catch(p){console.error("Failed to initialize audio:",p),r({title:"Audio Initialization Failed",description:"Could not initialize audio system. Some features may not work.",variant:"destructive"})}},[r]);v.useEffect(()=>{const p=()=>e(!0);return Co.push(p),()=>{const m=Co.indexOf(p);m>-1&&Co.splice(m,1)}},[]);const u=v.useCallback(async(p,m=4,x=.5,b="piano",S=.7,w=!0)=>{try{xo||await l();let C;if(typeof p=="number"){const N=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],E=Math.floor(p/12)-1,T=p%12;C=N[T],m=E}else C=p;if(console.log(`Audio Mode Check: useRealisticSounds=${t}, realisticAudio.isReady()=${go.isReady()}`),t&&go.isReady())console.log(`Playing REALISTIC ${b}: ${C}${m}`),await go.playNote(C,m,x,b,S,w);else{console.log(`Playing ADVANCED TONE.JS ${b}: ${C}${m}`);try{await Lt.playNote(`${C}${m}`,x.toString())}catch{console.log(`Fallback to SYNTHETIC ${b}: ${C}${m}`);const E=zL(C,m);await mo.playNote(E,x,S,b,w)}}}catch(C){console.error("Failed to play note:",C)}},[l,t]),c=v.useCallback(async(p,m=.5)=>{try{if(xo||await l(),t&&go.isReady())await go.playDrumSound(p,m);else{console.log(`Playing ADVANCED TONE.JS DRUM: ${p}`);try{const b={kick:()=>Lt.initialize().then(()=>Lt.drumKit?.kick?.triggerAttackRelease("C1","8n")),snare:()=>Lt.initialize().then(()=>Lt.drumKit?.snare?.triggerAttackRelease("8n")),hihat:()=>Lt.initialize().then(()=>Lt.drumKit?.hihat?.triggerAttackRelease(220,"16n",void 0,m)),hhc:()=>Lt.initialize().then(()=>Lt.drumKit?.hihat?.triggerAttackRelease(220,"16n",void 0,m)),hho:()=>Lt.initialize().then(()=>Lt.drumKit?.hihat?.triggerAttackRelease(200,"8n",void 0,m))}[p.toLowerCase()];b?await b():mo.playDrum(p,m)}catch{mo.playDrum(p,m)}}}catch(x){console.error("Failed to play drum sound:",x)}},[l,t]),d=v.useCallback(p=>{try{mo.setMasterVolume(p/100)}catch(m){console.error("Failed to set master volume:",m)}},[]);v.useEffect(()=>{const p=async()=>{du()&&!Fu&&await Nw(),xo||await l(),document.removeEventListener("click",p),document.removeEventListener("keydown",p),document.removeEventListener("touchstart",p)};return document.addEventListener("click",p),document.addEventListener("keydown",p),document.addEventListener("touchstart",p),()=>{document.removeEventListener("click",p),document.removeEventListener("keydown",p),document.removeEventListener("touchstart",p)}},[l]);const f=v.useCallback(()=>{s(p=>{const m=!p;return console.log(`🎵 Audio Mode Toggled: ${p?"REALISTIC":"SYNTHETIC"} → ${m?"REALISTIC":"SYNTHETIC"}`),m})},[]);return{playNote:u,playDrumSound:c,setMasterVolume:d,isInitialized:n,initialize:l,useRealisticSounds:t,toggleRealisticSounds:f,isIOSDevice:du(),needsIOSAudioEnable:du()&&!Fu,enableIOSAudio:Nw}}function qL({currentTool:n="Beat Maker",activeTab:e="beatmaker"}){const[t,s]=v.useState(!1),[r,l]=v.useState("00:00"),[u]=v.useState("02:45"),[c]=v.useState(120),[d]=v.useState(1),[f]=v.useState(1),[p,m]=v.useState(75),[x,b]=v.useState(""),[S,w]=v.useState(!1),[C,N]=v.useState(!1),[E,T]=v.useState(!0),[M,R]=v.useState(!1),[I,j]=v.useState(!1),[k,D]=v.useState({x:50,y:50}),[A,V]=v.useState(!1),[B,Z]=v.useState({x:0,y:0}),[z,H]=v.useState(!1),{setMasterVolume:X,initialize:Q,isInitialized:$}=El(),{playPattern:q,stopPattern:W}=BL(),O=v.useContext(Dd),{toast:Y}=ar(),{data:he}=yp({queryKey:["/api/playlists"],initialData:[]}),ue=Gr({mutationFn:async be=>(await us("POST","/api/playlists",{name:be,description:`Playlist created on ${new Date().toLocaleDateString()}`,isPublic:!1})).json(),onSuccess:be=>{f1.invalidateQueries({queryKey:["/api/playlists"]}),b(""),w(!1),Y({title:"Playlist Created",description:`${be.name} has been created!`})}}),ae=async()=>{try{if($||(console.log("🎵 Initializing audio..."),await Q()),t)console.log("🎵 Stopping playback..."),W(),O.stopFullSong(),s(!1);else{console.log(`🎵 Starting playback - Mode: ${O.playMode}, Tool: ${e}`);const be=O.currentPattern&&Object.keys(O.currentPattern).length>0?O.currentPattern:{kick:[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1],snare:[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],hihat:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]};if(console.log("🎵 Playing pattern:",be),q(be,O.bpm||120),O.currentPlaylist?.songs?.length>0)console.log("🎵 Playing from active playlist"),await O.playFullSong();else{console.log("🎵 No playlist selected - main transport is for playlist playback only"),Y({title:"No Playlist Selected",description:"Main transport controls are for playlist playback. Select a playlist or use tool-specific play buttons.",variant:"default"}),s(!1);return}s(!0)}}catch(be){console.error("🚫 Play button error:",be),s(!1)}},me=()=>{W(),s(!1),l("00:00")},L=be=>{const et=Number(be.target.value);m(et),X(et)},F=()=>{if(O.currentPlaylist&&O.currentPlaylist.songs){const be=O.currentPlaylistIndex>0?O.currentPlaylistIndex-1:O.currentPlaylist.songs.length-1;O.setCurrentPlaylistIndex(be),console.log(`🎵 Previous track: ${be+1}/${O.currentPlaylist.songs.length}`)}else Y({title:"No Playlist Active",description:"Previous/Next buttons work with playlists only.",variant:"default"})},se=()=>{if(O.currentPlaylist&&O.currentPlaylist.songs){const be=O.currentPlaylistIndex<O.currentPlaylist.songs.length-1?O.currentPlaylistIndex+1:0;O.setCurrentPlaylistIndex(be),console.log(`🎵 Next track: ${be+1}/${O.currentPlaylist.songs.length}`)}else Y({title:"No Playlist Active",description:"Previous/Next buttons work with playlists only.",variant:"default"})},re=async be=>{try{const wn=await(await us("GET",`/api/playlists/${be.id}/songs`,{})).json();O.setCurrentPlaylist({...be,songs:wn}),O.setCurrentPlaylistIndex(0),Y({title:"Active Playlist Set",description:`${be.name} is now active. Use play button to start.`})}catch{Y({title:"Error",description:"Failed to set active playlist.",variant:"destructive"})}},xe=()=>{if(!x.trim()){Y({title:"Invalid Name",description:"Please enter a playlist name.",variant:"destructive"});return}ue.mutate(x.trim())},ge=async()=>{try{if($||(console.log("🔧 Initializing audio for tool..."),await Q()),z)console.log("🔧 Stopping tool audio..."),W(),H(!1);else{console.log(`🔧 Playing ${e} tool audio - Mode: ${O.playMode}`);const be=O.currentPattern&&Object.keys(O.currentPattern).length>0?O.currentPattern:{kick:[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1],snare:[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],hihat:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]};q(be,O.bpm||120),O.playMode==="all"?(console.log("🔧 Playing ALL tools combined"),await O.playFullSong()):(console.log(`🔧 Playing current tool only: ${e}`),await O.playCurrentAudio()),H(!0)}}catch(be){console.error("🚫 Tool play button error:",be),H(!1)}},Ie=()=>{T(!1),R(!0),j(!1);const be=window.innerWidth/2-400,et=window.innerHeight/2-100;D({x:Math.max(0,be),y:Math.max(0,et)})},Re=()=>{R(!1),T(!0),j(!1)},ce=()=>{j(!I)},Se=be=>{if(!M)return;const et=be.target;et.closest("button")||et.closest('[role="button"]')||(V(!0),Z({x:be.clientX-k.x,y:be.clientY-k.y}))},Ke=be=>{if(!A||!M)return;const et=be.clientX-B.x,wn=be.clientY-B.y,hr=window.innerWidth-800,Li=window.innerHeight-200;D({x:Math.max(0,Math.min(et,hr)),y:Math.max(0,Math.min(wn,Li))})},Ye=()=>{V(!1)};v.useEffect(()=>{if(A)return document.addEventListener("mousemove",Ke),document.addEventListener("mouseup",Ye),()=>{document.removeEventListener("mousemove",Ke),document.removeEventListener("mouseup",Ye)}},[A,B]);const $e=M?`fixed bg-studio-panel border border-gray-600 rounded-lg shadow-2xl px-6 z-50 ${A?"cursor-grabbing":""} ${I?"h-auto pb-2 min-w-[400px]":"py-4 min-w-[800px]"}`:"bg-studio-panel border-t border-gray-700 px-6 py-4",Qe=M?{left:`${k.x}px`,top:`${k.y}px`,transform:"none"}:{};return i.jsxs("div",{className:$e,style:Qe,onMouseDown:M?Se:void 0,children:[M&&i.jsxs("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gray-700 rounded-t-lg flex items-center justify-between px-3 cursor-grab hover:bg-gray-600 transition-colors",onMouseDown:Se,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"})]}),i.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Transport Controls"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ee,{onClick:ce,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-xs hover:bg-yellow-600 bg-yellow-500 border border-yellow-400",title:I?"Expand controls":"Minimize controls",children:i.jsx("span",{className:"text-black text-lg font-bold leading-none",children:I?"+":"−"})}),i.jsx(ee,{onClick:Re,size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-xs hover:bg-red-600 bg-red-500 border border-red-400",title:"Close floating window - Dock to bottom",children:i.jsx("span",{className:"text-white text-lg font-bold leading-none",children:"×"})})]})]}),M&&I&&i.jsxs("div",{className:"mt-8 flex items-center justify-between gap-4 px-4 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{onClick:F,variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 w-8 h-8 rounded-full flex items-center justify-center transition-colors",title:"Previous Song",children:i.jsx("i",{className:"fas fa-step-backward text-xs"})}),i.jsx(ee,{onClick:ae,variant:"default",className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${t?"bg-red-600 hover:bg-red-500":"bg-green-600 hover:bg-green-500"}`,title:t?"Stop":"Play",children:i.jsx("i",{className:`fas ${t?"fa-stop":"fa-play"} text-white`})}),i.jsx(ee,{onClick:se,variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 w-8 h-8 rounded-full flex items-center justify-center transition-colors",title:"Next Song",children:i.jsx("i",{className:"fas fa-step-forward text-xs"})})]}),i.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[i.jsx("i",{className:"fas fa-volume-down text-gray-400 text-xs"}),i.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:be=>{const et=parseInt(be.target.value);m(et),X(et/100)},className:"flex-1 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider","aria-label":`Master volume control: ${p}%`,title:`Volume: ${p}%`}),i.jsxs("span",{className:"text-xs text-gray-300 w-8",children:[p,"%"]})]})]}),(!M||!I)&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-3 flex items-center justify-between gap-4 p-3 bg-gray-800 rounded-lg relative mt-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Tool Audio:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Current"}),i.jsx(qm,{checked:O.playMode==="all",onCheckedChange:be=>O.setPlayMode(be?"all":"current"),className:"data-[state=checked]:bg-studio-accent","aria-label":"Toggle between current tool audio and all tools audio"}),i.jsx("span",{className:"text-xs text-gray-400",children:"All"})]}),M?i.jsx(ee,{onClick:Re,size:"sm",variant:"outline",className:"h-6 w-12 text-xs bg-blue-600 hover:bg-blue-500 text-white border-blue-500",title:"Dock to bottom",children:"Dock"}):i.jsx(ee,{onClick:Ie,size:"sm",variant:"outline",className:"h-6 w-12 text-xs bg-green-600 hover:bg-green-500 text-white border-green-500",title:"Float controls",children:"Float"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(ee,{onClick:ge,className:`h-8 w-16 text-xs ${z?"bg-red-600 hover:bg-red-500":"bg-green-600 hover:bg-green-500"}`,children:[z?"Stop":"Play"," Tool"]})})]}),i.jsx("div",{className:"mb-2 text-xs text-gray-400 text-center",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-900/30 p-2 rounded",children:[i.jsx("strong",{children:"Playlist Controls:"})," ",O.currentPlaylist?.songs?.length>0?`"${O.currentPlaylist.name}" (${O.currentPlaylist.songs.length} songs)`:"No playlist selected",i.jsxs("div",{className:"text-xs mt-1 text-blue-300",children:["Status: ",t?"Playing":"Ready"]})]}),i.jsxs("div",{className:"bg-green-900/30 p-2 rounded",children:[i.jsx("strong",{children:"Tool Audio:"})," ",O.playMode==="current"?`${n} only`:"All tools combined",i.jsxs("div",{className:"text-xs mt-1 text-green-300",children:["Status: ",z?"Playing":"Ready"]})]})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[i.jsx(ee,{onClick:F,variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 w-10 h-10 rounded-full flex items-center justify-center transition-colors",title:"Previous Song in Playlist",children:i.jsx("i",{className:"fas fa-step-backward"})}),i.jsx("span",{className:"text-xs text-gray-400",children:"Previous"})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[i.jsx(ee,{onClick:ae,className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${t?"bg-red-600 hover:bg-red-500":"bg-studio-success hover:bg-green-500"}`,title:t?"Pause - Stop playing current beat":"Play - Start playing your beat pattern",children:i.jsx("i",{className:`fas ${t?"fa-pause":"fa-play"} text-lg`})}),i.jsx("span",{className:"text-xs text-gray-300 font-medium",children:t?"Pause":"Play"})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[i.jsx(ee,{onClick:me,className:"bg-red-600 hover:bg-red-500 w-10 h-10 rounded-full flex items-center justify-center transition-colors",title:"Stop - Stop playback and reset to beginning",children:i.jsx("i",{className:"fas fa-stop"})}),i.jsx("span",{className:"text-xs text-gray-400",children:"Stop"})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[i.jsx(ee,{onClick:se,variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 w-10 h-10 rounded-full flex items-center justify-center transition-colors",title:"Next Song in Playlist",children:i.jsx("i",{className:"fas fa-step-forward"})}),i.jsx("span",{className:"text-xs text-gray-400",children:"Next"})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[i.jsx(ee,{variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 w-10 h-10 rounded-full flex items-center justify-center transition-colors",title:"Loop - Repeat current pattern continuously",children:i.jsx("i",{className:"fas fa-redo"})}),i.jsx("span",{className:"text-xs text-gray-400",children:"Loop"})]})]})}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-mono text-lg",children:r}),i.jsxs("span",{className:"text-gray-400 ml-2",children:["/ ",u]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"font-mono",children:["Bar ",d]}),i.jsxs("span",{className:"text-gray-400 ml-2",children:["Beat ",f]})]}),i.jsx("div",{className:"text-sm",children:i.jsxs("span",{className:"font-mono",children:[c," BPM"]})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Playlists:"}),i.jsxs(wt,{value:O.currentPlaylist?.id||"",onValueChange:be=>{const et=he?.find(wn=>wn.id===be);et&&re(et)},children:[i.jsx(ft,{className:"w-32 h-8 bg-gray-700 border-gray-600 text-xs","aria-label":"Select playlist",children:i.jsx(bt,{placeholder:"Select..."})}),i.jsx(pt,{className:"bg-gray-800 border-gray-600",children:he?.map(be=>i.jsx(Oe,{value:be.id,children:be.name},be.id))})]})]}),i.jsxs(m_,{open:S,onOpenChange:w,children:[i.jsx(g_,{asChild:!0,children:i.jsxs(ee,{variant:"secondary",size:"sm",className:"h-8 bg-gray-700 hover:bg-gray-600 text-xs",children:[i.jsx("i",{className:"fas fa-plus mr-1"}),"New"]})}),i.jsxs(Hm,{className:"bg-gray-800 border-gray-600",children:[i.jsx(Qm,{children:i.jsx(Km,{children:"Create New Playlist"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Xs,{placeholder:"Enter playlist name...",value:x,onChange:be=>b(be.target.value),onKeyPress:be=>be.key==="Enter"&&xe(),className:"bg-gray-700 border-gray-600","aria-label":"New playlist name"}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(ee,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),i.jsx(ee,{onClick:xe,disabled:ue.isPending,children:ue.isPending?"Creating...":"Create"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fas fa-volume-up text-gray-400"}),i.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:L,className:"w-20 h-2 bg-gray-700 rounded-lg appearance-none slider","aria-label":`Playlist volume control: ${p}%`,title:`Playlist volume: ${p}%`}),i.jsxs("span",{className:"text-sm text-gray-400 w-8",children:[p,"%"]})]})]})]})]})]})}const cs=v.forwardRef(({className:n,...e},t)=>i.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));cs.displayName="Textarea";function GL(){const[n,e]=v.useState(""),[t,s]=v.useState("javascript"),[r,l]=v.useState(!1),u=async()=>{l(!0),setTimeout(()=>{l(!1)},2e3)};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-6 w-6"}),"Code to Music Translator"]})}),i.jsx(ye,{className:"h-full",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Programming Language"}),i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Oe,{value:"javascript",children:"JavaScript"}),i.jsx(Oe,{value:"python",children:"Python"}),i.jsx(Oe,{value:"java",children:"Java"}),i.jsx(Oe,{value:"cpp",children:"C++"}),i.jsx(Oe,{value:"rust",children:"Rust"})]})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Code"}),i.jsx(cs,{placeholder:"Paste your code here...",value:n,onChange:c=>e(c.target.value),className:"h-64 font-mono text-sm"})]}),i.jsx(ee,{onClick:u,disabled:!n||r,className:"w-full",children:r?"Translating...":i.jsxs(i.Fragment,{children:[i.jsx(B1,{className:"h-4 w-4 mr-2"}),"Translate to Music"]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-5 w-5"}),i.jsx("h3",{className:"font-medium",children:"Generated Music"})]}),i.jsx(de,{className:"h-64 bg-gray-100 border-dashed border-2",children:i.jsx(ye,{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(Bt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Music will appear here after translation"})]})})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{variant:"outline",className:"flex-1",children:[i.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Preview"]}),i.jsx(ee,{variant:"outline",className:"flex-1",children:"Export"})]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("p",{children:i.jsx("strong",{children:"Translation Rules:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[i.jsx("li",{children:"Functions become melodies"}),i.jsx("li",{children:"Loops create rhythmic patterns"}),i.jsx("li",{children:"Variables influence tempo"}),i.jsx("li",{children:"Comments add harmonies"})]})]})]})]})})]})})}var Md="Tabs",[$L,Oz]=gn(Md,[rd]),TN=rd(),[WL,Vg]=$L(Md),EN=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:r,defaultValue:l,orientation:u="horizontal",dir:c,activationMode:d="automatic",...f}=n,p=Wo(c),[m,x]=nr({prop:s,onChange:r,defaultProp:l??"",caller:Md});return i.jsx(WL,{scope:t,baseId:As(),value:m,onValueChange:x,orientation:u,dir:p,activationMode:d,children:i.jsx(Ne.div,{dir:p,"data-orientation":u,...f,ref:e})})});EN.displayName=Md;var RN="TabsList",MN=v.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...r}=n,l=Vg(RN,t),u=TN(t);return i.jsx(eC,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:s,children:i.jsx(Ne.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:e})})});MN.displayName=RN;var PN="TabsTrigger",ON=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:r=!1,...l}=n,u=Vg(PN,t),c=TN(t),d=VN(u.baseId,s),f=FN(u.baseId,s),p=s===u.value;return i.jsx(tC,{asChild:!0,...c,focusable:!r,active:p,children:i.jsx(Ne.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...l,ref:e,onMouseDown:pe(n.onMouseDown,m=>{!r&&m.button===0&&m.ctrlKey===!1?u.onValueChange(s):m.preventDefault()}),onKeyDown:pe(n.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&u.onValueChange(s)}),onFocus:pe(n.onFocus,()=>{const m=u.activationMode!=="manual";!p&&!r&&m&&u.onValueChange(s)})})})});ON.displayName=PN;var IN="TabsContent",DN=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:r,children:l,...u}=n,c=Vg(IN,t),d=VN(c.baseId,s),f=FN(c.baseId,s),p=s===c.value,m=v.useRef(p);return v.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),i.jsx(xn,{present:r||p,children:({present:x})=>i.jsx(Ne.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:f,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:m.current?"0s":void 0},children:x&&l})})});DN.displayName=IN;function VN(n,e){return`${n}-trigger-${e}`}function FN(n,e){return`${n}-content-${e}`}var UL=EN,LN=MN,zN=ON,BN=DN;const Fi=UL,si=v.forwardRef(({className:n,...e},t)=>i.jsx(LN,{ref:t,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));si.displayName=LN.displayName;const mt=v.forwardRef(({className:n,...e},t)=>i.jsx(zN,{ref:t,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));mt.displayName=zN.displayName;const gt=v.forwardRef(({className:n,...e},t)=>i.jsx(BN,{ref:t,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));gt.displayName=BN.displayName;var qN=["PageUp","PageDown"],GN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$N={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ea="Slider",[Hp,HL,QL]=ll(ea),[WN,Iz]=gn(ea,[QL]),[KL,Pd]=WN(ea),UN=v.forwardRef((n,e)=>{const{name:t,min:s=0,max:r=100,step:l=1,orientation:u="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[s],value:p,onValueChange:m=()=>{},onValueCommit:x=()=>{},inverted:b=!1,form:S,...w}=n,C=v.useRef(new Set),N=v.useRef(0),T=u==="horizontal"?YL:XL,[M=[],R]=nr({prop:p,defaultProp:f,onChange:V=>{[...C.current][N.current]?.focus(),m(V)}}),I=v.useRef(M);function j(V){const B=n6(M,V);A(V,B)}function k(V){A(V,N.current)}function D(){const V=I.current[N.current];M[N.current]!==V&&x(M)}function A(V,B,{commit:Z}={commit:!1}){const z=o6(l),H=a6(Math.round((V-s)/l)*l+s,z),X=tl(H,[s,r]);R((Q=[])=>{const $=e6(Q,X,B);if(i6($,d*l)){N.current=$.indexOf(X);const q=String($)!==String(Q);return q&&Z&&x($),q?$:Q}else return Q})}return i.jsx(KL,{scope:n.__scopeSlider,name:t,disabled:c,min:s,max:r,valueIndexToChangeRef:N,thumbs:C.current,values:M,orientation:u,form:S,children:i.jsx(Hp.Provider,{scope:n.__scopeSlider,children:i.jsx(Hp.Slot,{scope:n.__scopeSlider,children:i.jsx(T,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:e,onPointerDown:pe(w.onPointerDown,()=>{c||(I.current=M)}),min:s,max:r,inverted:b,onSlideStart:c?void 0:j,onSlideMove:c?void 0:k,onSlideEnd:c?void 0:D,onHomeKeyDown:()=>!c&&A(s,0,{commit:!0}),onEndKeyDown:()=>!c&&A(r,M.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:B})=>{if(!c){const H=qN.includes(V.key)||V.shiftKey&&GN.includes(V.key)?10:1,X=N.current,Q=M[X],$=l*H*B;A(Q+$,X,{commit:!0})}}})})})})});UN.displayName=ea;var[HN,QN]=WN(ea,{startEdge:"left",endEdge:"right",size:"width",direction:1}),YL=v.forwardRef((n,e)=>{const{min:t,max:s,dir:r,inverted:l,onSlideStart:u,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...p}=n,[m,x]=v.useState(null),b=ze(e,T=>x(T)),S=v.useRef(void 0),w=Wo(r),C=w==="ltr",N=C&&!l||!C&&l;function E(T){const M=S.current||m.getBoundingClientRect(),R=[0,M.width],j=Fg(R,N?[t,s]:[s,t]);return S.current=M,j(T-M.left)}return i.jsx(HN,{scope:n.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:i.jsx(KN,{dir:w,"data-orientation":"horizontal",...p,ref:b,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const M=E(T.clientX);u?.(M)},onSlideMove:T=>{const M=E(T.clientX);c?.(M)},onSlideEnd:()=>{S.current=void 0,d?.()},onStepKeyDown:T=>{const R=$N[N?"from-left":"from-right"].includes(T.key);f?.({event:T,direction:R?-1:1})}})})}),XL=v.forwardRef((n,e)=>{const{min:t,max:s,inverted:r,onSlideStart:l,onSlideMove:u,onSlideEnd:c,onStepKeyDown:d,...f}=n,p=v.useRef(null),m=ze(e,p),x=v.useRef(void 0),b=!r;function S(w){const C=x.current||p.current.getBoundingClientRect(),N=[0,C.height],T=Fg(N,b?[s,t]:[t,s]);return x.current=C,T(w-C.top)}return i.jsx(HN,{scope:n.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:i.jsx(KN,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const C=S(w.clientY);l?.(C)},onSlideMove:w=>{const C=S(w.clientY);u?.(C)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:w=>{const N=$N[b?"from-bottom":"from-top"].includes(w.key);d?.({event:w,direction:N?-1:1})}})})}),KN=v.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:s,onSlideMove:r,onSlideEnd:l,onHomeKeyDown:u,onEndKeyDown:c,onStepKeyDown:d,...f}=n,p=Pd(ea,t);return i.jsx(Ne.span,{...f,ref:e,onKeyDown:pe(n.onKeyDown,m=>{m.key==="Home"?(u(m),m.preventDefault()):m.key==="End"?(c(m),m.preventDefault()):qN.concat(GN).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:pe(n.onPointerDown,m=>{const x=m.target;x.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(x)?x.focus():s(m)}),onPointerMove:pe(n.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&r(m)}),onPointerUp:pe(n.onPointerUp,m=>{const x=m.target;x.hasPointerCapture(m.pointerId)&&(x.releasePointerCapture(m.pointerId),l(m))})})}),YN="SliderTrack",XN=v.forwardRef((n,e)=>{const{__scopeSlider:t,...s}=n,r=Pd(YN,t);return i.jsx(Ne.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});XN.displayName=YN;var Qp="SliderRange",ZN=v.forwardRef((n,e)=>{const{__scopeSlider:t,...s}=n,r=Pd(Qp,t),l=QN(Qp,t),u=v.useRef(null),c=ze(e,u),d=r.values.length,f=r.values.map(x=>tj(x,r.min,r.max)),p=d>1?Math.min(...f):0,m=100-Math.max(...f);return i.jsx(Ne.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:c,style:{...n.style,[l.startEdge]:p+"%",[l.endEdge]:m+"%"}})});ZN.displayName=Qp;var Kp="SliderThumb",JN=v.forwardRef((n,e)=>{const t=HL(n.__scopeSlider),[s,r]=v.useState(null),l=ze(e,c=>r(c)),u=v.useMemo(()=>s?t().findIndex(c=>c.ref.current===s):-1,[t,s]);return i.jsx(ZL,{...n,ref:l,index:u})}),ZL=v.forwardRef((n,e)=>{const{__scopeSlider:t,index:s,name:r,...l}=n,u=Pd(Kp,t),c=QN(Kp,t),[d,f]=v.useState(null),p=ze(e,E=>f(E)),m=d?u.form||!!d.closest("form"):!0,x=_m(d),b=u.values[s],S=b===void 0?0:tj(b,u.min,u.max),w=t6(s,u.values.length),C=x?.[c.size],N=C?s6(C,S,c.direction):0;return v.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${S}% + ${N}px)`},children:[i.jsx(Hp.ItemSlot,{scope:n.__scopeSlider,children:i.jsx(Ne.span,{role:"slider","aria-label":n["aria-label"]||w,"aria-valuemin":u.min,"aria-valuenow":b,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...l,ref:p,style:b===void 0?{display:"none"}:n.style,onFocus:pe(n.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),m&&i.jsx(ej,{name:r??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:b},s)]})});JN.displayName=Kp;var JL="RadioBubbleInput",ej=v.forwardRef(({__scopeSlider:n,value:e,...t},s)=>{const r=v.useRef(null),l=ze(r,s),u=Bm(e);return v.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&p){const m=new Event("input",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[u,e]),i.jsx(Ne.input,{style:{display:"none"},...t,ref:l,defaultValue:e})});ej.displayName=JL;function e6(n=[],e,t){const s=[...n];return s[t]=e,s.sort((r,l)=>r-l)}function tj(n,e,t){const l=100/(t-e)*(n-e);return tl(l,[0,100])}function t6(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function n6(n,e){if(n.length===1)return 0;const t=n.map(r=>Math.abs(r-e)),s=Math.min(...t);return t.indexOf(s)}function s6(n,e,t){const s=n/2,l=Fg([0,50],[0,s]);return(s-l(e)*t)*t}function r6(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function i6(n,e){if(e>0){const t=r6(n);return Math.min(...t)>=e}return!0}function Fg(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(n[1]-n[0]);return e[0]+s*(t-n[0])}}function o6(n){return(String(n).split(".")[1]||"").length}function a6(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var nj=UN,l6=XN,c6=ZN,u6=JN;const Ae=v.forwardRef(({className:n,...e},t)=>i.jsxs(nj,{ref:t,className:Ee("relative flex w-full touch-none select-none items-center",n),...e,children:[i.jsx(l6,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(c6,{className:"absolute h-full bg-primary"})}),i.jsx(u6,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ae.displayName=nj.displayName;var d6="Separator",jw="horizontal",h6=["horizontal","vertical"],sj=v.forwardRef((n,e)=>{const{decorative:t,orientation:s=jw,...r}=n,l=f6(s)?s:jw,c=t?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return i.jsx(Ne.div,{"data-orientation":l,...c,...r,ref:e})});sj.displayName=d6;function f6(n){return h6.includes(n)}var rj=sj;const ij=v.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...s},r)=>i.jsx(rj,{ref:r,decorative:t,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...s}));ij.displayName=rj.displayName;function p6({bpm:n=90,onPatternChange:e,onPlayStateChange:t}){const[s,r]=v.useState(!1),[l,u]=v.useState(0),[c,d]=v.useState(0),[f,p]=v.useState(80),m=v.useRef(null),x=v.useRef(null),[b,S]=v.useState([{id:"kick",name:"Kick",color:"bg-red-500",pattern:new Array(16).fill(!1),velocity:new Array(16).fill(100),muted:!1,solo:!1,volume:85},{id:"snare",name:"Snare",color:"bg-blue-500",pattern:new Array(16).fill(!1),velocity:new Array(16).fill(90),muted:!1,solo:!1,volume:80},{id:"hihat",name:"Hi-Hat",color:"bg-yellow-500",pattern:new Array(16).fill(!1),velocity:new Array(16).fill(70),muted:!1,solo:!1,volume:60},{id:"openhat",name:"Open Hat",color:"bg-green-500",pattern:new Array(16).fill(!1),velocity:new Array(16).fill(85),muted:!1,solo:!1,volume:70},{id:"clap",name:"Clap",color:"bg-purple-500",pattern:new Array(16).fill(!1),velocity:new Array(16).fill(95),muted:!1,solo:!1,volume:75},{id:"crash",name:"Crash",color:"bg-orange-500",pattern:new Array(16).fill(!1),velocity:new Array(16).fill(100),muted:!1,solo:!1,volume:90}]);v.useEffect(()=>{x.current||(x.current=new(window.AudioContext||window.webkitAudioContext))},[]);const w=k=>{const D=60/n*1e3/4;return k%2===1&&c>0?D+D*c/100*.3:D},C=async(k,D,A)=>{if(!x.current)return;x.current.state==="suspended"&&await x.current.resume();const V=x.current,B=V.createGain(),Z=D/127*(A/100)*(f/100);B.gain.value=Z;let z,H=null;switch(k){case"kick":z=V.createOscillator(),z.frequency.setValueAtTime(60,V.currentTime),z.frequency.exponentialRampToValueAtTime(40,V.currentTime+.1),z.type="sine";const X=V.createGain();X.gain.setValueAtTime(1,V.currentTime),X.gain.exponentialRampToValueAtTime(.01,V.currentTime+.3),z.connect(X),X.connect(B),z.start(),z.stop(V.currentTime+.3);break;case"snare":z=V.createOscillator(),z.frequency.value=200,z.type="triangle";const Q=V.createBuffer(1,V.sampleRate*.2,V.sampleRate),$=Q.getChannelData(0);for(let re=0;re<$.length;re++)$[re]=(Math.random()*2-1)*.3;H=V.createBufferSource(),H.buffer=Q;const q=V.createGain();q.gain.setValueAtTime(1,V.currentTime),q.gain.exponentialRampToValueAtTime(.01,V.currentTime+.15),z.connect(q),H.connect(q),q.connect(B),z.start(),H.start(),z.stop(V.currentTime+.15),H.stop(V.currentTime+.15);break;case"hihat":const W=V.createBuffer(1,V.sampleRate*.05,V.sampleRate),O=W.getChannelData(0);for(let re=0;re<O.length;re++)O[re]=(Math.random()*2-1)*Math.pow(1-re/O.length,2);H=V.createBufferSource(),H.buffer=W;const Y=V.createBiquadFilter();Y.type="highpass",Y.frequency.value=8e3,H.connect(Y),Y.connect(B),H.start(),H.stop(V.currentTime+.05);break;case"openhat":const he=V.createBuffer(1,V.sampleRate*.3,V.sampleRate),ue=he.getChannelData(0);for(let re=0;re<ue.length;re++)ue[re]=(Math.random()*2-1)*Math.pow(1-re/ue.length,1.5)*.7;H=V.createBufferSource(),H.buffer=he;const ae=V.createBiquadFilter();ae.type="highpass",ae.frequency.value=6e3,H.connect(ae),ae.connect(B),H.start(),H.stop(V.currentTime+.3);break;case"clap":for(let re=0;re<3;re++){const xe=re*.01,ge=V.createBuffer(1,V.sampleRate*.1,V.sampleRate),Ie=ge.getChannelData(0);for(let ce=0;ce<Ie.length;ce++)Ie[ce]=(Math.random()*2-1)*Math.pow(1-ce/Ie.length,3);const Re=V.createBufferSource();Re.buffer=ge,Re.connect(B),Re.start(V.currentTime+xe),Re.stop(V.currentTime+xe+.1)}break;case"crash":const me=V.createBuffer(1,V.sampleRate*2,V.sampleRate),L=me.getChannelData(0);for(let re=0;re<L.length;re++)L[re]=(Math.random()*2-1)*Math.pow(1-re/L.length,.5)*.8;H=V.createBufferSource(),H.buffer=me;const F=V.createBiquadFilter();F.type="bandpass",F.frequency.value=5e3,F.Q.value=.5;const se=V.createGain();se.gain.setValueAtTime(1,V.currentTime),se.gain.exponentialRampToValueAtTime(.01,V.currentTime+2),H.connect(F),F.connect(se),se.connect(B),H.start(),H.stop(V.currentTime+2);break}B.connect(V.destination)};v.useEffect(()=>{if(s){const k=w(l);m.current=setTimeout(()=>{const D=b.some(A=>A.solo);b.forEach(A=>{A.pattern[l]&&!A.muted&&(!D||A.solo)&&C(A.id,A.velocity[l],A.volume)}),u(A=>(A+1)%16)},k)}return()=>{m.current&&clearTimeout(m.current)}},[s,l,b,c,f]);const N=()=>{const k=!s;r(k),t?.(k),k||u(0)};v.useEffect(()=>{const k=D=>{const A=D.detail?.playing;console.log(`🥁 Drums received master control: ${A?"PLAY":"STOP"}`),A!==void 0&&(r(A),A||u(0))};return window.addEventListener("masterPlayControl",k),()=>window.removeEventListener("masterPlayControl",k)},[]);const E=(k,D)=>{const A=[...b],V=A[k].pattern[D];if(A[k].pattern[D]=!V,S(A),e?.(A),!V&&A[k].pattern[D]){const B=A[k];C(B.id,B.velocity[D],B.volume)}},T=k=>{const D=[...b];D[k].muted=!D[k].muted,S(D)},M=k=>{const D=[...b];D[k].solo=!D[k].solo,S(D)},R=(k,D)=>{const A=[...b];A[k].volume=D,S(A);const V=A[k];C(V.id,100,D)},I=()=>{const k=b.map(D=>({...D,pattern:new Array(16).fill(!1)}));S(k),e?.(k)},j=()=>{const k=[...b];k[0].pattern=[!0,!1,!1,!1,!1,!1,!0,!1,!0,!1,!1,!1,!1,!1,!0,!1],k[1].pattern=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],k[2].pattern=[!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1],k[3].pattern=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0],k[4].pattern=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],S(k),e?.(k)};return i.jsxs(de,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Step Sequencer"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Te,{variant:"outline",children:[n," BPM"]}),i.jsxs(Te,{variant:"outline",children:["Step ",l+1,"/16"]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(ee,{onClick:N,size:"lg","data-testid":"button-sequencer-play",className:s?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600",children:[s?i.jsx(ji,{className:"h-5 w-5"}):i.jsx(Ht,{className:"h-5 w-5"}),s?"Stop":"Play"]}),i.jsxs(ee,{onClick:I,variant:"outline","data-testid":"button-clear-pattern",children:[i.jsx(pm,{className:"h-4 w-4 mr-2"}),"Clear"]}),i.jsx(ee,{onClick:j,variant:"outline","data-testid":"button-load-pattern",children:"Load Hip-Hop Pattern"})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Master"}),i.jsx(Ae,{value:[f],onValueChange:k=>p(k[0]),max:100,step:1,className:"w-24","data-testid":"slider-master-volume"}),i.jsx("span",{className:"text-sm w-8",children:f})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Swing"}),i.jsx(Ae,{value:[c],onValueChange:k=>d(k[0]),max:100,step:1,className:"w-24","data-testid":"slider-swing"}),i.jsxs("span",{className:"text-sm w-8",children:[c,"%"]})]})]}),i.jsx(ij,{}),i.jsx("div",{className:"space-y-3",children:b.map((k,D)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 w-32",children:[i.jsx("div",{className:`w-3 h-3 rounded ${k.color}`}),i.jsx("span",{className:"text-sm font-medium flex-1",children:k.name}),i.jsx(ee,{size:"sm",variant:k.muted?"destructive":"outline",onClick:()=>T(D),className:"h-6 px-2 text-xs","data-testid":`button-mute-${k.id}`,children:"M"}),i.jsx(ee,{size:"sm",variant:k.solo?"default":"outline",onClick:()=>M(D),className:"h-6 px-2 text-xs","data-testid":`button-solo-${k.id}`,children:"S"})]}),i.jsx("div",{className:"flex gap-1",children:k.pattern.map((A,V)=>i.jsx(ee,{size:"sm",variant:A?"default":"outline",onClick:()=>E(D,V),className:`w-8 h-8 p-0 text-xs ${l===V&&s?"ring-2 ring-yellow-400 ring-offset-2":""} ${A?k.color.replace("bg-","bg-"):""}`,"data-testid":`button-step-${k.id}-${V}`,children:V+1},V))}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx(Ae,{value:[k.volume],onValueChange:A=>R(D,A[0]),max:100,step:1,className:"w-16","data-testid":`slider-volume-${k.id}`}),i.jsx("span",{className:"text-xs w-6",children:k.volume})]})]},k.id))})]})}const eu=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m6={minor:[0,2,3,5,7,8,10],dorian:[0,2,3,5,7,9,10],blues:[0,3,5,6,7,10],pentatonic:[0,3,5,7,10]};function g6({kickPattern:n=new Array(16).fill(!1),bpm:e=90,onBasslineChange:t}){const[s,r]=v.useState(!1),[l,u]=v.useState(0),[c,d]=v.useState(new Array(16).fill("")),[f,p]=v.useState(new Array(16).fill(.5)),[m,x]=v.useState("C"),[b,S]=v.useState("minor"),[w,C]=v.useState([2]),[N,E]=v.useState([80]),[T,M]=v.useState(!0),[R,I]=v.useState([.5]),j=v.useRef(null),k=v.useRef(null),D=()=>{const q=eu.indexOf(m);return m6[b].map(O=>{const Y=(q+O)%12;return eu[Y]})},A=()=>{const q=D(),W=new Array(16).fill("");n.forEach((O,Y)=>{O?W[Y]=q[0]:Y%4===2?W[Y]=q[4]||q[2]:Y%8===6&&(W[Y]=q[2])}),(!T||n.every(O=>!O))&&(W[0]=q[0],W[6]=q[2],W[8]=q[0],W[14]=q[4]||q[1]),d(W),t?.({pattern:W,rootNote:m,scale:b,octave:w[0],bpm:e})},V=()=>{const q=D(),W=new Array(16).fill("");W[0]=q[0],W[4]=q[0],W[8]=q[2],W[12]=q[4]||q[1],d(W),t?.({pattern:W,rootNote:m,scale:b,octave:w[0],bpm:e,style:"808"})},B=async(q,W=.5)=>{if(!j.current||!q)return;j.current.state==="suspended"&&await j.current.resume();const O=j.current,Y=Z(q,w[0]),he=O.createOscillator(),ue=O.createOscillator(),ae=O.createOscillator();he.frequency.value=Y,he.type="sawtooth",ue.frequency.value=Y*1.005,ue.type="square",ae.frequency.value=Y/2,ae.type="sine";const me=O.createBiquadFilter();me.type="lowpass",me.frequency.value=800,me.Q.value=2;const L=O.createGain(),F=O.createGain(),se=O.createGain();L.gain.value=N[0]/100*.3,F.gain.value=.6,se.gain.value=.8;const re=.01,xe=Math.min(W*.3,.2),ge=W>.5?.6:.3;L.gain.setValueAtTime(0,O.currentTime),L.gain.linearRampToValueAtTime(L.gain.value,O.currentTime+re),L.gain.linearRampToValueAtTime(L.gain.value*ge,O.currentTime+re+xe),L.gain.exponentialRampToValueAtTime(.01,O.currentTime+W);const Ie=W<.25?1500:1200;me.frequency.setValueAtTime(800,O.currentTime),me.frequency.linearRampToValueAtTime(Ie,O.currentTime+.05),me.frequency.exponentialRampToValueAtTime(400,O.currentTime+Math.min(W*.5,.3)),he.connect(F),ue.connect(F),F.connect(me),me.connect(L),ae.connect(se),se.connect(L),L.connect(O.destination);const Re=O.currentTime,ce=Re+Math.max(W,.1);he.start(Re),ue.start(Re),ae.start(Re),he.stop(ce),ue.stop(ce),ae.stop(ce)},Z=(q,W)=>{const O=eu.indexOf(q);return 440*Math.pow(2,(O-9+(W-4)*12)/12)};v.useEffect(()=>{j.current||(j.current=new(window.AudioContext||window.webkitAudioContext))},[]),v.useEffect(()=>{if(s){const q=60/e*1e3/4;k.current=setTimeout(()=>{const W=c[l];if(W){const O=f[l];B(W,O)}u(O=>(O+1)%16)},q)}return()=>{k.current&&clearTimeout(k.current)}},[s,l,c,w,N,e]);const z=()=>{const q=!s;r(q),q||u(0)};v.useEffect(()=>{const q=W=>{const O=W.detail?.playing;console.log(`🎸 Bass received master control: ${O?"PLAY":"STOP"}`),O!==void 0&&(r(O),O||u(0))};return window.addEventListener("masterPlayControl",q),()=>window.removeEventListener("masterPlayControl",q)},[]);const H=()=>{d(new Array(16).fill("")),p(new Array(16).fill(.5))},X=(q,W)=>{const O=[...c];if(O[q]=W,W&&W!=="-"&&!c[q]){const Y=[...f];Y[q]=R[0],p(Y)}d(O),t?.({pattern:O,lengths:f,rootNote:m,scale:b,octave:w[0],bpm:e}),W&&W!=="-"&&B(W,f[q])},Q=(q,W)=>{const O=[...f];O[q]=W,p(O),t?.({pattern:c,lengths:O,rootNote:m,scale:b,octave:w[0],bpm:e});const Y=c[q];Y&&Y!=="-"&&B(Y,W)},$=D();return i.jsxs(de,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(mu,{className:"h-6 w-6 text-blue-500"}),i.jsx("h3",{className:"text-2xl font-bold",children:"Bassline Generator"}),i.jsx(Te,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Hip-Hop Bass"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${T?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[i.jsx(rr,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:T?"Synced to Kick":"Free Mode"})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Root Note"}),i.jsxs(wt,{value:m,onValueChange:x,children:[i.jsx(ft,{"data-testid":"select-root-note",children:i.jsx(bt,{})}),i.jsx(pt,{children:eu.map(q=>i.jsx(Oe,{value:q,children:q},q))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Scale"}),i.jsxs(wt,{value:b,onValueChange:q=>S(q),children:[i.jsx(ft,{"data-testid":"select-scale",children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Oe,{value:"minor",children:"Minor"}),i.jsx(Oe,{value:"dorian",children:"Dorian"}),i.jsx(Oe,{value:"blues",children:"Blues"}),i.jsx(Oe,{value:"pentatonic",children:"Pentatonic"})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium",children:["Octave: ",w[0]]}),i.jsx(Ae,{value:w,onValueChange:C,min:1,max:4,step:1,className:"mt-2","data-testid":"slider-octave"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium",children:["Volume: ",N[0]]}),i.jsx(Ae,{value:N,onValueChange:E,max:100,step:1,className:"mt-2","data-testid":"slider-bass-volume"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium",children:["Default Length: ",R[0],"s"]}),i.jsx(Ae,{value:R,onValueChange:I,min:.1,max:2,step:.1,className:"mt-2","data-testid":"slider-default-duration"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R[0]<.3?"Staccato":R[0]<.8?"Normal":"Sustained"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(ee,{onClick:z,size:"lg","data-testid":"button-bass-play",className:s?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600",children:[s?i.jsx(ji,{className:"h-5 w-5"}):i.jsx(Ht,{className:"h-5 w-5"}),s?"Stop":"Play"]}),i.jsx(ee,{onClick:A,variant:"outline","data-testid":"button-classic-bass",children:"Classic Hip-Hop"}),i.jsx(ee,{onClick:V,variant:"outline","data-testid":"button-808-bass",children:"808 Style"}),i.jsx(ee,{onClick:H,variant:"outline","data-testid":"button-clear-bass",children:"Clear"}),i.jsxs(ee,{onClick:()=>M(!T),variant:T?"default":"outline","data-testid":"button-sync-kick",children:[i.jsx(rr,{className:"h-4 w-4 mr-2"}),"Sync to Kick"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"font-medium",children:"Scale Notes:"}),$.map((q,W)=>i.jsx(Te,{variant:"outline",className:"text-xs",children:q},W))]}),i.jsx("div",{className:"space-y-2",children:i.jsx("div",{className:"flex gap-1",children:c.map((q,W)=>i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("div",{className:"text-xs text-center w-16",children:W+1}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs(wt,{value:q||"-",onValueChange:O=>X(W,O==="-"?"":O),children:[i.jsx(ft,{className:`w-16 h-8 p-0 text-xs ${l===W&&s?"ring-2 ring-blue-400 ring-offset-2":""} ${q?"bg-blue-500 text-white":"bg-gray-100"}`,"data-testid":`select-bass-step-${W}`,children:i.jsx(bt,{placeholder:"-"})}),i.jsxs(pt,{children:[i.jsx(Oe,{value:"-",children:"-"}),$.map(O=>i.jsx(Oe,{value:O,children:O},O))]})]}),q&&q!=="-"&&i.jsxs("div",{className:"w-16",children:[i.jsx(Ae,{value:[f[W]],onValueChange:O=>Q(W,O[0]),min:.1,max:2,step:.1,className:"h-2","data-testid":`slider-duration-${W}`}),i.jsxs("div",{className:"text-xs text-center text-gray-500 mt-1",children:[f[W].toFixed(1),"s"]})]})]}),n[W]&&i.jsx("div",{className:"w-16 h-1 bg-red-400 rounded"})]},W))})})]})]})}var x6="Label",oj=v.forwardRef((n,e)=>i.jsx(Ne.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));oj.displayName=x6;var aj=oj;const v6=Yu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=v.forwardRef(({className:n,...e},t)=>i.jsx(aj,{ref:t,className:Ee(v6(),n),...e}));kt.displayName=aj.displayName;function kw({onBeatGenerated:n}){const[e,t]=v.useState(!1),[s,r]=v.useState(90),[l,u]=v.useState(null),[c,d]=v.useState(null),[f,p]=v.useState(new Array(16).fill(!1)),[m,x]=v.useState(!1),[b,S]=v.useState(null),[w,C]=v.useState({title:"",artist:"",album:"",genre:"",key:"",timeSignature:"4/4",copyright:"",description:"",tags:""}),{data:N=[],isLoading:E}=yp({queryKey:["/api/sample-packs"]}),{data:T=[],isLoading:M}=yp({queryKey:["/api/samples"]}),R=async L=>{try{const F=new(window.AudioContext||window.webkitAudioContext);F.state==="suspended"&&await F.resume(),console.log(`🎵 Playing generated sample: ${L.name} (${L.category})`);const se=atob(L.audioData),re=new ArrayBuffer(se.length),xe=new Uint8Array(re);for(let Re=0;Re<se.length;Re++)xe[Re]=se.charCodeAt(Re);const ge=await F.decodeAudioData(re),Ie=F.createBufferSource();Ie.buffer=ge,Ie.connect(F.destination),Ie.start(),console.log("✅ Generated sample played successfully")}catch{console.log("🔄 Audio decoding failed, using Web Audio synthesis fallback for:",L.name);const se=I(L.category,L.type,L.name);console.log(`🎵 Playing fallback sound: ${se} for sample "${L.name}"`),await j(se)}},I=(L,F,se)=>{const re=(se||"").toLowerCase();if(re.includes("kick")||re.includes("drum")){const ge=["amen","funky","apache"];return ge[Math.floor(Math.random()*ge.length)]}if(re.includes("bass")||re.includes("sub")||re.includes("808")){const ge=["808","moog","sub"];return ge[Math.floor(Math.random()*ge.length)]}if(re.includes("vocal")||re.includes("voice")||re.includes("yeah")||re.includes("check")){const ge=["vocal1","vocal2","vocal3"];return ge[Math.floor(Math.random()*ge.length)]}if(L.includes("drums")||L.includes("loop")||F==="drums"){const ge=["amen","funky","apache"];return ge[Math.floor(Math.random()*ge.length)]}if(L.includes("bass")||F==="bass"){const ge=["808","moog","sub"];return ge[Math.floor(Math.random()*ge.length)]}if(L.includes("vocal")||L.includes("voice")){const ge=["vocal1","vocal2","vocal3"];return ge[Math.floor(Math.random()*ge.length)]}if(L.includes("melody")||F==="melody"){const ge=["vocal1","vocal2","vocal3"];return ge[Math.floor(Math.random()*ge.length)]}const xe=["amen","funky","apache","808","moog","sub","vocal1","vocal2","vocal3"];return xe[Math.floor(Math.random()*xe.length)]},j=async L=>{try{const F=new(window.AudioContext||window.webkitAudioContext);F.state==="suspended"&&await F.resume(),L.includes("vocal")?k(F,L):L==="amen"||L==="funky"||L==="apache"?B(F,L):(L==="808"||L==="moog"||L==="sub")&&Z(F,L)}catch(F){console.log("Audio synthesis failed:",F)}},k=(L,F)=>{const se=L.currentTime;F==="vocal1"?D(L,se):F==="vocal2"?A(L,se):F==="vocal3"&&V(L,se)},D=(L,F)=>{const se=L.createOscillator(),re=L.createGain(),xe=L.createBiquadFilter();se.type="sawtooth",se.frequency.setValueAtTime(200,F),se.frequency.exponentialRampToValueAtTime(350,F+.15),xe.type="bandpass",xe.frequency.setValueAtTime(1800,F),xe.Q.setValueAtTime(3,F),re.gain.setValueAtTime(0,F),re.gain.linearRampToValueAtTime(.8,F+.05),re.gain.linearRampToValueAtTime(.6,F+.15),re.gain.exponentialRampToValueAtTime(.001,F+.25),se.connect(xe),xe.connect(re),re.connect(L.destination),se.start(F),se.stop(F+.25);const ge=L.createOscillator(),Ie=L.createGain(),Re=L.createBiquadFilter();ge.type="sawtooth",ge.frequency.setValueAtTime(280,F+.2),ge.frequency.exponentialRampToValueAtTime(240,F+.6),Re.type="bandpass",Re.frequency.setValueAtTime(1200,F+.2),Re.Q.setValueAtTime(2,F+.2),Ie.gain.setValueAtTime(0,F+.2),Ie.gain.linearRampToValueAtTime(.9,F+.25),Ie.gain.exponentialRampToValueAtTime(.001,F+.7),ge.connect(Re),Re.connect(Ie),Ie.connect(L.destination),ge.start(F+.2),ge.stop(F+.7)},A=(L,F)=>{const se=L.createOscillator(),re=L.createGain(),xe=L.createBiquadFilter();se.type="sawtooth",se.frequency.setValueAtTime(150,F),se.frequency.exponentialRampToValueAtTime(180,F+.2),xe.type="lowpass",xe.frequency.setValueAtTime(800,F),xe.Q.setValueAtTime(1,F),re.gain.setValueAtTime(0,F),re.gain.linearRampToValueAtTime(.7,F+.05),re.gain.exponentialRampToValueAtTime(.001,F+.3),se.connect(xe),xe.connect(re),re.connect(L.destination),se.start(F),se.stop(F+.3);const ge=L.createOscillator(),Ie=L.createGain(),Re=L.createBiquadFilter();ge.type="sawtooth",ge.frequency.setValueAtTime(220,F+.35),ge.frequency.exponentialRampToValueAtTime(200,F+.65),Re.type="bandpass",Re.frequency.setValueAtTime(1500,F+.35),Re.Q.setValueAtTime(2.5,F+.35),Ie.gain.setValueAtTime(0,F+.35),Ie.gain.linearRampToValueAtTime(.8,F+.4),Ie.gain.exponentialRampToValueAtTime(.001,F+.75);const ce=L.createBufferSource(),Se=L.createBuffer(1,L.sampleRate*.1,L.sampleRate),Ke=Se.getChannelData(0);for(let Qe=0;Qe<Ke.length;Qe++)Ke[Qe]=(Math.random()*2-1)*.3;ce.buffer=Se;const Ye=L.createGain(),$e=L.createBiquadFilter();$e.type="highpass",$e.frequency.setValueAtTime(3e3,F+.35),Ye.gain.setValueAtTime(.2,F+.35),ce.connect($e),$e.connect(Ye),Ye.connect(L.destination),ce.start(F+.35),ge.connect(Re),Re.connect(Ie),Ie.connect(L.destination),ge.start(F+.35),ge.stop(F+.75)},V=(L,F)=>{const se=L.createOscillator(),re=L.createGain(),xe=L.createBiquadFilter();se.type="sawtooth",se.frequency.setValueAtTime(300,F),se.frequency.exponentialRampToValueAtTime(250,F+.25),xe.type="bandpass",xe.frequency.setValueAtTime(2200,F),xe.frequency.exponentialRampToValueAtTime(1400,F+.25),xe.Q.setValueAtTime(4,F),re.gain.setValueAtTime(0,F),re.gain.linearRampToValueAtTime(.9,F+.03),re.gain.linearRampToValueAtTime(.7,F+.15),re.gain.exponentialRampToValueAtTime(.001,F+.35),se.connect(xe),xe.connect(re),re.connect(L.destination),se.start(F),se.stop(F+.35);const ge=L.createOscillator(),Ie=L.createGain(),Re=L.createBiquadFilter();ge.type="triangle",ge.frequency.setValueAtTime(320,F+.4),ge.frequency.exponentialRampToValueAtTime(280,F+.65),Re.type="bandpass",Re.frequency.setValueAtTime(1800,F+.4),Re.Q.setValueAtTime(3,F+.4),Ie.gain.setValueAtTime(0,F+.4),Ie.gain.linearRampToValueAtTime(.8,F+.42),Ie.gain.exponentialRampToValueAtTime(.001,F+.7),ge.connect(Re),Re.connect(Ie),Ie.connect(L.destination),ge.start(F+.4),ge.stop(F+.7)},B=(L,F)=>{const se=L.currentTime;F==="amen"?z(L,se):F==="funky"?H(L,se):F==="apache"&&X(L,se)},Z=(L,F)=>{const se=L.currentTime;F==="808"?W(L,se):F==="moog"?O(L,se):F==="sub"&&Y(L,se)},z=(L,F)=>{Q(L,F),Q(L,F+.5),$(L,F+.25),$(L,F+.75),q(L,F+.125),q(L,F+.375),q(L,F+.625)},H=(L,F)=>{Q(L,F),$(L,F+.33),Q(L,F+.66),$(L,F+.83)},X=(L,F)=>{Q(L,F),q(L,F+.125),$(L,F+.25),Q(L,F+.5),$(L,F+.75)},Q=(L,F)=>{const se=L.createOscillator(),re=L.createGain();se.type="sine",se.frequency.setValueAtTime(60,F),se.frequency.exponentialRampToValueAtTime(20,F+.1),re.gain.setValueAtTime(1,F),re.gain.exponentialRampToValueAtTime(.001,F+.3),se.connect(re),re.connect(L.destination),se.start(F),se.stop(F+.3)},$=(L,F)=>{const se=L.createOscillator(),re=L.createGain();se.type="triangle",se.frequency.setValueAtTime(200,F),re.gain.setValueAtTime(.8,F),re.gain.exponentialRampToValueAtTime(.001,F+.2),se.connect(re),re.connect(L.destination),se.start(F),se.stop(F+.2);const xe=L.createBufferSource(),ge=L.createBuffer(1,L.sampleRate*.1,L.sampleRate),Ie=ge.getChannelData(0);for(let Se=0;Se<Ie.length;Se++)Ie[Se]=Math.random()*2-1;xe.buffer=ge;const Re=L.createGain(),ce=L.createBiquadFilter();ce.type="bandpass",ce.frequency.setValueAtTime(3e3,F),Re.gain.setValueAtTime(.5,F),Re.gain.exponentialRampToValueAtTime(.001,F+.1),xe.connect(ce),ce.connect(Re),Re.connect(L.destination),xe.start(F)},q=(L,F)=>{const se=L.createOscillator(),re=L.createGain();se.type="triangle",se.frequency.setValueAtTime(150,F),re.gain.setValueAtTime(.2,F),re.gain.exponentialRampToValueAtTime(.001,F+.05),se.connect(re),re.connect(L.destination),se.start(F),se.stop(F+.05)},W=(L,F)=>{const se=L.createOscillator(),re=L.createGain();se.type="sine",se.frequency.setValueAtTime(55,F),se.frequency.exponentialRampToValueAtTime(30,F+.4),re.gain.setValueAtTime(1.2,F),re.gain.exponentialRampToValueAtTime(.001,F+1),se.connect(re),re.connect(L.destination),se.start(F),se.stop(F+1)},O=(L,F)=>{const se=L.createOscillator(),re=L.createGain(),xe=L.createBiquadFilter();se.type="sawtooth",se.frequency.setValueAtTime(82,F),xe.type="lowpass",xe.frequency.setValueAtTime(600,F),xe.frequency.exponentialRampToValueAtTime(200,F+.5),xe.Q.setValueAtTime(20,F),re.gain.setValueAtTime(1,F),re.gain.exponentialRampToValueAtTime(.001,F+1.2),se.connect(xe),xe.connect(re),re.connect(L.destination),se.start(F),se.stop(F+1.2)},Y=(L,F)=>{const se=L.createOscillator(),re=L.createGain();se.type="sine",se.frequency.setValueAtTime(41,F),re.gain.setValueAtTime(1.5,F),re.gain.exponentialRampToValueAtTime(.001,F+2),se.connect(re),re.connect(L.destination),se.start(F),se.stop(F+2)},he=L=>{const F=L.find(re=>re.id==="kick");F&&p(F.pattern);const se={tracks:L,bassline:c,bpm:s,name:`Hip-Hop Beat ${Date.now()}`,style:"west-coast"};u(se),n?.(se)},ue=L=>{if(d(L),l){const F={...l,bassline:L};u(F),n?.(F)}},ae=L=>{t(L)},me=()=>{const L=!m;console.log(`🎵 Master Play Control: ${L?"PLAYING":"STOPPING"} all tracks`),x(L),t(L),window.dispatchEvent(new CustomEvent("masterPlayControl",{detail:{playing:L}})),console.log("🎵 Master play event dispatched to drums and bass")};return i.jsx("div",{className:"space-y-6",children:i.jsxs(de,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(d0,{className:"h-6 w-6 text-purple-500"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Professional Beat Maker"}),i.jsx(Te,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"Classic Hip-Hop Studio"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(ee,{onClick:me,size:"lg","data-testid":"button-master-play",className:m?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600",children:[m?i.jsx(ji,{className:"h-5 w-5"}):i.jsx(Ht,{className:"h-5 w-5"}),m?"Stop All":"Play All"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"BPM"}),i.jsx(Ae,{value:[s],onValueChange:L=>r(L[0]),min:60,max:180,step:1,className:"w-24","data-testid":"slider-bpm"}),i.jsx("span",{className:"text-sm w-12",children:s})]}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${m?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[m?i.jsx(Ht,{className:"h-4 w-4"}):i.jsx(ji,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:m?"Playing":"Stopped"})]}),i.jsxs(m_,{children:[i.jsx(g_,{asChild:!0,children:i.jsxs(ee,{variant:"outline",className:"flex items-center gap-2","data-testid":"button-beat-metadata",children:[i.jsx(f0,{className:"h-4 w-4"}),"Metadata"]})}),i.jsxs(Hm,{className:"bg-gray-800 border-gray-600 text-white max-w-md",children:[i.jsx(Qm,{children:i.jsxs(Km,{className:"text-xl font-bold text-gray-200 flex items-center gap-2",children:[i.jsx(f0,{className:"h-5 w-5"}),"Beat Metadata"]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Title"}),i.jsx(Xs,{value:w.title,onChange:L=>C({...w,title:L.target.value}),placeholder:"Beat Title",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-title"})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Producer"}),i.jsx(Xs,{value:w.artist,onChange:L=>C({...w,artist:L.target.value}),placeholder:"Producer Name",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-producer"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Genre"}),i.jsxs(wt,{value:w.genre,onValueChange:L=>C({...w,genre:L}),children:[i.jsx(ft,{className:"bg-gray-700 border-gray-600 text-white","data-testid":"select-beat-metadata-genre",children:i.jsx(bt,{placeholder:"Select Genre"})}),i.jsxs(pt,{className:"bg-gray-800 border-gray-600",children:[i.jsx(Oe,{value:"hip-hop",children:"Hip Hop"}),i.jsx(Oe,{value:"trap",children:"Trap"}),i.jsx(Oe,{value:"drill",children:"Drill"}),i.jsx(Oe,{value:"boom-bap",children:"Boom Bap"}),i.jsx(Oe,{value:"lo-fi",children:"Lo-Fi"}),i.jsx(Oe,{value:"experimental",children:"Experimental"}),i.jsx(Oe,{value:"r&b",children:"R&B"}),i.jsx(Oe,{value:"electronic",children:"Electronic"}),i.jsx(Oe,{value:"house",children:"House"}),i.jsx(Oe,{value:"techno",children:"Techno"})]})]})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Key"}),i.jsx(Xs,{value:w.key,onChange:L=>C({...w,key:L.target.value}),placeholder:"e.g., Am, F# Major",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-key"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"BPM"}),i.jsx(Xs,{value:s.toString(),onChange:L=>{const F=parseInt(L.target.value)||s;r(F),C({...w,key:`${F} BPM`})},placeholder:"120",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-bpm"})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Time Signature"}),i.jsxs(wt,{value:w.timeSignature,onValueChange:L=>C({...w,timeSignature:L}),children:[i.jsx(ft,{className:"bg-gray-700 border-gray-600 text-white","data-testid":"select-beat-metadata-time",children:i.jsx(bt,{})}),i.jsxs(pt,{className:"bg-gray-800 border-gray-600",children:[i.jsx(Oe,{value:"4/4",children:"4/4"}),i.jsx(Oe,{value:"3/4",children:"3/4"}),i.jsx(Oe,{value:"6/8",children:"6/8"}),i.jsx(Oe,{value:"7/8",children:"7/8"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Description"}),i.jsx(Xs,{value:w.description,onChange:L=>C({...w,description:L.target.value}),placeholder:"Hard-hitting trap beat with 808s",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-description"})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Tags"}),i.jsx(Xs,{value:w.tags,onChange:L=>C({...w,tags:L.target.value}),placeholder:"trap, 808, dark, heavy (comma separated)",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-tags"})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-gray-300",children:"Copyright"}),i.jsx(Xs,{value:w.copyright,onChange:L=>C({...w,copyright:L.target.value}),placeholder:"© 2025 Producer Name",className:"bg-gray-700 border-gray-600 text-white","data-testid":"input-beat-metadata-copyright"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(ee,{variant:"outline",className:"bg-gray-600 hover:bg-gray-500 text-white border-gray-600",children:"Clear All"}),i.jsx(ee,{className:"bg-purple-600 hover:bg-purple-500 text-white",children:"Save Metadata"})]})]})]})]})]})]}),i.jsxs(Fi,{defaultValue:"sequencer",className:"space-y-6",children:[i.jsxs(si,{className:"grid w-full grid-cols-5",children:[i.jsxs(mt,{value:"sequencer",className:"flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),"Drums"]}),i.jsxs(mt,{value:"bassline",className:"flex items-center gap-2",children:[i.jsx(mu,{className:"h-4 w-4"}),"Bassline"]}),i.jsxs(mt,{value:"samples",className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-4 w-4"}),"Samples"]}),i.jsxs(mt,{value:"mixing",className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-4 w-4"}),"Mixing"]}),i.jsxs(mt,{value:"arrangement",className:"flex items-center gap-2",children:[i.jsx(d0,{className:"h-4 w-4"}),"Structure"]})]}),i.jsxs(gt,{value:"sequencer",className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg border",children:[i.jsx("h3",{className:"font-semibold text-lg mb-2 text-gray-900",children:"🎵 Classic Hip-Hop Drum Programming"}),i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:'Professional 16-step sequencer with swing control, velocity programming, and classic West Coast sound design. Perfect for recreating beats like "All Eyez On Me" and other 90s classics.'}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{variant:"outline",children:"Kick Programming"}),i.jsx(Te,{variant:"outline",children:"Snare Placement"}),i.jsx(Te,{variant:"outline",children:"Hi-Hat Patterns"}),i.jsx(Te,{variant:"outline",children:"Swing & Groove"})]})]}),i.jsx(p6,{bpm:s,onPatternChange:he,onPlayStateChange:ae})]}),i.jsxs(gt,{value:"bassline",className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border",children:[i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"🎸 Classic Hip-Hop Basslines"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Professional bassline generator that automatically syncs with your kick drum pattern. Create deep, punchy bass sounds that lock perfectly with your drums for that authentic West Coast sound."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{variant:"outline",children:"Auto-Sync to Kick"}),i.jsx(Te,{variant:"outline",children:"808 Bass Sounds"}),i.jsx(Te,{variant:"outline",children:"Hip-Hop Scales"}),i.jsx(Te,{variant:"outline",children:"Analog Modeling"})]})]}),i.jsx(g6,{kickPattern:f,bpm:s,onBasslineChange:ue})]}),i.jsx(gt,{value:"samples",className:"space-y-6",children:i.jsxs(de,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Expanded Sample Library"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wi,{className:"h-5 w-5 text-blue-600"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[N.length," Packs •"," ",T.length," Samples"]})]})]}),E||M?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(Ka,{className:"h-8 w-8 animate-spin text-blue-600"}),i.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading sample library..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h4",{className:"text-lg font-medium mb-4",children:"Classic Hip-Hop Samples"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs(de,{className:"p-4",children:[i.jsx("h5",{className:"font-medium mb-2",children:"Drum Breaks"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-amen",onClick:()=>j("amen"),children:"Amen Break"}),i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-funky",onClick:()=>j("funky"),children:"Funky Drummer"}),i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-apache",onClick:()=>j("apache"),children:"Apache Break"})]})]}),i.jsxs(de,{className:"p-4",children:[i.jsx("h5",{className:"font-medium mb-2",children:"Bass Samples"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-808",onClick:()=>j("808"),children:"808 Bass"}),i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-moog",onClick:()=>j("moog"),children:"Moog Bass"}),i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-sub",onClick:()=>j("sub"),children:"Sub Bass"})]})]}),i.jsxs(de,{className:"p-4",children:[i.jsx("h5",{className:"font-medium mb-2",children:"Vocal Chops"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-vocal1",onClick:()=>j("vocal1"),children:'"Yeah" Vocal'}),i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-vocal2",onClick:()=>j("vocal2"),children:'"Uh-huh" Vocal'}),i.jsx(ee,{variant:"outline",size:"sm",className:"w-full","data-testid":"button-sample-vocal3",onClick:()=>j("vocal3"),children:'"Check It" Vocal'})]})]})]})]}),N.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[i.jsx(wi,{className:"h-5 w-5"}),"AI-Generated Sample Packs"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.slice(0,6).map(L=>i.jsxs(de,{className:"p-4 border-blue-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("h5",{className:"font-semibold text-sm",children:L.name}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(Te,{variant:"secondary",className:"text-xs",children:L.genre}),i.jsx(Te,{variant:"outline",className:"text-xs",children:L.mood})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:L.description}),i.jsx("div",{className:"space-y-1",children:T.filter(F=>F.packId===L.id).slice(0,3).map(F=>i.jsxs(ee,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>R(F),"data-testid":`button-sample-${F.id}`,children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),F.name]},F.id))})]},L.id))}),N.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(wi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No generated sample packs yet."}),i.jsx("p",{className:"text-xs",children:"Use the Pack Generator to create AI-powered sample packs!"})]})]})]})]})}),i.jsx(gt,{value:"mixing",className:"space-y-6",children:i.jsxs(de,{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Professional Mixing Console"}),i.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[i.jsxs(de,{className:"p-4",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Kick EQ"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Low (60Hz)"}),i.jsx(Ae,{defaultValue:[75],max:100,className:"mt-1","data-testid":"slider-kick-low"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Mid (800Hz)"}),i.jsx(Ae,{defaultValue:[50],max:100,className:"mt-1","data-testid":"slider-kick-mid"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"High (5kHz)"}),i.jsx(Ae,{defaultValue:[30],max:100,className:"mt-1","data-testid":"slider-kick-high"})]})]})]}),i.jsxs(de,{className:"p-4",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Snare EQ"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Low (200Hz)"}),i.jsx(Ae,{defaultValue:[40],max:100,className:"mt-1","data-testid":"slider-snare-low"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Mid (2kHz)"}),i.jsx(Ae,{defaultValue:[60],max:100,className:"mt-1","data-testid":"slider-snare-mid"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"High (8kHz)"}),i.jsx(Ae,{defaultValue:[80],max:100,className:"mt-1","data-testid":"slider-snare-high"})]})]})]}),i.jsxs(de,{className:"p-4",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Compression"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Ratio"}),i.jsx(Ae,{defaultValue:[40],max:100,className:"mt-1","data-testid":"slider-compression-ratio"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Attack"}),i.jsx(Ae,{defaultValue:[20],max:100,className:"mt-1","data-testid":"slider-compression-attack"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Release"}),i.jsx(Ae,{defaultValue:[60],max:100,className:"mt-1","data-testid":"slider-compression-release"})]})]})]}),i.jsxs(de,{className:"p-4",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Master Bus"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Bus Comp"}),i.jsx(Ae,{defaultValue:[35],max:100,className:"mt-1","data-testid":"slider-master-compression"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Saturation"}),i.jsx(Ae,{defaultValue:[25],max:100,className:"mt-1","data-testid":"slider-master-saturation"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",children:"Stereo Width"}),i.jsx(Ae,{defaultValue:[70],max:100,className:"mt-1","data-testid":"slider-master-width"})]})]})]})]})]})}),i.jsx(gt,{value:"arrangement",className:"space-y-6",children:i.jsxs(de,{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Song Arrangement Builder"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-8 gap-2",children:["Intro","Verse 1","Hook","Verse 2","Hook","Bridge","Hook","Outro"].map((L,F)=>i.jsxs(de,{className:"p-3 text-center",children:[i.jsx("div",{className:"text-sm font-medium",children:L}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"8 bars"})]},F))}),i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx(ee,{variant:"outline","data-testid":"button-add-section",children:"Add Section"}),i.jsx(ee,{variant:"outline","data-testid":"button-copy-section",children:"Copy Pattern"}),i.jsx(ee,{variant:"outline","data-testid":"button-song-export",children:"Export Song"})]})]})]})})]})]})})}function y6(){const[n,e]=v.useState(!1),[t,s]=v.useState([120]),[r,l]=v.useState("C"),[u,c]=v.useState("major"),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],f=["major","minor","pentatonic","blues","dorian","mixolydian"],p=()=>{e(!n)};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-6 w-6"}),"Melody Composer"]})}),i.jsxs(ye,{className:"h-full space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Key"}),i.jsxs(wt,{value:r,onValueChange:l,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:d.map(m=>i.jsx(Oe,{value:m,children:m},m))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Scale"}),i.jsxs(wt,{value:u,onValueChange:c,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:f.map(m=>i.jsx(Oe,{value:m,children:m},m))})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Tempo: ",t[0]," BPM"]}),i.jsx(Ae,{value:t,onValueChange:s,max:200,min:60,step:1,className:"w-full"})]})]}),i.jsx("div",{className:"flex-1 bg-white rounded-lg border p-4",children:i.jsx("div",{className:"h-64 bg-gray-50 rounded border-2 border-dashed flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(Bt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Piano roll will appear here"}),i.jsx("p",{className:"text-xs",children:"Click to add notes"})]})})}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{onClick:p,variant:"outline",children:n?i.jsx(Zr,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})}),i.jsx(ee,{variant:"outline",children:i.jsx(ji,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex gap-2 ml-auto",children:[i.jsx(ee,{variant:"outline",children:"Generate AI Melody"}),i.jsxs(ee,{variant:"outline",children:[i.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Export MIDI"]})]})]})]})]})})}function w6(){const[n,e]=v.useState("compose");return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-6 w-6"}),"Unified Music Studio"]})}),i.jsx(ye,{className:"h-full",children:i.jsxs(Fi,{value:n,onValueChange:e,className:"h-full",children:[i.jsxs(si,{className:"grid w-full grid-cols-4",children:[i.jsxs(mt,{value:"compose",className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-4 w-4"}),"Compose"]}),i.jsxs(mt,{value:"code",className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4"}),"Code"]}),i.jsxs(mt,{value:"record",className:"flex items-center gap-2",children:[i.jsx(yi,{className:"h-4 w-4"}),"Record"]}),i.jsxs(mt,{value:"mix",className:"flex items-center gap-2",children:[i.jsx(eE,{className:"h-4 w-4"}),"Mix"]})]}),i.jsx(gt,{value:"compose",className:"mt-6 h-full",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsxs(de,{children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Melody Composer"})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ee,{className:"w-full",children:"Start Composing"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Create melodies with AI assistance"})]})})]}),i.jsxs(de,{children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Beat Maker"})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ee,{className:"w-full",children:"Create Beats"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Generate rhythmic patterns"})]})})]})]})}),i.jsx(gt,{value:"code",className:"mt-6 h-full",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Code to Music"})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ee,{className:"w-full",children:"Convert Code"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Transform your code into musical compositions"})]})})]})}),i.jsx(gt,{value:"record",className:"mt-6 h-full",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Recording Studio"})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ee,{className:"w-full",children:"Start Recording"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Record audio with professional quality"})]})})]})}),i.jsx(gt,{value:"mix",className:"mt-6 h-full",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Mixing Console"})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(ee,{className:"w-full",children:"Open Mixer"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Professional mixing and mastering tools"})]})})]})})]})})]})})}function b6(n,e){return v.useReducer((t,s)=>e[t][s]??t,n)}var Lg="ScrollArea",[lj,Dz]=gn(Lg),[C6,Xn]=lj(Lg),cj=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:r,scrollHideDelay:l=600,...u}=n,[c,d]=v.useState(null),[f,p]=v.useState(null),[m,x]=v.useState(null),[b,S]=v.useState(null),[w,C]=v.useState(null),[N,E]=v.useState(0),[T,M]=v.useState(0),[R,I]=v.useState(!1),[j,k]=v.useState(!1),D=ze(e,V=>d(V)),A=Wo(r);return i.jsx(C6,{scope:t,type:s,dir:A,scrollHideDelay:l,scrollArea:c,viewport:f,onViewportChange:p,content:m,onContentChange:x,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:R,onScrollbarXEnabledChange:I,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:j,onScrollbarYEnabledChange:k,onCornerWidthChange:E,onCornerHeightChange:M,children:i.jsx(Ne.div,{dir:A,...u,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":T+"px",...n.style}})})});cj.displayName=Lg;var uj="ScrollAreaViewport",dj=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:s,nonce:r,...l}=n,u=Xn(uj,t),c=v.useRef(null),d=ze(e,c,u.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...n.style},children:i.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});dj.displayName=uj;var Ls="ScrollAreaScrollbar",zg=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=Xn(Ls,n.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=r,c=n.orientation==="horizontal";return v.useEffect(()=>(c?l(!0):u(!0),()=>{c?l(!1):u(!1)}),[c,l,u]),r.type==="hover"?i.jsx(S6,{...s,ref:e,forceMount:t}):r.type==="scroll"?i.jsx(_6,{...s,ref:e,forceMount:t}):r.type==="auto"?i.jsx(hj,{...s,ref:e,forceMount:t}):r.type==="always"?i.jsx(Bg,{...s,ref:e}):null});zg.displayName=Ls;var S6=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=Xn(Ls,n.__scopeScrollArea),[l,u]=v.useState(!1);return v.useEffect(()=>{const c=r.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),u(!0)},p=()=>{d=window.setTimeout(()=>u(!1),r.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",p)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(xn,{present:t||l,children:i.jsx(hj,{"data-state":l?"visible":"hidden",...s,ref:e})})}),_6=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=Xn(Ls,n.__scopeScrollArea),l=n.orientation==="horizontal",u=Id(()=>d("SCROLL_END"),100),[c,d]=b6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,r.scrollHideDelay,d]),v.useEffect(()=>{const f=r.viewport,p=l?"scrollLeft":"scrollTop";if(f){let m=f[p];const x=()=>{const b=f[p];m!==b&&(d("SCROLL"),u()),m=b};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[r.viewport,l,d,u]),i.jsx(xn,{present:t||c!=="hidden",children:i.jsx(Bg,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:pe(n.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:pe(n.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),hj=v.forwardRef((n,e)=>{const t=Xn(Ls,n.__scopeScrollArea),{forceMount:s,...r}=n,[l,u]=v.useState(!1),c=n.orientation==="horizontal",d=Id(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,p=t.viewport.offsetHeight<t.viewport.scrollHeight;u(c?f:p)}},10);return Oo(t.viewport,d),Oo(t.content,d),i.jsx(xn,{present:s||l,children:i.jsx(Bg,{"data-state":l?"visible":"hidden",...r,ref:e})})}),Bg=v.forwardRef((n,e)=>{const{orientation:t="vertical",...s}=n,r=Xn(Ls,n.__scopeScrollArea),l=v.useRef(null),u=v.useRef(0),[c,d]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=xj(c.viewport,c.content),p={...s,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:x=>l.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function m(x,b){return E6(x,u.current,c,b)}return t==="horizontal"?i.jsx(N6,{...p,ref:e,onThumbPositionChange:()=>{if(r.viewport&&l.current){const x=r.viewport.scrollLeft,b=Aw(x,c,r.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{r.viewport&&(r.viewport.scrollLeft=x)},onDragScroll:x=>{r.viewport&&(r.viewport.scrollLeft=m(x,r.dir))}}):t==="vertical"?i.jsx(j6,{...p,ref:e,onThumbPositionChange:()=>{if(r.viewport&&l.current){const x=r.viewport.scrollTop,b=Aw(x,c);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{r.viewport&&(r.viewport.scrollTop=x)},onDragScroll:x=>{r.viewport&&(r.viewport.scrollTop=m(x))}}):null}),N6=v.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...r}=n,l=Xn(Ls,n.__scopeScrollArea),[u,c]=v.useState(),d=v.useRef(null),f=ze(e,d,l.onScrollbarXChange);return v.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),i.jsx(pj,{"data-orientation":"horizontal",...r,ref:f,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Od(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.x),onDragScroll:p=>n.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(l.viewport){const x=l.viewport.scrollLeft+p.deltaX;n.onWheelScroll(x),yj(x,m)&&p.preventDefault()}},onResize:()=>{d.current&&l.viewport&&u&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:zu(u.paddingLeft),paddingEnd:zu(u.paddingRight)}})}})}),j6=v.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...r}=n,l=Xn(Ls,n.__scopeScrollArea),[u,c]=v.useState(),d=v.useRef(null),f=ze(e,d,l.onScrollbarYChange);return v.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),i.jsx(pj,{"data-orientation":"vertical",...r,ref:f,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Od(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.y),onDragScroll:p=>n.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(l.viewport){const x=l.viewport.scrollTop+p.deltaY;n.onWheelScroll(x),yj(x,m)&&p.preventDefault()}},onResize:()=>{d.current&&l.viewport&&u&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:zu(u.paddingTop),paddingEnd:zu(u.paddingBottom)}})}})}),[k6,fj]=lj(Ls),pj=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:r,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:m,...x}=n,b=Xn(Ls,t),[S,w]=v.useState(null),C=ze(e,D=>w(D)),N=v.useRef(null),E=v.useRef(""),T=b.viewport,M=s.content-s.viewport,R=Et(p),I=Et(d),j=Id(m,10);function k(D){if(N.current){const A=D.clientX-N.current.left,V=D.clientY-N.current.top;f({x:A,y:V})}}return v.useEffect(()=>{const D=A=>{const V=A.target;S?.contains(V)&&R(A,M)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[T,S,M,R]),v.useEffect(I,[s,I]),Oo(S,j),Oo(b.content,j),i.jsx(k6,{scope:t,scrollbar:S,hasThumb:r,onThumbChange:Et(l),onThumbPointerUp:Et(u),onThumbPositionChange:I,onThumbPointerDown:Et(c),children:i.jsx(Ne.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:pe(n.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),N.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),k(D))}),onPointerMove:pe(n.onPointerMove,k),onPointerUp:pe(n.onPointerUp,D=>{const A=D.target;A.hasPointerCapture(D.pointerId)&&A.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),N.current=null})})})}),Lu="ScrollAreaThumb",mj=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=fj(Lu,n.__scopeScrollArea);return i.jsx(xn,{present:t||r.hasThumb,children:i.jsx(A6,{ref:e,...s})})}),A6=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:s,...r}=n,l=Xn(Lu,t),u=fj(Lu,t),{onThumbPositionChange:c}=u,d=ze(e,m=>u.onThumbChange(m)),f=v.useRef(void 0),p=Id(()=>{f.current&&(f.current(),f.current=void 0)},100);return v.useEffect(()=>{const m=l.viewport;if(m){const x=()=>{if(p(),!f.current){const b=R6(m,c);f.current=b,c()}};return c(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[l.viewport,p,c]),i.jsx(Ne.div,{"data-state":u.hasThumb?"visible":"hidden",...r,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:pe(n.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),S=m.clientX-b.left,w=m.clientY-b.top;u.onThumbPointerDown({x:S,y:w})}),onPointerUp:pe(n.onPointerUp,u.onThumbPointerUp)})});mj.displayName=Lu;var qg="ScrollAreaCorner",gj=v.forwardRef((n,e)=>{const t=Xn(qg,n.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?i.jsx(T6,{...n,ref:e}):null});gj.displayName=qg;var T6=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,...s}=n,r=Xn(qg,t),[l,u]=v.useState(0),[c,d]=v.useState(0),f=!!(l&&c);return Oo(r.scrollbarX,()=>{const p=r.scrollbarX?.offsetHeight||0;r.onCornerHeightChange(p),d(p)}),Oo(r.scrollbarY,()=>{const p=r.scrollbarY?.offsetWidth||0;r.onCornerWidthChange(p),u(p)}),f?i.jsx(Ne.div,{...s,ref:e,style:{width:l,height:c,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function zu(n){return n?parseInt(n,10):0}function xj(n,e){const t=n/e;return isNaN(t)?0:t}function Od(n){const e=xj(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=(n.scrollbar.size-t)*e;return Math.max(s,18)}function E6(n,e,t,s="ltr"){const r=Od(t),l=r/2,u=e||l,c=r-u,d=t.scrollbar.paddingStart+u,f=t.scrollbar.size-t.scrollbar.paddingEnd-c,p=t.content-t.viewport,m=s==="ltr"?[0,p]:[p*-1,0];return vj([d,f],m)(n)}function Aw(n,e,t="ltr"){const s=Od(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=e.scrollbar.size-r,u=e.content-e.viewport,c=l-s,d=t==="ltr"?[0,u]:[u*-1,0],f=tl(n,d);return vj([0,u],[0,c])(f)}function vj(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(n[1]-n[0]);return e[0]+s*(t-n[0])}}function yj(n,e){return n>0&&n<e}var R6=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},s=0;return(function r(){const l={left:n.scrollLeft,top:n.scrollTop},u=t.left!==l.left,c=t.top!==l.top;(u||c)&&e(),t=l,s=window.requestAnimationFrame(r)})(),()=>window.cancelAnimationFrame(s)};function Id(n,e){const t=Et(n),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function Oo(n,e){const t=Et(e);Pt(()=>{let s=0;if(n){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return r.observe(n),()=>{window.cancelAnimationFrame(s),r.unobserve(n)}}},[n,t])}var wj=cj,M6=dj,P6=gj;const Bu=v.forwardRef(({className:n,children:e,...t},s)=>i.jsxs(wj,{ref:s,className:Ee("relative overflow-hidden",n),...t,children:[i.jsx(M6,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(bj,{}),i.jsx(P6,{})]}));Bu.displayName=wj.displayName;const bj=v.forwardRef(({className:n,orientation:e="vertical",...t},s)=>i.jsx(zg,{ref:s,orientation:e,className:Ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:i.jsx(mj,{className:"relative flex-1 rounded-full bg-border"})}));bj.displayName=zg.displayName;function O6(){const[n,e]=v.useState("javascript"),[t,s]=v.useState(`class MelodyGenerator {
    constructor(tempo = 120) {
        this.tempo = tempo;
        this.notes = [];
    }

    addNote(pitch, duration) {
        this.notes.push({
            pitch: pitch,
            duration: duration,
            velocity: Math.random() * 0.5 + 0.5
        });
    }

    generateScale() {
        const scales = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];
        for (let i = 0; i < scales.length; i++) {
            this.addNote(scales[i] + '4', 0.25);
        }
    }

    play() {
        console.log('Playing melody...');
        return this.notes;
    }
}`),[r,l]=v.useState(null),[u,c]=v.useState([5]),{toast:d}=ar(),{initialize:f,isInitialized:p,playNote:m}=El(),x=v.useContext(Dd),b=Gr({mutationFn:async C=>(await us("POST","/api/code-to-music",C)).json(),onSuccess:C=>{l(C),C.melody&&x.setCurrentMelody(C.melody);const N={kick:[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1],snare:[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],hihat:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],bass:[!0,!1,!0,!1,!1,!1,!0,!1,!0,!1,!0,!1,!1,!1,!0,!1],tom:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],openhat:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],clap:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],crash:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]};x.setCurrentPattern(N),x.setCurrentCodeMusic(C),d({title:"Compilation Complete",description:"Code has been converted to music successfully."})},onError:()=>{d({title:"Compilation Failed",description:"Failed to convert code to music. Please try again.",variant:"destructive"})}}),S=()=>{if(!t.trim()){d({title:"No Code Provided",description:"Please enter some code to convert.",variant:"destructive"});return}b.mutate({code:t,language:n,complexity:u[0]})},w=[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"cpp",label:"C++"}];return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"p-6 border-b border-gray-600",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-heading font-bold",children:"Code to Music Compiler"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(ee,{onClick:()=>{f(),d({title:"Audio Initialized",description:"The audio engine has started."})},disabled:p,className:"bg-studio-accent hover:bg-blue-500",children:[i.jsx("i",{className:"fas fa-power-off mr-2"}),p?"Audio Ready":"Start Audio"]}),i.jsx(ee,{onClick:S,disabled:b.isPending,className:"bg-studio-accent hover:bg-blue-500",children:b.isPending?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fas fa-spinner animate-spin mr-2"}),"Compiling..."]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fas fa-exchange-alt mr-2"}),"Compile to Music"]})}),i.jsxs(ee,{onClick:async()=>{if(r&&p)if(console.log("Playing music data:",r),r.melody&&Array.isArray(r.melody)&&r.melody.length>0){let C=0;const N=()=>{if(C<r.melody.length){const M=r.melody[C];if(M&&M.note){const R=M.note.replace(/\d/,""),I=parseInt(M.note.replace(/[A-G]#?/,""))||4,j=M.instrument||"piano";console.log(`Playing note ${M.note} -> ${R}${I} on ${j} for ${M.duration||.5}s`),m(R,I,M.duration||.5,j,.7)}C++,C<r.melody.length&&setTimeout(N,(r.melody[C-1]?.duration||.5)*1e3)}};N(),r.drumPattern&&(x.setCurrentPattern(r.drumPattern),await x.playFullSong());const E=new Set(r.melody.map(M=>M.instrument||"piano")),T=Array.from(E).length;d({title:"Playing Multi-Instrument Arrangement",description:`Playing ${r.melody.length} notes across ${T} instruments plus drums.`})}else console.log("No playable melody found, playing drum pattern only"),await x.playFullSong(),d({title:"Playing Rhythm",description:"Playing drum pattern from compiled code."});else d(r?{title:"Audio Not Ready",description:"Please start audio first.",variant:"destructive"}:{title:"No Music",description:"Please compile code first.",variant:"destructive"})},disabled:!r||!p,className:"bg-studio-success hover:bg-green-500",children:[i.jsx("i",{className:"fas fa-play mr-2"}),"Play Result"]}),i.jsxs(ee,{onClick:()=>{l(null),x.setCurrentCodeMusic({}),x.setCurrentMelody([]);const C={kick:Array(16).fill(!1),snare:Array(16).fill(!1),hihat:Array(16).fill(!1),bass:Array(16).fill(!1),tom:Array(16).fill(!1),openhat:Array(16).fill(!1),clap:Array(16).fill(!1),crash:Array(16).fill(!1)};x.setCurrentPattern(C),d({title:"Music Cleared",description:"All compiled music data has been cleared."})},disabled:!r,className:"bg-gray-600 hover:bg-gray-500",children:[i.jsx("i",{className:"fas fa-trash mr-2"}),"Clear Music"]})]})]})}),i.jsx(Bu,{className:"flex-1 p-6",children:i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:"Source Code"}),i.jsxs(wt,{value:n,onValueChange:e,children:[i.jsx(ft,{className:"w-32",children:i.jsx(bt,{})}),i.jsx(pt,{children:w.map(C=>i.jsx(Oe,{value:C.value,children:C.label},C.value))})]})]}),i.jsx(cs,{value:t,onChange:C=>s(C.target.value),className:"flex-1 bg-studio-panel border-gray-600 font-mono text-sm resize-none",placeholder:"Enter your code here..."}),i.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-3 space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx("div",{className:"w-2 h-2 bg-studio-success rounded-full"}),i.jsx("span",{children:"Code analysis complete"}),i.jsx("div",{className:"flex-1"}),i.jsx("span",{className:"text-gray-400",children:"25 lines • 3 functions • 1 class"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(kt,{className:"text-sm",children:["AI Complexity: ",u[0],"/10"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Simple"}),i.jsx(Ae,{value:u,onValueChange:c,max:10,min:1,step:1,className:"flex-1"}),i.jsx("span",{className:"text-xs text-gray-400",children:"Complex"})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Controls how intricate the musical arrangement will be"})]})]})]}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Generated Music"}),i.jsx("div",{className:"flex-1 bg-studio-panel border border-gray-600 rounded-lg p-4",children:r?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"Algorithmic Composition Based on Code Structure"}),i.jsxs("svg",{className:"w-full h-32",viewBox:"0 0 400 120",children:[[20,35,50,65,80].map(C=>i.jsx("line",{x1:"20",y1:C,x2:"380",y2:C,stroke:"#666",strokeWidth:"1"},C)),[{x:50,y:35},{x:90,y:50},{x:130,y:35},{x:170,y:20},{x:210,y:35},{x:250,y:50},{x:290,y:35},{x:330,y:20}].map((C,N)=>i.jsx("circle",{cx:C.x,cy:C.y,r:"4",fill:"hsl(203, 100%, 55%)"},N))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Classes → Piano"}),i.jsx("div",{className:"w-16 h-2 bg-blue-500 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Functions → Strings"}),i.jsx("div",{className:"w-12 h-2 bg-green-500 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Loops → Drums"}),i.jsx("div",{className:"w-8 h-2 bg-yellow-500 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Variables → Bass"}),i.jsx("div",{className:"w-20 h-2 bg-purple-500 rounded"})]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"fas fa-music text-4xl mb-4"}),i.jsx("p",{children:"Generated music will appear here after compilation"})]})})}),i.jsx("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fas fa-music text-studio-accent"}),i.jsx("span",{children:"Key: C Major"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fas fa-clock text-studio-accent"}),i.jsx("span",{children:"Duration: 32 beats"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("i",{className:"fas fa-layer-group text-studio-accent"}),i.jsx("span",{children:"4 tracks"})]})]})})]})]})})]})}function I6(){const[n,e]=v.useState("javascript"),[t,s]=v.useState("functional"),[r,l]=v.useState([5]),[u,c]=v.useState(null),[d,f]=v.useState(null),[p,m]=v.useState(null),[x,b]=v.useState(!1),{toast:S}=ar(),{playNote:w,playDrumSound:C,initialize:N,isInitialized:E}=El(),T=v.useContext(Dd),M=Gr({mutationFn:async D=>{const A=new FormData;return D.audioFile&&A.append("audio",D.audioFile),D.musicData&&A.append("musicData",JSON.stringify(D.musicData)),A.append("language",D.language),A.append("codeStyle",D.codeStyle),A.append("complexity",D.complexity.toString()),(await us("POST","/api/music-to-code",A)).json()},onSuccess:D=>{c(D.analysis),D.code&&typeof D.code=="object"&&f({language:String(D.code.language||"javascript"),code:String(D.code.code||""),description:String(D.code.description||"Generated code"),framework:String(D.code.framework||"Unknown"),functionality:Array.isArray(D.code.functionality)?D.code.functionality:[]}),S({title:"Music Analysis Complete!",description:`Generated ${D.code?.language||"JavaScript"} code from musical composition.`})},onError:D=>{S({title:"Analysis Failed",description:D.message||"Failed to analyze music and generate code.",variant:"destructive"})}}),R=Gr({mutationFn:async()=>(await us("POST","/api/test-circular-translation",{sourceCode:"CodedSwitch"})).json(),onSuccess:D=>{c(D.originalAnalysis);const A=D.regeneratedCode;f(A&&typeof A=="object"?{language:String(A.language||"javascript"),code:String(A.code||""),description:String(A.description||"Generated from circular translation"),framework:String(A.framework||"Unknown"),functionality:Array.isArray(A.functionality)?A.functionality.map(String):[]}:{language:"javascript",code:String(A||""),description:"Generated from circular translation",framework:"Unknown",functionality:[]}),S({title:"Circular Translation Test Complete!",description:`Match accuracy: ${D.accuracy}%`})}}),I=D=>{m(D)},j=()=>{const D=d?.code||"",A=document.getElementById("code-test-results");if(A){A.innerHTML='<span class="text-yellow-600">Testing code...</span>';try{D.includes("class ")&&D.includes("constructor")?setTimeout(()=>{A.innerHTML=`
            <div class="text-green-600">✓ Code syntax valid</div>
            <div class="text-green-600">✓ Class structure detected</div>
            <div class="text-green-600">✓ Constructor methods found</div>
            <div class="text-green-600">✓ Functions properly defined</div>
            <div class="text-blue-600 mt-1">Code appears functional and ready to use!</div>
          `},1500):A.innerHTML='<div class="text-orange-600">⚠ Code structure may need refinement</div>'}catch{A.innerHTML='<div class="text-red-600">✗ Syntax errors detected</div>'}}},k=()=>{if(x){const D={pattern:T.currentPattern,melody:T.currentMelody,lyrics:T.currentLyrics,codeMusic:T.currentCodeMusic};M.mutate({musicData:D,language:n,codeStyle:t,complexity:r[0]})}else p?M.mutate({audioFile:p,language:n,codeStyle:t,complexity:r[0]}):S({title:"No Music Selected",description:"Please upload an audio file or select current composition.",variant:"destructive"})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Music → Code Converter"}),i.jsx("p",{className:"text-muted-foreground",children:"Transform musical compositions into functional code"})]}),i.jsxs(Fi,{defaultValue:"upload",className:"w-full",children:[i.jsxs(si,{className:"grid w-full grid-cols-3",children:[i.jsx(mt,{value:"upload",children:"Upload Music"}),i.jsx(mt,{value:"current",children:"Current Composition"}),i.jsx(mt,{value:"circular",children:"Circular Test"})]}),i.jsx(gt,{value:"upload",className:"space-y-4",children:i.jsxs(de,{children:[i.jsxs(Me,{children:[i.jsx(Pe,{children:"Audio File Upload"}),i.jsx(js,{children:"Upload an audio file to analyze and convert to code"})]}),i.jsxs(ye,{children:[i.jsx("div",{className:"space-y-4",children:i.jsx("input",{type:"file",accept:"audio/*",onChange:D=>{const A=D.target.files?.[0];A&&I(A)},className:`block w-full text-sm text-gray-500\r
                    file:mr-4 file:py-2 file:px-4\r
                    file:rounded-full file:border-0\r
                    file:text-sm file:font-semibold\r
                    file:bg-violet-50 file:text-violet-700\r
                    hover:file:bg-violet-100`})}),p&&i.jsx("div",{className:"mt-2 p-2 bg-muted rounded",children:i.jsxs("span",{className:"text-sm",children:["Selected: ",p.name]})})]})]})}),i.jsx(gt,{value:"current",className:"space-y-4",children:i.jsxs(de,{children:[i.jsxs(Me,{children:[i.jsx(Pe,{children:"Current Studio Composition"}),i.jsx(js,{children:"Use the music you've created in CodedSwitch"})]}),i.jsxs(ye,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Pattern:"})," ",T.currentPattern?"Available":"None"]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Melody:"})," ",T.currentMelody?.length||0," notes"]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Lyrics:"})," ",T.currentLyrics?"Available":"None"]})]}),i.jsx(ee,{onClick:()=>b(!0),className:"mt-4",disabled:!T.currentPattern&&!T.currentMelody,children:"Use Current Composition"})]})]})}),i.jsx(gt,{value:"circular",className:"space-y-4",children:i.jsxs(de,{children:[i.jsxs(Me,{children:[i.jsx(Pe,{children:"Circular Translation Test"}),i.jsx(js,{children:"Test perfect round-trip: CodedSwitch → Music → CodedSwitch"})]}),i.jsxs(ye,{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"This will take our own source code, convert it to music, then convert that music back to code. Perfect accuracy would mean we get identical code back!"}),i.jsx(ee,{onClick:()=>R.mutate(),disabled:R.isPending,className:"bg-gradient-to-r from-purple-500 to-pink-500",children:R.isPending?"Testing...":"Run Circular Test"})]})]})})]}),i.jsxs(de,{children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Code Generation Settings"})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{htmlFor:"language",children:"Target Language"}),i.jsxs(wt,{value:n,onValueChange:e,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Oe,{value:"javascript",children:"JavaScript"}),i.jsx(Oe,{value:"python",children:"Python"}),i.jsx(Oe,{value:"react",children:"React Component"}),i.jsx(Oe,{value:"css",children:"CSS/HTML"}),i.jsx(Oe,{value:"java",children:"Java"}),i.jsx(Oe,{value:"csharp",children:"C#"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{htmlFor:"style",children:"Code Style"}),i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Oe,{value:"functional",children:"Functional"}),i.jsx(Oe,{value:"object-oriented",children:"Object-Oriented"}),i.jsx(Oe,{value:"procedural",children:"Procedural"}),i.jsx(Oe,{value:"declarative",children:"Declarative"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(kt,{children:["Code Complexity: ",r[0]]}),i.jsx(Ae,{value:r,onValueChange:l,min:1,max:10,step:1,className:"w-full"})]}),i.jsx(ee,{onClick:k,disabled:M.isPending,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500",children:M.isPending?"Analyzing...":"Convert Music to Code"})]})]}),(u||d)&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u&&i.jsxs(de,{children:[i.jsxs(Me,{children:[i.jsx(Pe,{children:"Music Analysis"}),i.jsx(js,{children:"Generated musical composition from your code"})]}),i.jsxs(ye,{children:[i.jsx(Bu,{className:"h-64",children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Tempo:"})," ",String(u.tempo||120)," BPM"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Key:"})," ",String(u.key||"C Major")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Time Signature:"})," ",String(u.timeSignature||"4/4")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Mood:"})," ",String(u.mood||"neutral")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Complexity:"})," ",String(u.complexity||5),"/10"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Structure:"})," ",Array.isArray(u.structure)?u.structure.join(" → "):"No structure data"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Instruments:"})," ",Array.isArray(u.instruments)?u.instruments.join(", "):"No instrument data"]})]})}),i.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(ee,{variant:"outline",onClick:async()=>{console.log("Testing basic audio..."),E||await N(),w("C",4,1,void 0,.8),C("kick",.8),S({title:"Audio Test",description:"Playing test note and kick drum"})},children:[i.jsx(sr,{className:"h-4 w-4 mr-2"}),"Test Audio"]}),i.jsx(ee,{onClick:async()=>{if(console.log("🎵 Starting Play Music - Full composition playback"),!u){console.log("🎵 No music analysis available");return}try{E||(console.log("🎵 Initializing audio system..."),await N(),console.log("🎵 Audio system initialized successfully"),S({title:"Audio System Ready",description:"Professional audio engine initialized"})),console.log("🎵 Testing basic note..."),w("C",4,.5,void 0,.8),setTimeout(async()=>{console.log("🎵 Starting full composition...");const D={Intro:["C","E","G","E"],Verse:["C","G","Am","F","C","G"],Chorus:["F","G","Am","C","F","G","C"],Bridge:["Am","F","C","G","Am"],Outro:["F","C","G","C"]};let A=0;const V=60/(u.tempo||120)*1e3,B=Array.isArray(u.structure)?u.structure:["Verse","Chorus"];for(const Z of B){const z=D[Z]||["C","E","G","C"];console.log(`🎵 Playing section: ${Z}`);for(let H=0;H<z.length;H++){const X=z[H],Q=A+H*V;setTimeout(()=>{console.log(`🎵 Playing note: ${X}`);const $=Array.isArray(u.instruments)?u.instruments:["piano"];$.includes("piano")&&w(X,4,V/1e3,void 0,.7),$.includes("strings")&&w(X,5,V/1e3*1.5,"strings",.5),$.includes("bass")&&w(X,2,V/1e3*2,"bass",.8),!$.includes("piano")&&!$.includes("strings")&&!$.includes("bass")&&w(X,4,V/1e3,void 0,.7)},Q)}A+=z.length*V+500}if((u.complexity||5)>=5){const Z=60/(u.tempo||120)*1e3/4;console.log(`🎵 Adding drum pattern at ${Z}ms intervals`);for(let z=0;z<16;z++)setTimeout(()=>{z%4===0&&C("kick",.8),z%4===2&&C("snare",.7),z%2===1&&C("hihat",.4)},z*Z)}},600)}catch(D){console.error("🎵 Audio initialization failed:",D),S({title:"Audio Error",description:"Failed to initialize audio. Please check browser permissions.",variant:"destructive"});return}S({title:"Playing Complete Composition",description:`${Array.isArray(u.instruments)?u.instruments.join(", "):"Multiple instruments"} with ${String(u.mood)} beat at ${String(u.tempo)} BPM`})},className:"bg-green-600 hover:bg-green-700",children:"🎵 Play Music"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Listen to the musical composition generated from your code"})]})})]})]}),d&&i.jsxs(de,{children:[i.jsxs(Me,{children:[i.jsx(Pe,{children:"Generated Code"}),i.jsxs(js,{children:[String(d?.framework||"Unknown Framework")," -"," ",String(d?.description||"Generated code")]})]}),i.jsxs(ye,{children:[i.jsx(Bu,{className:"h-64",children:i.jsx("pre",{className:"text-xs bg-muted p-4 rounded overflow-x-auto",children:i.jsx("code",{children:typeof d?.code=="string"?d.code:typeof d?.code=="object"?JSON.stringify(d.code,null,2):String(d?.code||"No code generated")})})}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"Functionality:"}),i.jsx("ul",{className:"text-sm text-muted-foreground list-disc pl-4",children:Array.isArray(d.functionality)?d.functionality.map((D,A)=>i.jsx("li",{children:String(D)},A)):i.jsx("li",{children:"No functionality data available"})}),i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg border-l-4 border-blue-500",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm font-medium text-blue-700",children:"Code Verification"}),i.jsx(ee,{onClick:()=>j(),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"▶ Test Code"})]}),i.jsx("div",{className:"text-xs text-blue-600",children:"Verify that the regenerated code actually works and compiles correctly"}),i.jsx("div",{id:"code-test-results",className:"mt-2 p-2 bg-gray-100 rounded text-xs font-mono min-h-[40px]",children:i.jsx("span",{className:"text-gray-500",children:'Click "Test Code" to verify functionality...'})})]})]})]})]})]})]})}function D6(){const[n,e]=v.useState(""),[t,s]=v.useState(!1),[r,l]=v.useState([{role:"assistant",content:"Hello! I'm your AI music assistant. I can help you with composition, code translation, mixing advice, and creative suggestions. What would you like to work on today?"}]),u=async()=>{if(!n.trim())return;s(!0);const d={role:"user",content:n};l(f=>[...f,d]),e(""),setTimeout(()=>{const f={role:"assistant",content:"I understand you want to work on that. Let me help you with some suggestions..."};l(p=>[...p,f]),s(!1)},1500)},c=[{icon:Bt,text:"Generate a melody in C major",category:"Composition"},{icon:er,text:"Convert this function to music",category:"Translation"},{icon:nE,text:"Suggest chord progressions",category:"Theory"}];return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full flex flex-col",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(lm,{className:"h-6 w-6"}),"AI Music Assistant"]})}),i.jsxs(ye,{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"flex-1 bg-white rounded-lg border p-4 mb-4 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[r.map((d,f)=>i.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${d.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:d.content})},f)),t&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-100 text-gray-900 p-3 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-gray-400 border-t-transparent rounded-full"}),"Thinking..."]})})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Quick Suggestions"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((d,f)=>{const p=d.icon;return i.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>e(d.text),className:"flex items-center gap-1",children:[i.jsx(p,{className:"h-3 w-3"}),d.text,i.jsx(Te,{variant:"secondary",className:"ml-1 text-xs",children:d.category})]},f)})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(cs,{placeholder:"Ask me anything about music, composition, or code...",value:n,onChange:d=>e(d.target.value),className:"flex-1",onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())}}),i.jsx(ee,{onClick:u,disabled:!n.trim()||t,children:i.jsx(lE,{className:"h-4 w-4"})})]})]})]})]})})}var Gg="Progress",$g=100,[V6,Vz]=gn(Gg),[F6,L6]=V6(Gg),Cj=v.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:r,getValueLabel:l=z6,...u}=n;(r||r===0)&&!Tw(r)&&console.error(B6(`${r}`,"Progress"));const c=Tw(r)?r:$g;s!==null&&!Ew(s,c)&&console.error(q6(`${s}`,"Progress"));const d=Ew(s,c)?s:null,f=qu(d)?l(d,c):void 0;return i.jsx(F6,{scope:t,value:d,max:c,children:i.jsx(Ne.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":qu(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":Nj(d,c),"data-value":d??void 0,"data-max":c,...u,ref:e})})});Cj.displayName=Gg;var Sj="ProgressIndicator",_j=v.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,r=L6(Sj,t);return i.jsx(Ne.div,{"data-state":Nj(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});_j.displayName=Sj;function z6(n,e){return`${Math.round(n/e*100)}%`}function Nj(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function qu(n){return typeof n=="number"}function Tw(n){return qu(n)&&!isNaN(n)&&n>0}function Ew(n,e){return qu(n)&&!isNaN(n)&&n<=e&&n>=0}function B6(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$g}\`.`}function q6(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$g} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var jj=Cj,G6=_j;const Wg=v.forwardRef(({className:n,value:e,...t},s)=>i.jsx(jj,{ref:s,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:i.jsx(G6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Wg.displayName=jj.displayName;function $6(){const[n,e]=v.useState(""),[t,s]=v.useState(!1),[r,l]=v.useState(0),[u,c]=v.useState([]),[d,f]=v.useState(!1),p=async()=>{if(!n.trim())return;s(!0),l(0),c([]),f(!1);const b=setInterval(()=>{l(S=>S>=100?(clearInterval(b),s(!1),f(!0),c([{id:"1",severity:"high",title:"SQL Injection Risk",description:"Direct string concatenation in SQL query",file:"database.js",line:42,recommendation:"Use parameterized queries or prepared statements"},{id:"2",severity:"medium",title:"Cross-Site Scripting (XSS)",description:"Unescaped user input in HTML output",file:"template.js",line:15,recommendation:"Sanitize user input before rendering"},{id:"3",severity:"low",title:"Weak Password Policy",description:"Password requirements are too lenient",file:"auth.js",line:78,recommendation:"Implement stronger password requirements"}]),100):S+10)},200)},m=b=>{switch(b){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}},x=b=>{switch(b){case"critical":return i.jsx($1,{className:"h-4 w-4 text-red-500"});case"high":return i.jsx(p0,{className:"h-4 w-4 text-orange-500"});case"medium":return i.jsx(p0,{className:"h-4 w-4 text-yellow-500"});case"low":return i.jsx(G1,{className:"h-4 w-4 text-blue-500"});default:return i.jsx(yo,{className:"h-4 w-4 text-gray-500"})}};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(yo,{className:"h-6 w-6"}),"Security Vulnerability Scanner"]})}),i.jsx(ye,{className:"h-full",children:i.jsxs(Fi,{defaultValue:"scanner",className:"h-full",children:[i.jsxs(si,{className:"grid w-full grid-cols-2",children:[i.jsx(mt,{value:"scanner",children:"Code Scanner"}),i.jsx(mt,{value:"results",children:"Results"})]}),i.jsxs(gt,{value:"scanner",className:"mt-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Code to Scan"}),i.jsx(cs,{placeholder:"Paste your code here for security analysis...",value:n,onChange:b=>e(b.target.value),className:"h-64 font-mono text-sm"})]}),t&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(h0,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{className:"text-sm",children:"Scanning for vulnerabilities..."})]}),i.jsx(Wg,{value:r,className:"w-full"})]}),i.jsx(ee,{onClick:p,disabled:!n.trim()||t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(h0,{className:"h-4 w-4 mr-2 animate-spin"}),"Scanning..."]}):i.jsxs(i.Fragment,{children:[i.jsx(yo,{className:"h-4 w-4 mr-2"}),"Start Security Scan"]})})]}),i.jsx(gt,{value:"results",className:"mt-6",children:d?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Scan Results"}),i.jsxs(Te,{variant:"outline",children:[u.length," issues found"]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:["critical","high","medium","low"].map(b=>{const S=u.filter(w=>w.severity===b).length;return i.jsx(de,{children:i.jsxs(ye,{className:"p-4 text-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full ${m(b)} mx-auto mb-2 flex items-center justify-center`,children:i.jsx("span",{className:"text-white text-sm font-bold",children:S})}),i.jsx("p",{className:"text-sm font-medium capitalize",children:b})]})},b)})}),i.jsx("div",{className:"space-y-3",children:u.map(b=>i.jsx(de,{className:"border-l-4",style:{borderLeftColor:m(b.severity).replace("bg-","")},children:i.jsx(ye,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[x(b.severity),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium",children:b.title}),i.jsx(Te,{variant:"outline",className:"text-xs",children:b.severity})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.description}),i.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(XT,{className:"h-3 w-3"}),b.file,":",b.line]})}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Recommendation:"})," ",b.recommendation]})})]})]})})},b.id))})]}):i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(yo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Run a security scan to see results"})]})})]})})]})})}function W6(){const[n,e]=v.useState(""),[t,s]=v.useState("pop"),[r,l]=v.useState("happy"),[u,c]=v.useState(""),[d,f]=v.useState(!1),[p,m]=v.useState("ABAB"),x=["pop","rock","hip-hop","country","r&b","folk","electronic"],b=["happy","sad","energetic","romantic","melancholic","uplifting","dark"],S=["ABAB","AABB","ABCB","AAAA","Free Verse"],w=async()=>{f(!0),setTimeout(()=>{e(`[Verse 1]
Walking down this empty street tonight
Stars are shining oh so bright
Dreams are calling from afar
Wish I may upon a star

[Chorus]
We can fly, we can soar
Open up that magic door
Nothing's gonna hold us down
We're the kings and queens of this town

[Verse 2]
Every step we take today
Leads us to a brighter way
Hand in hand we'll face the storm
Together we'll keep each other warm

[Chorus]
We can fly, we can soar
Open up that magic door
Nothing's gonna hold us down
We're the kings and queens of this town

[Bridge]
When the world gets heavy
And the road gets long
We'll remember this moment
We'll remember this song

[Outro]
Stars are shining oh so bright
Guiding us into the night`),f(!1)},3e3)};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(yi,{className:"h-6 w-6"}),"Lyric Lab"]})}),i.jsx(ye,{className:"h-full",children:i.jsxs(Fi,{defaultValue:"write",className:"h-full",children:[i.jsxs(si,{className:"grid w-full grid-cols-3",children:[i.jsx(mt,{value:"write",children:"Write"}),i.jsx(mt,{value:"generate",children:"AI Generate"}),i.jsx(mt,{value:"analyze",children:"Analyze"})]}),i.jsxs(gt,{value:"write",className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Genre"}),i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:x.map(C=>i.jsx(Oe,{value:C,children:C},C))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mood"}),i.jsxs(wt,{value:r,onValueChange:l,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:b.map(C=>i.jsx(Oe,{value:C,children:C},C))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rhyme Scheme"}),i.jsxs(wt,{value:p,onValueChange:m,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:S.map(C=>i.jsx(Oe,{value:C,children:C},C))})]})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Lyrics"}),i.jsx(cs,{placeholder:"Write your lyrics here...",value:n,onChange:C=>e(C.target.value),className:"h-96 font-mono text-sm"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{variant:"outline",children:[i.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Preview"]}),i.jsxs(ee,{variant:"outline",children:[i.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Save"]}),i.jsxs(ee,{variant:"outline",children:[i.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),i.jsxs(gt,{value:"generate",className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Theme/Topic"}),i.jsx(cs,{placeholder:"Describe what you want the song to be about...",value:u,onChange:C=>c(C.target.value),className:"h-24"})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Style"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{children:i.jsx(bt,{placeholder:"Genre"})}),i.jsx(pt,{children:x.map(C=>i.jsx(Oe,{value:C,children:C},C))})]}),i.jsxs(wt,{value:r,onValueChange:l,children:[i.jsx(ft,{children:i.jsx(bt,{placeholder:"Mood"})}),i.jsx(pt,{children:b.map(C=>i.jsx(Oe,{value:C,children:C},C))})]})]})]})})]}),i.jsx(ee,{onClick:w,disabled:d,className:"w-full",children:d?i.jsxs(i.Fragment,{children:[i.jsx(fm,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Lyrics..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zo,{className:"h-4 w-4 mr-2"}),"Generate AI Lyrics"]})}),n&&i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Generated Lyrics"}),i.jsx(cs,{value:n,onChange:C=>e(C.target.value),className:"h-64 font-mono text-sm"})]})]}),i.jsx(gt,{value:"analyze",className:"mt-6",children:n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(de,{children:i.jsxs(ye,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Lines"})]})}),i.jsx(de,{children:i.jsxs(ye,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Words"})]})}),i.jsx(de,{children:i.jsxs(ye,{className:"p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"4"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Verses"})]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:"Structure Analysis"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Te,{variant:"outline",children:"Verse 1"}),i.jsx(Te,{variant:"outline",children:"Chorus"}),i.jsx(Te,{variant:"outline",children:"Verse 2"}),i.jsx(Te,{variant:"outline",children:"Chorus"}),i.jsx(Te,{variant:"outline",children:"Bridge"}),i.jsx(Te,{variant:"outline",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:"Rhyme Analysis"}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Detected rhyme scheme: ",i.jsx(Te,{variant:"secondary",children:"ABAB"})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Rhyme quality: ",i.jsx(Te,{variant:"secondary",children:"Good"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-3",children:"Sentiment Analysis"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Positive"}),i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"75%"}})}),i.jsx("span",{className:"text-sm",children:"75%"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Neutral"}),i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"20%"}})}),i.jsx("span",{className:"text-sm",children:"20%"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",children:"Negative"}),i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"5%"}})}),i.jsx("span",{className:"text-sm",children:"5%"})]})]})]})]}):i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(yi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Write or generate lyrics to see analysis"})]})})]})})]})})}const U6=new AN;function H6(){const{toast:n}=ar(),[e,t]=v.useState(!1),[s,r]=v.useState(75),[l,u]=v.useState(120),[c,d]=v.useState([]),[f,p]=v.useState(null),[m,x]=v.useState("My Mix"),[b,S]=v.useState(""),[w,C]=v.useState([]);v.useEffect(()=>{const A=localStorage.getItem("codedswitch_saved_beats"),V=localStorage.getItem("codedswitch_saved_melodies"),B=localStorage.getItem("codedswitch_saved_basslines");(A||V||B)&&console.log("📦 Found saved patterns to load into Mix Studio")},[]);const N=Gr({mutationFn:async A=>await us("POST","/api/mix/generate",A),onSuccess:A=>{console.log("🎛️ AI Mix generated:",A),A.layers&&(d(A.layers),n({title:"Mix Generated!",description:"AI has created a professional mix based on your prompt"}))},onError:A=>{n({title:"Mix Generation Failed",description:"Please try again",variant:"destructive"})}}),E=(A,V)=>{const B={id:`layer_${Date.now()}`,name:`${A.charAt(0).toUpperCase()+A.slice(1)} Track`,type:A,data:null,volume:75,muted:!1,solo:!1,pan:0,effects:{reverb:0,delay:0,distortion:0}};d([...c,B]),n({title:"Layer Added",description:`Added ${B.name}`})},T=(A,V)=>{const B=`codedswitch_saved_${V}`,Z=localStorage.getItem(B);if(Z){const z=JSON.parse(Z);z.length>0&&(d(c.map(H=>H.id===A?{...H,data:z[0]}:H)),n({title:"Pattern Loaded",description:`Loaded ${V} into layer`}))}},M=(A,V)=>{d(c.map(B=>B.id===A?{...B,...V}:B))},R=A=>{d(c.filter(V=>V.id!==A)),n({title:"Layer Removed"})},I=()=>{if(!b.trim()){n({title:"Enter AI Instructions",description:"Please describe how you want the mix to sound",variant:"destructive"});return}N.mutate({prompt:b,layers:c,bpm:l,style:"professional"})},j=()=>{const A={id:`mix_${Date.now()}`,name:m,layers:c,bpm:l,masterVolume:s,createdAt:new Date().toISOString()},V=JSON.parse(localStorage.getItem("codedswitch_mixes")||"[]");V.push(A),localStorage.setItem("codedswitch_mixes",JSON.stringify(V)),C(V),n({title:"Mix Saved!",description:`"${m}" has been saved`})},k=async()=>{n({title:"Exporting Mix...",description:"Generating audio file, this may take a moment"}),setTimeout(()=>{n({title:"Mix Exported!",description:"Your mix has been exported as mix.wav"})},2e3)},D=async()=>{e?t(!1):(await U6.initialize(),t(!0),c.forEach(A=>{!A.muted&&A.data&&console.log(`🎵 Playing layer: ${A.name}`)}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(de,{className:"bg-gradient-to-r from-purple-900/20 to-pink-900/20 border-purple-700",children:i.jsx(Me,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(mm,{className:"w-8 h-8 text-purple-400"}),i.jsxs("div",{children:[i.jsx(Pe,{className:"text-2xl",children:"Mix Studio"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Combine beats, bass, and melodies with AI-powered mixing"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{onClick:D,variant:e?"destructive":"default",children:[e?i.jsx(Zr,{className:"w-4 h-4 mr-1"}):i.jsx(Ht,{className:"w-4 h-4 mr-1"}),e?"Stop":"Play Mix"]}),i.jsxs(ee,{onClick:j,variant:"outline",children:[i.jsx(Q1,{className:"w-4 h-4 mr-1"})," Save Mix"]}),i.jsxs(ee,{onClick:k,variant:"secondary",children:[i.jsx(Fo,{className:"w-4 h-4 mr-1"})," Export"]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4",children:i.jsxs(de,{children:[i.jsx(Me,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Pe,{children:"Track Layers"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ee,{onClick:()=>E("beat"),size:"sm",variant:"outline",children:[i.jsx(_s,{className:"w-4 h-4 mr-1"})," Add Beat"]}),i.jsxs(ee,{onClick:()=>E("melody"),size:"sm",variant:"outline",children:[i.jsx(_s,{className:"w-4 h-4 mr-1"})," Add Melody"]}),i.jsxs(ee,{onClick:()=>E("bass"),size:"sm",variant:"outline",children:[i.jsx(_s,{className:"w-4 h-4 mr-1"})," Add Bass"]})]})]})}),i.jsx(ye,{className:"space-y-3",children:c.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(zr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"No layers yet. Add beats, melodies, or bass to start mixing!"})]}):c.map(A=>i.jsx(de,{className:`p-4 ${f===A.id?"border-purple-500":""}`,onClick:()=>p(A.id),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Te,{variant:A.type==="beat"?"default":A.type==="melody"?"secondary":"outline",children:A.type}),i.jsx("input",{className:"bg-transparent border-b border-gray-600 text-lg",value:A.name,onChange:V=>M(A.id,{name:V.target.value})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{size:"sm",variant:A.solo?"default":"ghost",onClick:()=>M(A.id,{solo:!A.solo}),children:"S"}),i.jsx(ee,{size:"sm",variant:A.muted?"destructive":"ghost",onClick:()=>M(A.id,{muted:!A.muted}),children:"M"}),i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>R(A.id),children:i.jsx(Y1,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(kt,{className:"text-xs",children:["Volume: ",A.volume,"%"]}),i.jsx(Ae,{value:[A.volume],onValueChange:V=>M(A.id,{volume:V[0]}),max:100,className:"mt-1"})]}),i.jsxs("div",{children:[i.jsxs(kt,{className:"text-xs",children:["Pan:"," ",A.pan>0?`R${A.pan}`:A.pan<0?`L${Math.abs(A.pan)}`:"C"]}),i.jsx(Ae,{value:[A.pan],onValueChange:V=>M(A.id,{pan:V[0]}),min:-100,max:100,className:"mt-1"})]})]}),!A.data&&i.jsx("div",{className:"flex gap-2",children:i.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>T(A.id,`${A.type}s`),children:[i.jsx(bi,{className:"w-4 h-4 mr-1"})," Load Saved"," ",A.type]})}),f===A.id&&i.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-3 border-t",children:[i.jsxs("div",{children:[i.jsx(kt,{className:"text-xs",children:"Reverb"}),i.jsx(Ae,{value:[A.effects.reverb],onValueChange:V=>M(A.id,{effects:{...A.effects,reverb:V[0]}}),max:100})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-xs",children:"Delay"}),i.jsx(Ae,{value:[A.effects.delay],onValueChange:V=>M(A.id,{effects:{...A.effects,delay:V[0]}}),max:100})]}),i.jsxs("div",{children:[i.jsx(kt,{className:"text-xs",children:"Distortion"}),i.jsx(Ae,{value:[A.effects.distortion],onValueChange:V=>M(A.id,{effects:{...A.effects,distortion:V[0]}}),max:100})]})]})]})},A.id))})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(de,{className:"bg-gradient-to-br from-blue-900/20 to-purple-900/20",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(Ya,{className:"w-5 h-5"})," AI Mix Assistant"]})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsx(cs,{placeholder:"Describe your ideal mix... e.g., 'Make it punchy with deep bass and crisp highs, add reverb to melody'",value:b,onChange:A=>S(A.target.value),className:"min-h-[100px]"}),i.jsxs(ee,{onClick:I,className:"w-full",disabled:N.isPending,children:[i.jsx(Ya,{className:"w-4 h-4 mr-1"}),N.isPending?"Mixing...":"AI Mix & Master"]})]})]}),i.jsxs(de,{children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Master Controls"})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(kt,{children:["Master Volume: ",s,"%"]}),i.jsx(Ae,{value:[s],onValueChange:A=>r(A[0]),max:100,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsxs(kt,{children:["BPM: ",l]}),i.jsx(Ae,{value:[l],onValueChange:A=>u(A[0]),min:60,max:200,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(kt,{children:"Mix Name"}),i.jsx("input",{className:"w-full p-2 mt-1 bg-gray-800 rounded",value:m,onChange:A=>x(A.target.value)})]})]})]}),i.jsxs(de,{children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Quick Actions"})}),i.jsxs(ye,{className:"space-y-2",children:[i.jsxs(ee,{variant:"outline",className:"w-full justify-start",children:[i.jsx(fm,{className:"w-4 h-4 mr-2"})," Auto-Sync Layers"]}),i.jsxs(ee,{variant:"outline",className:"w-full justify-start",children:[i.jsx(sr,{className:"w-4 h-4 mr-2"})," Auto-Balance Volume"]}),i.jsxs(ee,{variant:"outline",className:"w-full justify-start",children:[i.jsx(Bt,{className:"w-4 h-4 mr-2"})," Quantize All"]})]})]})]})]})]})}function Q6(){const[n,e]=v.useState([{id:"1",name:"Kick Pattern",type:"drums",volume:[80],opacity:[100],active:!0,visible:!0,locked:!1,color:"bg-red-500"},{id:"2",name:"Bass Line",type:"bass",volume:[70],opacity:[85],active:!0,visible:!0,locked:!1,color:"bg-blue-500"},{id:"3",name:"Lead Melody",type:"melody",volume:[65],opacity:[90],active:!1,visible:!0,locked:!1,color:"bg-green-500"},{id:"4",name:"Pad Harmony",type:"harmony",volume:[45],opacity:[60],active:!1,visible:!0,locked:!1,color:"bg-purple-500"}]),[t,s]=v.useState(!1),r=(d,f,p)=>{e(m=>m.map(x=>x.id===d?{...x,[f]:p}:x))},l=()=>{const d={id:Date.now().toString(),name:`Layer ${n.length+1}`,type:"melody",volume:[75],opacity:[100],active:!1,visible:!0,locked:!1,color:"bg-gray-500"};e(f=>[...f,d])},u=d=>{e(f=>f.filter(p=>p.id!==d))},c=d=>{switch(d){case"drums":return"bg-red-100 text-red-800";case"bass":return"bg-blue-100 text-blue-800";case"melody":return"bg-green-100 text-green-800";case"harmony":return"bg-purple-100 text-purple-800";case"fx":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(zr,{className:"h-6 w-6"}),"Dynamic Layering"]})}),i.jsx(ye,{className:"h-full",children:i.jsxs("div",{className:"flex gap-6 h-full",children:[i.jsxs("div",{className:"w-1/2 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:"Audio Layers"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{size:"sm",onClick:l,children:i.jsx(_s,{className:"h-4 w-4"})}),i.jsx(ee,{size:"sm",variant:t?"default":"outline",onClick:()=>s(!t),children:t?i.jsx(Zr,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.map(d=>i.jsx(de,{className:`border-l-4 ${d.color.replace("bg-","border-")}`,children:i.jsxs(ye,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${d.color}`}),i.jsx("span",{className:"font-medium",children:d.name}),i.jsx(Te,{variant:"outline",className:c(d.type),children:d.type})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>r(d.id,"visible",!d.visible),children:d.visible?i.jsx(YT,{className:"h-3 w-3"}):i.jsx(KT,{className:"h-3 w-3"})}),i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>r(d.id,"locked",!d.locked),children:d.locked?i.jsx(rE,{className:"h-3 w-3"}):i.jsx(sE,{className:"h-3 w-3"})}),i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>u(d.id),disabled:d.locked,children:i.jsx(oE,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm w-12",children:"Active"}),i.jsx(qm,{checked:d.active,onCheckedChange:f=>r(d.id,"active",f),disabled:d.locked})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm w-16",children:"Volume"}),i.jsx(Ae,{value:d.volume,onValueChange:f=>r(d.id,"volume",f),max:100,min:0,step:1,className:"flex-1",disabled:d.locked}),i.jsx("span",{className:"text-sm w-8",children:d.volume[0]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm w-16",children:"Opacity"}),i.jsx(Ae,{value:d.opacity,onValueChange:f=>r(d.id,"opacity",f),max:100,min:0,step:1,className:"flex-1",disabled:d.locked}),i.jsxs("span",{className:"text-sm w-8",children:[d.opacity[0],"%"]})]})]})]})]})},d.id))})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Layer Timeline"}),i.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 h-96",children:[i.jsx("div",{className:"space-y-2",children:n.filter(d=>d.visible).map((d,f)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${d.color}`}),i.jsxs("div",{className:"flex-1 h-8 bg-gray-800 rounded relative overflow-hidden",children:[d.active&&i.jsx("div",{className:`h-full ${d.color} rounded`,style:{opacity:d.opacity[0]/100,width:`${d.volume[0]}%`}}),t&&d.active&&i.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})]}),i.jsx("span",{className:"text-xs text-gray-400 w-20",children:d.name})]},d.id))}),n.filter(d=>d.visible).length===0&&i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(zr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No visible layers"})]})})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{size:"sm",onClick:()=>e(d=>d.map(f=>({...f,active:!0}))),children:"Enable All"}),i.jsx(ee,{size:"sm",variant:"outline",onClick:()=>e(d=>d.map(f=>({...f,active:!1}))),children:"Disable All"}),i.jsx(ee,{size:"sm",variant:"outline",onClick:()=>e(d=>d.map(f=>({...f,volume:[75],opacity:[100]}))),children:"Reset Levels"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Active Layers: ",n.filter(d=>d.active).length," / ",n.length]})]})]})]})})]})})}function K6(){const[n,e]=v.useState([{id:"1",name:"MIDI Keyboard",type:"input",connected:!0,active:!0},{id:"2",name:"Drum Pad Controller",type:"input",connected:!1,active:!1},{id:"3",name:"Audio Interface",type:"output",connected:!0,active:!0}]),[t,s]=v.useState(!0),r=l=>{e(u=>u.map(c=>c.id===l?{...c,active:!c.active}:c))};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(U1,{className:"h-6 w-6"}),"MIDI Controller"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:"MIDI System"}),i.jsx(Te,{variant:t?"default":"secondary",children:t?"Enabled":"Disabled"})]}),i.jsxs(ee,{variant:t?"default":"outline",onClick:()=>s(!t),children:[i.jsx(aE,{className:"h-4 w-4 mr-2"}),t?"Disable":"Enable"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-4",children:"Connected Devices"}),i.jsx("div",{className:"space-y-3",children:n.map(l=>i.jsx(de,{className:"border",children:i.jsx(ye,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[l.connected?i.jsx(pE,{className:"h-4 w-4 text-green-500"}):i.jsx(fE,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"font-medium",children:l.name})]}),i.jsx(Te,{variant:"outline",children:l.type}),i.jsx(Te,{variant:l.connected?"default":"secondary",children:l.connected?"Connected":"Disconnected"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{size:"sm",variant:l.active?"default":"outline",onClick:()=>r(l.id),disabled:!l.connected||!t,children:l.active?"Active":"Inactive"}),i.jsx(ee,{size:"sm",variant:"ghost",children:i.jsx(Lo,{className:"h-4 w-4"})})]})]})})},l.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-4",children:"MIDI Monitor"}),i.jsx(de,{className:"bg-gray-900 text-green-400",children:i.jsx(ye,{className:"p-4",children:i.jsxs("div",{className:"font-mono text-sm space-y-1",children:[i.jsx("div",{children:"MIDI Input: Note On C4 Velocity 127"}),i.jsx("div",{children:"MIDI Input: Control Change CC1 Value 64"}),i.jsx("div",{children:"MIDI Input: Note Off C4 Velocity 0"}),i.jsx("div",{className:"text-gray-500",children:"Waiting for MIDI input..."})]})})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{variant:"outline",children:"Scan Devices"}),i.jsx(ee,{variant:"outline",children:"Reset MIDI"}),i.jsx(ee,{variant:"outline",children:"MIDI Settings"})]})]})})]})})}function Y6(){const[n,e]=v.useState([{label:"CPU Usage",value:45,unit:"%",status:"good"},{label:"Memory Usage",value:68,unit:"%",status:"warning"},{label:"Audio Latency",value:12,unit:"ms",status:"good"},{label:"Buffer Size",value:256,unit:"samples",status:"good"},{label:"Sample Rate",value:44100,unit:"Hz",status:"good"},{label:"Active Tracks",value:8,unit:"",status:"good"}]);v.useEffect(()=>{const r=setInterval(()=>{e(l=>l.map(u=>({...u,value:u.label==="CPU Usage"?Math.max(20,Math.min(90,u.value+(Math.random()-.5)*10)):u.label==="Memory Usage"?Math.max(30,Math.min(95,u.value+(Math.random()-.5)*8)):u.label==="Audio Latency"?Math.max(5,Math.min(50,u.value+(Math.random()-.5)*4)):u.value})))},2e3);return()=>clearInterval(r)},[]);const t=r=>{switch(r){case"good":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=r=>{switch(r){case"CPU Usage":return i.jsx(HT,{className:"h-4 w-4"});case"Memory Usage":return i.jsx(JT,{className:"h-4 w-4"});case"Audio Latency":return i.jsx(sr,{className:"h-4 w-4"});default:return i.jsx(u0,{className:"h-4 w-4"})}};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(u0,{className:"h-6 w-6"}),"Performance Metrics"]})}),i.jsxs(ye,{children:[i.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map(r=>i.jsx(de,{className:"border",children:i.jsxs(ye,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[s(r.label),i.jsx("span",{className:"font-medium text-sm",children:r.label})]}),i.jsx(Te,{variant:"outline",className:t(r.status),children:r.status})]}),i.jsxs("div",{className:"text-2xl font-bold",children:[r.value.toFixed(r.label==="Audio Latency"?1:0),i.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:r.unit})]}),r.unit==="%"&&i.jsx("div",{className:"mt-2",children:i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${r.status==="good"?"bg-green-500":r.status==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${r.value}%`}})})})]})},r.label))}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"System Information"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Audio Driver:"}),i.jsx("span",{className:"ml-2",children:"ASIO"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Audio Device:"}),i.jsx("span",{className:"ml-2",children:"Default Audio"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Bit Depth:"}),i.jsx("span",{className:"ml-2",children:"24-bit"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Buffer Size:"}),i.jsx("span",{className:"ml-2",children:"256 samples"})]})]})]})]})]})})}function X6(){const[n,e]=v.useState(!1),[t,s]=v.useState(0),[r,l]=v.useState([120]),[u,c]=v.useState(Array.from({length:16},(p,m)=>({id:m,active:!1,velocity:127,note:"C4"}))),d=p=>{c(m=>m.map(x=>x.id===p?{...x,active:!x.active}:x))},f=()=>{c(p=>p.map(m=>({...m,active:!1})))};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-6 w-6"}),"Output Sequencer"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ee,{variant:n?"default":"outline",onClick:()=>e(!n),children:n?i.jsx(Zr,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})}),i.jsx(ee,{variant:"outline",onClick:()=>s(0),children:i.jsx(ji,{className:"h-4 w-4"})}),i.jsx(ee,{variant:"outline",onClick:f,children:i.jsx(pm,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("span",{className:"text-sm",children:"BPM:"}),i.jsx(Ae,{value:r,onValueChange:l,max:200,min:60,step:1,className:"w-24"}),i.jsx("span",{className:"text-sm w-8",children:r[0]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-4",children:"Sequence Steps"}),i.jsx("div",{className:"grid grid-cols-16 gap-1",children:u.map(p=>i.jsx(ee,{variant:p.active?"default":"outline",className:`h-12 w-12 p-0 ${t===p.id&&n?"ring-2 ring-blue-500":""}`,onClick:()=>d(p.id),children:p.id+1},p.id))})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Te,{variant:"outline",children:["Active Steps: ",u.filter(p=>p.active).length]}),i.jsxs(Te,{variant:"outline",children:["Current: ",t+1,"/16"]})]})]})})]})})}function Z6(){const[n,e]=v.useState(!1),[t,s]=v.useState([50]),[r,l]=v.useState([75]),[u,c]=v.useState([50]),[d,f]=v.useState([0]),[p,m]=v.useState([25]);return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(zT,{className:"h-6 w-6"}),"Granular Engine"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-4",children:"Audio Source"}),i.jsxs(ee,{variant:"outline",className:"w-full",children:[i.jsx(bi,{className:"h-4 w-4 mr-2"}),"Load Audio File"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Grain Size"}),i.jsx(Ae,{value:t,onValueChange:s,max:200,min:1,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t[0],"ms"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Grain Density"}),i.jsx(Ae,{value:r,onValueChange:l,max:100,min:1,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r[0],"%"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Position"}),i.jsx(Ae,{value:u,onValueChange:c,max:100,min:0,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u[0],"%"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Pitch"}),i.jsx(Ae,{value:d,onValueChange:f,max:24,min:-24,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d[0]," semitones"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Spread"}),i.jsx(Ae,{value:p,onValueChange:m,max:100,min:0,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[p[0],"%"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{variant:n?"default":"outline",onClick:()=>e(!n),children:n?i.jsx(Zr,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})}),i.jsx(ee,{variant:"outline",children:i.jsx(pm,{className:"h-4 w-4"})})]})]})})]})})}function J6(){const[n,e]=v.useState(!1),[t,s]=v.useState("sine"),[r,l]=v.useState([440]),[u,c]=v.useState([75]),[d,f]=v.useState([0]),[p,m]=v.useState([0]),x=["sine","square","sawtooth","triangle","noise"];return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(H1,{className:"h-6 w-6"}),"Wavetable Oscillator"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Waveform"}),i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:x.map(b=>i.jsx(Oe,{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Frequency"}),i.jsx(Ae,{value:r,onValueChange:l,max:2e3,min:20,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r[0]," Hz"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Amplitude"}),i.jsx(Ae,{value:u,onValueChange:c,max:100,min:0,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u[0],"%"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Wavetable Position"}),i.jsx(Ae,{value:d,onValueChange:f,max:100,min:0,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d[0],"%"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Detune"}),i.jsx(Ae,{value:p,onValueChange:m,max:100,min:-100,step:1}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[p[0]," cents"]})]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(ee,{variant:n?"default":"outline",onClick:()=>e(!n),children:n?i.jsx(Zr,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})})})]})})]})})}function e8(){const[n,e]=v.useState("electronic"),[t,s]=v.useState(!1),[r,l]=v.useState([{id:"1",name:"Electronic Essentials",genre:"electronic",samples:24,size:"45.2 MB"},{id:"2",name:"Hip Hop Beats",genre:"hip-hop",samples:18,size:"32.1 MB"}]),u=["electronic","hip-hop","rock","pop","ambient","techno","house"],c=async()=>{s(!0),setTimeout(()=>{const d={id:Date.now().toString(),name:`${n.charAt(0).toUpperCase()+n.slice(1)} Pack ${r.length+1}`,genre:n,samples:Math.floor(Math.random()*20)+10,size:`${(Math.random()*50+20).toFixed(1)} MB`};l(f=>[d,...f]),s(!1)},3e3)};return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(wi,{className:"h-6 w-6"}),"Sample Pack Generator"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Genre"}),i.jsxs(wt,{value:n,onValueChange:e,children:[i.jsx(ft,{children:i.jsx(bt,{})}),i.jsx(pt,{children:u.map(d=>i.jsx(Oe,{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),i.jsx(ee,{onClick:c,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(fm,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Pack..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),"Generate Sample Pack"]})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-4",children:"Generated Packs"}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:r.map(d=>i.jsx(de,{className:"border",children:i.jsx(ye,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:d.name}),i.jsx(Te,{variant:"outline",children:d.genre})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[d.samples," samples • ",d.size]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee,{size:"sm",variant:"outline",children:i.jsx(Ht,{className:"h-3 w-3"})}),i.jsx(ee,{size:"sm",variant:"outline",children:i.jsx(Fo,{className:"h-3 w-3"})})]})]})})},d.id))}),r.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(wi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No packs generated yet"}),i.jsx("p",{className:"text-sm",children:"Generate your first sample pack above"})]})]})]})})]})})}class t8{constructor(){this.audioContext=null,this.masterBus=null,this.masterCompressor=null,this.masterLimiter=null,this.masterAnalyzer=null,this.channels=new Map,this.sendReturns=new Map,this.isInitialized=!1,this.sampleRate=44100,this.bufferSize=256,this.reverbBuffers=new Map,this.convolutionNodes=new Map,this.spectrumAnalyzer=null,this.spectrumData=null}async initialize(){if(!this.isInitialized)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.sampleRate=this.audioContext.sampleRate,console.log("🎛️ Professional Audio Engine - Initializing"),console.log(`   Sample Rate: ${this.sampleRate}Hz`),console.log(`   Buffer Size: ${this.bufferSize}`),this.audioContext.state==="suspended"&&await this.resumeAudioContext(),await this.createMasterBus(),await this.createDefaultSends(),await this.generateReverbImpulses(),this.initializeSpectrumAnalyzer(),this.isInitialized=!0,console.log("🎛️ Professional Audio Engine - Ready")}catch(e){throw console.error("Failed to initialize Professional Audio Engine:",e),e}}async resumeAudioContext(){if(!this.audioContext)return;const e=async()=>{if(this.audioContext&&this.audioContext.state==="suspended")try{await this.audioContext.resume(),console.log("🎛️ Audio context resumed")}catch(t){console.error("Failed to resume audio context:",t)}document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0)};document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0);try{await this.audioContext.resume()}catch{console.log("Audio context needs user interaction")}}async createMasterBus(){this.audioContext&&(this.masterBus=this.audioContext.createGain(),this.masterBus.gain.value=.8,this.masterCompressor=this.audioContext.createDynamicsCompressor(),this.masterCompressor.threshold.value=-18,this.masterCompressor.knee.value=12,this.masterCompressor.ratio.value=3,this.masterCompressor.attack.value=.008,this.masterCompressor.release.value=.2,this.masterLimiter=this.audioContext.createDynamicsCompressor(),this.masterLimiter.threshold.value=-1,this.masterLimiter.knee.value=0,this.masterLimiter.ratio.value=20,this.masterLimiter.attack.value=.001,this.masterLimiter.release.value=.05,this.masterAnalyzer=this.audioContext.createAnalyser(),this.masterAnalyzer.fftSize=2048,this.masterAnalyzer.smoothingTimeConstant=.8,this.masterBus.connect(this.masterCompressor),this.masterCompressor.connect(this.masterLimiter),this.masterLimiter.connect(this.masterAnalyzer),this.masterAnalyzer.connect(this.audioContext.destination),console.log("🎛️ Master bus created with professional processing chain"))}async createDefaultSends(){if(!this.audioContext)return;const e=await this.createSendReturn("hall","Hall Reverb","reverb");this.sendReturns.set("hall",e);const t=await this.createSendReturn("delay","Stereo Delay","delay");this.sendReturns.set("delay",t);const s=await this.createSendReturn("chorus","Vintage Chorus","chorus");this.sendReturns.set("chorus",s),console.log("🎛️ Default send returns created")}async createSendReturn(e,t,s){if(!this.audioContext||!this.masterBus)throw new Error("Audio context not initialized");const r=this.audioContext.createGain(),l=this.audioContext.createGain(),u=await this.createEffect(s);return r.connect(u.node),u.node.connect(l),l.connect(this.masterBus),{id:e,name:t,input:r,output:l,effect:u.effect,wetLevel:.5,return:.8}}async createEffect(e){if(!this.audioContext)throw new Error("Audio context not initialized");let t,s;switch(e){case"reverb":t=await this.createHallReverb(),s={id:"hall_reverb",name:"Hall Reverb",type:"reverb",bypass:!1,parameters:{roomSize:.7,decay:3.5,damping:.3,predelay:.02,wetLevel:.4}};break;case"delay":t=this.createStereoDelay(),s={id:"stereo_delay",name:"Stereo Delay",type:"delay",bypass:!1,parameters:{time:.25,feedback:.35,highCut:8e3,lowCut:200,wetLevel:.3}};break;case"chorus":t=this.createVintageChorus(),s={id:"vintage_chorus",name:"Vintage Chorus",type:"chorus",bypass:!1,parameters:{rate:.8,depth:.4,feedback:.1,mix:.5}};break;default:t=this.audioContext.createGain(),s={id:"bypass",name:"Bypass",type:"filter",bypass:!0,parameters:{}}}return{node:t,effect:s}}async createHallReverb(){if(!this.audioContext)throw new Error("Audio context not initialized");const e=this.audioContext.createConvolver();if(!this.reverbBuffers.has("hall")){const t=this.generateHallImpulse(3.5,.3);this.reverbBuffers.set("hall",t)}return e.buffer=this.reverbBuffers.get("hall"),this.convolutionNodes.set("hall",e),e}createStereoDelay(){if(!this.audioContext)throw new Error("Audio context not initialized");const e=this.audioContext.createGain(),t=this.audioContext.createGain(),s=this.audioContext.createDelay(1),r=this.audioContext.createDelay(1),l=this.audioContext.createGain(),u=this.audioContext.createGain(),c=this.audioContext.createBiquadFilter(),d=this.audioContext.createBiquadFilter();return s.delayTime.value=.25,r.delayTime.value=.375,l.gain.value=.35,u.gain.value=.35,c.type="lowpass",c.frequency.value=8e3,c.Q.value=.707,d.type="highpass",d.frequency.value=200,d.Q.value=.707,e.connect(s),e.connect(r),s.connect(d),d.connect(c),c.connect(l),l.connect(s),r.connect(d),u.connect(r),s.connect(t),r.connect(t),e.delayOutput=t,e}createVintageChorus(){if(!this.audioContext)throw new Error("Audio context not initialized");const e=this.audioContext.createGain(),t=this.audioContext.createGain(),s=this.audioContext.createGain(),r=this.audioContext.createGain(),l=this.audioContext.createDelay(.05),u=this.audioContext.createOscillator(),c=this.audioContext.createGain(),d=this.audioContext.createGain();return u.type="sine",u.frequency.value=.8,c.gain.value=.005,l.delayTime.value=.02,d.gain.value=.1,s.gain.value=.5,r.gain.value=.5,e.connect(r),e.connect(l),u.connect(c),c.connect(l.delayTime),l.connect(s),l.connect(d),d.connect(l),r.connect(t),s.connect(t),u.start(),e}generateHallImpulse(e,t){if(!this.audioContext)throw new Error("Audio context not initialized");const s=this.sampleRate*e,r=this.audioContext.createBuffer(2,s,this.sampleRate);for(let l=0;l<2;l++){const u=r.getChannelData(l);for(let c=0;c<s;c++){const d=c/this.sampleRate,f=Math.exp(-d*(5/e)),p=1-d/e*t;let m=0;m+=(Math.random()*2-1)*f*p,m+=Math.sin(d*440*Math.PI*2)*f*.1,m+=Math.sin(d*660*Math.PI*2)*f*.05,u[c]=m}}return r}async generateReverbImpulses(){const e=[{name:"hall",decay:3.5,damping:.3},{name:"room",decay:1.2,damping:.5},{name:"plate",decay:2.8,damping:.1},{name:"spring",decay:.8,damping:.7}];for(const t of e){const s=this.generateHallImpulse(t.decay,t.damping);this.reverbBuffers.set(t.name,s)}console.log("🎛️ Reverb impulses generated for all room types")}initializeSpectrumAnalyzer(){!this.audioContext||!this.masterAnalyzer||(this.spectrumAnalyzer=this.masterAnalyzer,this.spectrumData=new Uint8Array(this.spectrumAnalyzer.frequencyBinCount),console.log("🎛️ Spectrum analyzer initialized"))}createMixerChannel(e,t){if(!this.audioContext||!this.masterBus)throw new Error("Audio engine not initialized");const s=this.audioContext.createGain(),r=this.audioContext.createGain(),l=this.audioContext.createStereoPanner(),u=this.audioContext.createBiquadFilter(),c=this.audioContext.createBiquadFilter(),d=this.audioContext.createBiquadFilter(),f=this.audioContext.createBiquadFilter();u.type="lowshelf",u.frequency.value=100,u.gain.value=0,c.type="peaking",c.frequency.value=400,c.Q.value=1,c.gain.value=0,d.type="peaking",d.frequency.value=2500,d.Q.value=1,d.gain.value=0,f.type="highshelf",f.frequency.value=8e3,f.gain.value=0;const p=this.audioContext.createDynamicsCompressor();p.threshold.value=-24,p.knee.value=6,p.ratio.value=4,p.attack.value=.01,p.release.value=.25;const m=this.audioContext.createAnalyser();m.fftSize=256,m.smoothingTimeConstant=.3;const x={};Array.from(this.sendReturns.keys()).forEach(S=>{const w=this.audioContext.createGain();w.gain.value=0,x[S]=w,r.connect(w),w.connect(this.sendReturns.get(S).input)}),s.connect(u),u.connect(c),c.connect(d),d.connect(f),f.connect(p),p.connect(l),l.connect(r),r.connect(m),m.connect(this.masterBus);const b={id:e,name:t,input:s,output:r,volume:.8,pan:0,muted:!1,solo:!1,eq:{lowShelf:u,lowMid:c,highMid:d,highShelf:f},compressor:p,effects:[],sends:x,analyzer:m,peakMeter:0,rmsLevel:0};return this.channels.set(e,b),console.log(`🎛️ Mixer channel created: ${t}`),b}setChannelVolume(e,t){const s=this.channels.get(e);s&&(s.volume=Math.max(0,Math.min(1,t)),s.output.gain.value=s.volume)}setChannelPan(e,t){const s=this.channels.get(e);s&&(s.pan=Math.max(-1,Math.min(1,t)))}setChannelEQ(e,t,s){const r=this.channels.get(e);if(!r)return;const l=Math.max(-15,Math.min(15,s));switch(t){case"low":r.eq.lowShelf.gain.value=l;break;case"lowMid":r.eq.lowMid.gain.value=l;break;case"highMid":r.eq.highMid.gain.value=l;break;case"high":r.eq.highShelf.gain.value=l;break}}setSendLevel(e,t,s){const l=this.channels.get(e)?.sends[t];l&&(l.gain.value=Math.max(0,Math.min(1,s)))}muteChannel(e,t){const s=this.channels.get(e);s&&(s.muted=t,s.output.gain.value=t?0:s.volume)}soloChannel(e,t){const s=this.channels.get(e);if(!s)return;s.solo=t;const r=Array.from(this.channels.values()).filter(l=>l.solo);Array.from(this.channels.values()).forEach(l=>{r.length===0?l.output.gain.value=l.muted?0:l.volume:l.output.gain.value=l.solo&&!l.muted?l.volume:0})}getChannelMeters(e){const t=this.channels.get(e);if(!t)return{peak:0,rms:0};const s=new Uint8Array(t.analyzer.frequencyBinCount);t.analyzer.getByteFrequencyData(s);let r=0,l=0;for(let u=0;u<s.length;u++){const c=s[u]/255;r=Math.max(r,c),l+=c*c}return l=Math.sqrt(l/s.length),t.peakMeter=r,t.rmsLevel=l,{peak:r,rms:l}}getMasterSpectrum(){return!this.spectrumAnalyzer||!this.spectrumData?null:(this.spectrumAnalyzer.getByteFrequencyData(this.spectrumData),new Uint8Array(this.spectrumData))}getChannels(){return Array.from(this.channels.values())}getSendReturns(){return Array.from(this.sendReturns.values())}connectToChannel(e,t){const s=this.channels.get(e);s&&t.connect(s.input)}disconnect(){Array.from(this.channels.values()).forEach(e=>{try{e.input.disconnect(),e.output.disconnect()}catch{}}),this.channels.clear(),this.sendReturns.clear(),this.masterBus&&this.masterBus.disconnect(),console.log("🎛️ Professional Audio Engine disconnected")}}const Hn=new t8;function n8(){const{toast:n}=ar(),[e,t]=v.useState({channels:[],sends:[],masterLevel:.8,masterMeters:{peak:0,rms:0},spectrum:[],isInitialized:!1}),[s,r]=v.useState(null),[l,u]=v.useState(new Map),[c,d]=v.useState(!1),[f,p]=v.useState("channels"),m=v.useRef(),x=v.useRef(null);v.useEffect(()=>((async()=>{try{await Hn.initialize();const D=[{id:"drums",name:"Drums",color:"#ef4444"},{id:"bass",name:"Bass",color:"#8b5cf6"},{id:"keys",name:"Keys",color:"#3b82f6"},{id:"guitar",name:"Guitar",color:"#f59e0b"},{id:"vocals",name:"Vocals",color:"#10b981"},{id:"fx",name:"FX",color:"#ec4899"},{id:"master",name:"Master",color:"#6b7280"}].map(A=>Hn.createMixerChannel(A.id,A.name));t({channels:D,sends:Hn.getSendReturns(),masterLevel:.8,masterMeters:{peak:0,rms:0},spectrum:[],isInitialized:!0}),n({title:"Professional Audio Engine Initialized",description:"World-class mixing console ready for production"}),b()}catch(k){console.error("Failed to initialize professional audio:",k),n({title:"Audio Initialization Failed",description:"Please check your audio settings and try again",variant:"destructive"})}})(),()=>{S(),Hn.disconnect()}),[n]);const b=v.useCallback(()=>{const j=()=>{if(!e.isInitialized)return;const k=new Map;e.channels.forEach(A=>{const V=Hn.getChannelMeters(A.id);k.set(A.id,{peak:V.peak,rms:V.rms,spectrum:[]})}),u(k);const D=Hn.getMasterSpectrum();if(D){const A=Array.from(D);t(V=>({...V,spectrum:A,masterMeters:{peak:Math.max(...A)/255,rms:Math.sqrt(A.reduce((B,Z)=>B+(Z/255)**2,0)/A.length)}})),w(A)}m.current=requestAnimationFrame(j)};j()},[e.isInitialized]),S=v.useCallback(()=>{m.current&&cancelAnimationFrame(m.current)},[]),w=j=>{const k=x.current;if(!k)return;const D=k.getContext("2d");if(!D)return;const A=k.width,V=k.height;D.fillStyle="#0f172a",D.fillRect(0,0,A,V);const B=A/j.length;for(let Z=0;Z<j.length;Z++){const z=j[Z]/255*V,H=Z/j.length*360;D.fillStyle=`hsl(${H}, 70%, 50%)`,D.fillRect(Z*B,V-z,B-1,z)}},C=(j,k)=>{Hn.setChannelVolume(j,k[0]/100)},N=(j,k)=>{Hn.setChannelPan(j,(k[0]-50)/50)},E=(j,k,D)=>{Hn.setChannelEQ(j,k,(D[0]-50)/5)},T=(j,k)=>{Hn.muteChannel(j,k),t(D=>({...D,channels:D.channels.map(A=>A.id===j?{...A,muted:k}:A)}))},M=(j,k)=>{Hn.soloChannel(j,k),t(D=>({...D,channels:D.channels.map(A=>A.id===j?{...A,solo:k}:A)}))},R=(j,k,D)=>{Hn.setSendLevel(j,k,D[0]/100)},I=j=>{const k=l.get(j.id)||{peak:0,rms:0},D=s===j.id;return i.jsxs(de,{className:`w-20 h-full transition-all ${D?"ring-2 ring-blue-500 bg-gray-800":"bg-gray-900"}`,children:[i.jsx(Me,{className:"p-2 pb-1",children:i.jsx(Pe,{className:"text-xs text-center truncate",children:j.name})}),i.jsxs(ye,{className:"p-2 space-y-2",children:[i.jsxs("div",{className:"h-24 bg-gray-800 rounded relative overflow-hidden",children:[i.jsx("div",{className:"absolute bottom-0 left-1 w-2 bg-green-500 transition-all",style:{height:`${k.rms*100}%`}}),i.jsx("div",{className:"absolute bottom-0 right-1 w-2 bg-red-500 transition-all",style:{height:`${k.peak*100}%`}}),i.jsxs("div",{className:"absolute top-1 left-0 right-0 text-center",children:[i.jsx("div",{className:"text-[8px] text-gray-400",children:"RMS"}),i.jsx("div",{className:"text-[8px] text-gray-400",children:"PK"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-[8px] text-gray-400 text-center",children:"EQ"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx(Ae,{orientation:"vertical",value:[50],onValueChange:A=>E(j.id,"high",A),min:0,max:100,className:"h-8","data-testid":`eq-high-${j.id}`}),i.jsx(Ae,{orientation:"vertical",value:[50],onValueChange:A=>E(j.id,"highMid",A),min:0,max:100,className:"h-8","data-testid":`eq-highmid-${j.id}`}),i.jsx(Ae,{orientation:"vertical",value:[50],onValueChange:A=>E(j.id,"lowMid",A),min:0,max:100,className:"h-8","data-testid":`eq-lowmid-${j.id}`}),i.jsx(Ae,{orientation:"vertical",value:[50],onValueChange:A=>E(j.id,"low",A),min:0,max:100,className:"h-8","data-testid":`eq-low-${j.id}`})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-[8px] text-gray-400 text-center",children:"SENDS"}),i.jsx("div",{className:"flex justify-between",children:e.sends.slice(0,3).map((A,V)=>i.jsx(Ae,{orientation:"vertical",value:[0],onValueChange:B=>R(j.id,A.id,B),min:0,max:100,className:"h-6 w-3","data-testid":`send-${A.id}-${j.id}`},A.id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[8px] text-gray-400 text-center",children:"PAN"}),i.jsx(Ae,{value:[50],onValueChange:A=>N(j.id,A),min:0,max:100,className:"w-full","data-testid":`pan-${j.id}`})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(ee,{size:"sm",variant:j.muted?"destructive":"outline",className:"text-xs px-1 py-0 h-6",onClick:()=>T(j.id,!j.muted),"data-testid":`mute-${j.id}`,children:"M"}),i.jsx(ee,{size:"sm",variant:j.solo?"default":"outline",className:"text-xs px-1 py-0 h-6",onClick:()=>M(j.id,!j.solo),"data-testid":`solo-${j.id}`,children:"S"})]}),i.jsx("div",{className:"h-32 flex justify-center",children:i.jsx(Ae,{orientation:"vertical",value:[j.volume*100],onValueChange:A=>C(j.id,A),min:0,max:100,className:"h-full","data-testid":`volume-${j.id}`})}),i.jsx("div",{className:"text-[8px] text-gray-400 text-center",children:Math.round(j.volume*100)})]})]},j.id)};return e.isInitialized?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-heading font-bold text-white flex items-center gap-2",children:[i.jsx(mm,{className:"h-6 w-6 text-blue-500"}),"Professional Mixer"]}),i.jsx("p",{className:"text-gray-400",children:"World-class mixing console with real-time processing"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Te,{variant:"outline",className:"text-green-400 border-green-400",children:[i.jsx(H1,{className:"h-3 w-3 mr-1"}),"Live"]}),i.jsx(ee,{variant:c?"destructive":"default",onClick:()=>d(!c),"data-testid":"transport-play",children:c?i.jsx(ji,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})})]})]}),i.jsxs(Fi,{value:f,onValueChange:p,children:[i.jsxs(si,{className:"grid w-full grid-cols-4",children:[i.jsx(mt,{value:"channels",children:"Channels"}),i.jsx(mt,{value:"sends",children:"Send Returns"}),i.jsx(mt,{value:"master",children:"Master Section"}),i.jsx(mt,{value:"analyzer",children:"Spectrum"})]}),i.jsx(gt,{value:"channels",className:"space-y-4",children:i.jsxs(de,{children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"h-5 w-5"}),"Channel Strips"]})}),i.jsx(ye,{children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4",children:e.channels.map(I)})})]})}),i.jsx(gt,{value:"sends",className:"space-y-4",children:i.jsxs(de,{children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(hE,{className:"h-5 w-5"}),"Send Returns & Effects"]})}),i.jsx(ye,{className:"space-y-4",children:e.sends.map(j=>i.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"font-medium",children:j.name}),i.jsx(Te,{variant:"secondary",children:j.effect?.type})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Return Level"}),i.jsx(Ae,{value:[j.return*100],onValueChange:k=>{},min:0,max:100})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Wet Level"}),i.jsx(Ae,{value:[j.wetLevel*100],onValueChange:k=>{},min:0,max:100})]})]})]},j.id))})]})}),i.jsx(gt,{value:"master",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(de,{children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(dE,{className:"h-5 w-5"}),"Master Section"]})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Master Level"}),i.jsx(Ae,{value:[e.masterLevel*100],onValueChange:j=>t(k=>({...k,masterLevel:j[0]/100})),min:0,max:100,"data-testid":"master-volume"})]}),i.jsx("div",{className:"h-32 bg-gray-800 rounded p-2 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-400",children:"MASTER METERS"}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("div",{className:"w-4 h-24 bg-gray-700 rounded overflow-hidden",children:i.jsx("div",{className:"w-full bg-green-500 transition-all",style:{height:`${e.masterMeters.rms*100}%`,marginTop:`${100-e.masterMeters.rms*100}%`}})}),i.jsx("div",{className:"w-4 h-24 bg-gray-700 rounded overflow-hidden",children:i.jsx("div",{className:"w-full bg-red-500 transition-all",style:{height:`${e.masterMeters.peak*100}%`,marginTop:`${100-e.masterMeters.peak*100}%`}})})]})]})})]})]}),i.jsxs(de,{children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-5 w-5"}),"Master Processing"]})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Master Compressor"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Threshold"}),i.jsx(Ae,{value:[82],min:0,max:100})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Ratio"}),i.jsx(Ae,{value:[30],min:0,max:100})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-400",children:"Master Limiter"}),i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Ceiling"}),i.jsx(Ae,{value:[99],min:0,max:100})]})]})]})]})]})}),i.jsx(gt,{value:"analyzer",className:"space-y-4",children:i.jsxs(de,{children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(cm,{className:"h-5 w-5"}),"Real-time Spectrum Analyzer"]})}),i.jsxs(ye,{children:[i.jsx("canvas",{ref:x,width:800,height:300,className:"w-full border border-gray-700 rounded bg-gray-900"}),i.jsx("div",{className:"mt-2 text-center text-sm text-gray-400",children:"Professional spectrum analysis with real-time frequency visualization"})]})]})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(rr,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-500"}),i.jsx("div",{children:"Initializing Professional Audio Engine..."}),i.jsx("div",{className:"text-sm text-gray-400",children:"Loading world-class mixing console"})]})})}function s8(){const[n,e]=v.useState([{id:"1",name:"Intro",type:"intro",duration:16,bars:8,color:"bg-blue-500"},{id:"2",name:"Verse 1",type:"verse",duration:32,bars:16,color:"bg-green-500"},{id:"3",name:"Chorus",type:"chorus",duration:32,bars:16,color:"bg-red-500"},{id:"4",name:"Verse 2",type:"verse",duration:32,bars:16,color:"bg-green-500"},{id:"5",name:"Chorus",type:"chorus",duration:32,bars:16,color:"bg-red-500"}]),[t,s]=v.useState(null),r=p=>{const m={id:Date.now().toString(),name:p.charAt(0).toUpperCase()+p.slice(1),type:p,duration:32,bars:16,color:d(p)};e(x=>[...x,m])},l=p=>{e(m=>m.filter(x=>x.id!==p))},u=(p,m)=>{e(x=>{const b=x.findIndex(C=>C.id===p);if(b===-1)return x;const S=m==="up"?b-1:b+1;if(S<0||S>=x.length)return x;const w=[...x];return[w[b],w[S]]=[w[S],w[b]],w})},c=p=>{const m=n.find(b=>b.id===p);if(!m)return;const x={...m,id:Date.now().toString(),name:`${m.name} (Copy)`};e(b=>[...b,x])},d=p=>{switch(p){case"intro":return"bg-blue-500";case"verse":return"bg-green-500";case"chorus":return"bg-red-500";case"bridge":return"bg-purple-500";case"outro":return"bg-gray-500";case"breakdown":return"bg-yellow-500";default:return"bg-gray-500"}},f=()=>n.reduce((p,m)=>p+m.duration,0);return i.jsx("div",{className:"h-full w-full p-6 bg-gray-50",children:i.jsxs(de,{className:"h-full",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(mu,{className:"h-6 w-6"}),"Song Structure Manager"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"flex gap-6 h-full",children:[i.jsxs("div",{className:"w-1/2 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:"Song Sections"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",f(),"s (",Math.ceil(f()/60),":",String(f()%60).padStart(2,"0"),")"]})]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.map((p,m)=>i.jsx(de,{className:`border-l-4 ${p.color.replace("bg-","border-")}`,children:i.jsxs(ye,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${p.color}`}),i.jsx("span",{className:"font-medium",children:p.name}),i.jsx(Te,{variant:"outline",children:p.type})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>u(p.id,"up"),disabled:m===0,children:i.jsx(LT,{className:"h-3 w-3"})}),i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>u(p.id,"down"),disabled:m===n.length-1,children:i.jsx(FT,{className:"h-3 w-3"})}),i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>c(p.id),children:i.jsx(UT,{className:"h-3 w-3"})}),i.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>l(p.id),children:i.jsx(Y1,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[i.jsxs("span",{children:[p.bars," bars"]}),i.jsxs("span",{children:[p.duration,"s"]}),i.jsxs(ee,{size:"sm",variant:t===p.id?"default":"outline",onClick:()=>s(p.id),children:[i.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Play"]})]})]})},p.id))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium",children:"Add Section:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(ee,{size:"sm",onClick:()=>r("intro"),children:[i.jsx(_s,{className:"h-3 w-3 mr-1"}),"Intro"]}),i.jsxs(ee,{size:"sm",onClick:()=>r("verse"),children:[i.jsx(_s,{className:"h-3 w-3 mr-1"}),"Verse"]}),i.jsxs(ee,{size:"sm",onClick:()=>r("chorus"),children:[i.jsx(_s,{className:"h-3 w-3 mr-1"}),"Chorus"]}),i.jsxs(ee,{size:"sm",onClick:()=>r("bridge"),children:[i.jsx(_s,{className:"h-3 w-3 mr-1"}),"Bridge"]}),i.jsxs(ee,{size:"sm",onClick:()=>r("breakdown"),children:[i.jsx(_s,{className:"h-3 w-3 mr-1"}),"Breakdown"]}),i.jsxs(ee,{size:"sm",onClick:()=>r("outro"),children:[i.jsx(_s,{className:"h-3 w-3 mr-1"}),"Outro"]})]})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Structure Timeline"}),i.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 h-96",children:[i.jsx("div",{className:"space-y-1",children:n.map((p,m)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 text-xs text-gray-400",children:m+1}),i.jsx("div",{className:`flex-1 h-8 ${p.color} rounded flex items-center px-3 text-white text-sm font-medium cursor-pointer hover:opacity-80`,style:{width:`${p.duration/f()*100}%`},onClick:()=>s(p.id),children:p.name}),i.jsxs("div",{className:"w-12 text-xs text-gray-400",children:[p.duration,"s"]})]},p.id))}),n.length===0&&i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(mu,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No sections added"}),i.jsx("p",{className:"text-sm",children:"Add sections to build your song structure"})]})})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Quick Templates"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{size:"sm",variant:"outline",children:"Pop Structure"}),i.jsx(ee,{size:"sm",variant:"outline",children:"Rock Structure"}),i.jsx(ee,{size:"sm",variant:"outline",children:"Electronic"}),i.jsx(ee,{size:"sm",variant:"outline",children:"Custom"})]})]})]})]})})]})})}function r8(){const[n,e]=v.useState(!1),[t,s]=v.useState(!1),[r,l]=v.useState(!1);v.useEffect(()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent);e(c),c&&(()=>{try{new(window.AudioContext||window.webkitAudioContext)().state==="suspended"?l(!0):s(!0)}catch{console.warn("AudioContext not supported")}})()},[]);const u=async()=>{try{const c=new(window.AudioContext||window.webkitAudioContext);c.state==="suspended"&&await c.resume();const d=c.createOscillator(),f=c.createGain();d.connect(f),f.connect(c.destination),f.gain.setValueAtTime(0,c.currentTime),d.frequency.setValueAtTime(440,c.currentTime),d.start(c.currentTime),d.stop(c.currentTime+.1),s(!0),l(!1)}catch(c){console.error("Failed to enable audio:",c)}};return!n||t||!r?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx(de,{className:"w-full max-w-md",children:i.jsxs(ye,{className:"p-6 text-center",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(cE,{className:"h-12 w-12 mx-auto mb-2 text-blue-500"}),i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Enable Audio"}),i.jsx("p",{className:"text-sm text-gray-600",children:"iOS requires user interaction to enable audio. Tap the button below to activate audio for the music studio."})]}),i.jsxs(ee,{onClick:u,className:"w-full",children:[i.jsx(sr,{className:"h-4 w-4 mr-2"}),"Enable Audio"]})]})})})}function i8({activeTab:n,onTabChange:e}){const t=[{id:"beatmaker",icon:"fas fa-drum",label:"Beats"},{id:"melody",icon:"fas fa-music",label:"Melody"},{id:"codebeat",icon:"fas fa-exchange-alt",label:"Code→Music"},{id:"musiccode",icon:"fas fa-code-branch",label:"Music→Code"},{id:"assistant",icon:"fas fa-robot",label:"AI"},{id:"security",icon:"fas fa-shield-alt",label:"Security"}];return i.jsx("div",{className:"mobile-nav md:hidden",children:t.map(s=>i.jsxs("button",{onClick:()=>e(s.id),className:`mobile-nav-item ${n===s.id?"active":""}`,title:s.label,children:[i.jsx("i",{className:`${s.icon} text-sm mb-1`}),i.jsx("span",{className:"text-[10px]",children:s.label})]},s.id))})}const o8=v.createContext(void 0);function a8({children:n}){const[e,t]=v.useState([]),s=v.useCallback((l,u)=>{const c={id:`ai-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,content:l,timestamp:new Date,source:u};console.log("🎵 Adding AI message via context:",c.id,u),t(d=>[...d,c])},[]),r=v.useCallback(()=>{t([])},[]);return i.jsx(o8.Provider,{value:{addMessage:s,messages:e,clearMessages:r},children:n})}const Dd=v.createContext({currentPattern:{},currentMelody:[],currentLyrics:"",currentCodeMusic:{},currentLayers:[],isPlaying:!1,bpm:120,playMode:"current",setPlayMode:n=>{},activeTab:"beatmaker",currentPlaylist:null,setCurrentPlaylist:n=>{},currentPlaylistIndex:0,setCurrentPlaylistIndex:n=>{},setCurrentPattern:n=>{},setCurrentMelody:n=>{},setCurrentLyrics:n=>{},setCurrentCodeMusic:n=>{},setCurrentLayers:n=>{},playCurrentAudio:()=>Promise.resolve(),stopCurrentAudio:()=>{},playFullSong:()=>Promise.resolve(),stopFullSong:()=>{}});function Ze(){const[n]=Jp(),e=Q=>Q.includes("/code-translator")?"translator":Q.includes("/beat-studio")?"beatmaker":Q.includes("/melody-composer")?"melody":Q.includes("/unified-studio")?"unified-studio":Q.includes("/codebeat-studio")?"codebeat":Q.includes("/music-studio")?"unified-studio":Q.includes("/professional-mixer")?"professionalmixer":Q.includes("/song-uploader")||Q.includes("/ai-assistant")?"assistant":Q.includes("/vulnerability-scanner")?"security":Q.includes("/lyric-lab")?"lyrics":Q.includes("/pack-generator")?"pack-generator":Q.includes("/advanced-sequencer")?"advanced-sequencer":Q.includes("/granular-engine")?"granular-engine":Q.includes("/wavetable-oscillator")?"wavetable-oscillator":Q.includes("/song-structure")?"song-structure":Q.includes("/mix-studio")?"mix-studio":Q.includes("/pro-console")?"professionalmixer":Q.includes("/midi-controller")?"midi":"unified-studio",[t,s]=v.useState(()=>e(n));v.useEffect(()=>{s(e(n))},[n]);const[r,l]=v.useState({}),[u,c]=v.useState([]),[d,f]=v.useState(""),[p,m]=v.useState({}),[x,b]=v.useState([]),[S,w]=v.useState(!1),[C,N]=v.useState(120),[E,T]=v.useState("current"),[M,R]=v.useState(null),[I,j]=v.useState(0),{initialize:k,isInitialized:D}=El();v.useEffect(()=>{const Q=$=>{const q=$.detail;s(q)};return window.addEventListener("navigateToTab",Q),()=>{window.removeEventListener("navigateToTab",Q)}},[]);const A=async()=>{switch(D||await k(),console.log(`🎵 Playing current tool only: ${t}`),t){case"beatmaker":console.log("🎵 Playing beat pattern only:",r);break;case"melody":console.log("🎵 Playing melody only:",u),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("playCurrentMelody"));break;case"unified-studio":console.log("🎵 Playing unified composition:",{pattern:r,melody:u}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("playUnifiedComposition"));break;case"codebeat":console.log("🎵 Playing code-to-music only:",p);break;case"lyrics":console.log("🎵 Playing lyrics only:",d);break;case"assistant":if(console.log("🎵 Playing uploaded song:",M),M&&M.songs&&M.songs.length>0){const Q=M.songs[I];console.log("🎵 Playing playlist song:",Q)}break;default:console.log("🎵 Playing default audio for:",t);break}w(!0)},V=()=>{w(!1)},B=Q=>({translator:"Code Translator",beatmaker:"Beat Maker",melody:"Melody Composer",codebeat:"Code to Music",musiccode:"Music to Code",assistant:"Song Uploader & AI Assistant",security:"Security Scanner",lyrics:"Lyric Lab","unified-studio":"🎵 Music Studio","mix-studio":"Music Mixer",professionalmixer:"Professional Audio Console",layers:"Dynamic Layering",midi:"MIDI Controller",metrics:"Performance Metrics","advanced-sequencer":"Advanced Sequencer","granular-engine":"Granular Engine","wavetable-oscillator":"Wavetable Oscillator","pack-generator":"Pack Generator","song-structure":"Song Structure Manager"})[Q]||"Beat Maker",H={currentPattern:r,currentMelody:u,currentLyrics:d,currentCodeMusic:p,currentLayers:x,isPlaying:S,bpm:C,playMode:E,setPlayMode:T,activeTab:t,currentPlaylist:M,setCurrentPlaylist:R,currentPlaylistIndex:I,setCurrentPlaylistIndex:j,setCurrentPattern:l,setCurrentMelody:c,setCurrentLyrics:f,setCurrentCodeMusic:m,setCurrentLayers:b,playCurrentAudio:A,stopCurrentAudio:V,playFullSong:async()=>{D||await k(),console.log("🎵 Playing ALL tools combined:"),console.log("- Beat Pattern:",r),console.log("- Melody:",u),console.log("- Lyrics:",d),console.log("- Code Music:",p),console.log("- Layers:",x),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("playAllTools",{detail:{pattern:r,melody:u,lyrics:d,codeMusic:p,layers:x,playlist:M,playlistIndex:I,bpm:C}})),w(!0)},stopFullSong:()=>{w(!1)}},X=()=>{switch(t){case"translator":return i.jsx(GL,{});case"beatmaker":return i.jsx(kw,{onBeatGenerated:Q=>l(Q)});case"melody":return i.jsx(y6,{});case"unified-studio":return i.jsx(w6,{});case"codebeat":return i.jsx(O6,{});case"musiccode":return i.jsx(I6,{});case"assistant":return i.jsx(D6,{});case"security":return i.jsx($6,{});case"lyrics":return i.jsx(W6,{});case"professionalmixer":return i.jsx(n8,{});case"layers":return i.jsx(Q6,{});case"midi":return i.jsx(K6,{});case"metrics":return i.jsx(Y6,{});case"advanced-sequencer":return i.jsx(X6,{});case"granular-engine":return i.jsx(Z6,{});case"wavetable-oscillator":return i.jsx(J6,{});case"pack-generator":return i.jsx(e8,{});case"song-structure":return i.jsx(s8,{});case"mix-studio":return i.jsx(H6,{});default:return i.jsx(kw,{})}};return i.jsx(a8,{children:i.jsx(Dd.Provider,{value:H,children:i.jsxs("div",{className:"h-screen flex bg-studio-bg text-white",children:[i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(xI,{}),i.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto pb-16 md:pb-0",children:i.jsx("div",{className:"min-w-[1600px] p-3 md:p-6 studio-content",children:X()})}),i.jsx(qL,{currentTool:B(t),activeTab:t})]}),i.jsx(i8,{activeTab:t,onTabChange:Q=>s(Q)}),i.jsx(r8,{})]})})})}var up={exports:{}},dp,Rw;function l8(){if(Rw)return dp;Rw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dp=n,dp}var hp,Mw;function c8(){if(Mw)return hp;Mw=1;var n=l8();function e(){}function t(){}return t.resetWarningCache=e,hp=function(){function s(u,c,d,f,p,m){if(m!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function r(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},hp}var Pw;function u8(){return Pw||(Pw=1,up.exports=c8()()),up.exports}var d8=u8();const _t=$u(d8);function Ow(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function Iw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ow(Object(t),!0).forEach(function(s){kj(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ow(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function hu(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(e){return typeof e}:hu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(n)}function kj(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h8(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,l;for(l=0;l<s.length;l++)r=s[l],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function f8(n,e){if(n==null)return{};var t=h8(n,e),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)s=l[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function p8(n,e){return m8(n)||g8(n,e)||x8(n,e)||v8()}function m8(n){if(Array.isArray(n))return n}function g8(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var s=[],r=!0,l=!1,u,c;try{for(t=t.call(n);!(r=(u=t.next()).done)&&(s.push(u.value),!(e&&s.length===e));r=!0);}catch(d){l=!0,c=d}finally{try{!r&&t.return!=null&&t.return()}finally{if(l)throw c}}return s}}function x8(n,e){if(n){if(typeof n=="string")return Dw(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dw(n,e)}}function Dw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function v8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var On=function(e,t,s){var r=!!s,l=ot.useRef(s);ot.useEffect(function(){l.current=s},[s]),ot.useEffect(function(){if(!r||!e)return function(){};var u=function(){l.current&&l.current.apply(l,arguments)};return e.on(t,u),function(){e.off(t,u)}},[r,t,e,l])},y8=function(e){var t=ot.useRef(e);return ot.useEffect(function(){t.current=e},[e]),t.current},Gu=function(e){return e!==null&&hu(e)==="object"},Vw="[object Object]",w8=function n(e,t){if(!Gu(e)||!Gu(t))return e===t;var s=Array.isArray(e),r=Array.isArray(t);if(s!==r)return!1;var l=Object.prototype.toString.call(e)===Vw,u=Object.prototype.toString.call(t)===Vw;if(l!==u)return!1;if(!l&&!s)return e===t;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var f={},p=0;p<c.length;p+=1)f[c[p]]=!0;for(var m=0;m<d.length;m+=1)f[d[m]]=!0;var x=Object.keys(f);if(x.length!==c.length)return!1;var b=e,S=t,w=function(N){return n(b[N],S[N])};return x.every(w)},b8=function(e,t,s){return Gu(e)?Object.keys(e).reduce(function(r,l){var u=!Gu(t)||!w8(e[l],t[l]);return s.includes(l)?(u&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),r):u?Iw(Iw({},r||{}),{},kj({},l,e[l])):r},null):null},Aj=ot.createContext(null);Aj.displayName="ElementsContext";var C8=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};_t.any,_t.object;_t.func.isRequired;var Tj=ot.createContext(null);Tj.displayName="CheckoutSdkContext";var S8=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},_8=ot.createContext(null);_8.displayName="CheckoutContext";_t.any,_t.shape({fetchClientSecret:_t.func.isRequired,elementsOptions:_t.object}).isRequired;var Fw=function(e){var t=ot.useContext(Tj),s=ot.useContext(Aj);if(t&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?S8(t,e):C8(s,e)},N8=["mode"],j8=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},It=function(e,t){var s="".concat(j8(e),"Element"),r=function(d){var f=d.id,p=d.className,m=d.options,x=m===void 0?{}:m,b=d.onBlur,S=d.onFocus,w=d.onReady,C=d.onChange,N=d.onEscape,E=d.onClick,T=d.onLoadError,M=d.onLoaderStart,R=d.onNetworksChange,I=d.onConfirm,j=d.onCancel,k=d.onShippingAddressChange,D=d.onShippingRateChange,A=Fw("mounts <".concat(s,">")),V="elements"in A?A.elements:null,B="checkoutSdk"in A?A.checkoutSdk:null,Z=ot.useState(null),z=p8(Z,2),H=z[0],X=z[1],Q=ot.useRef(null),$=ot.useRef(null);On(H,"blur",b),On(H,"focus",S),On(H,"escape",N),On(H,"click",E),On(H,"loaderror",T),On(H,"loaderstart",M),On(H,"networkschange",R),On(H,"confirm",I),On(H,"cancel",j),On(H,"shippingaddresschange",k),On(H,"shippingratechange",D),On(H,"change",C);var q;w&&(e==="expressCheckout"?q=w:q=function(){w(H)}),On(H,"ready",q),ot.useLayoutEffect(function(){if(Q.current===null&&$.current!==null&&(V||B)){var O=null;if(B)switch(e){case"payment":O=B.createPaymentElement(x);break;case"address":if("mode"in x){var Y=x.mode,he=f8(x,N8);if(Y==="shipping")O=B.createShippingAddressElement(he);else if(Y==="billing")O=B.createBillingAddressElement(he);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":O=B.createExpressCheckoutElement(x);break;case"currencySelector":O=B.createCurrencySelectorElement();break;case"taxId":O=B.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(O=V.create(e,x));Q.current=O,X(O),O&&O.mount($.current)}},[V,B,x]);var W=y8(x);return ot.useEffect(function(){if(Q.current){var O=b8(x,W,["paymentRequest"]);O&&"update"in Q.current&&Q.current.update(O)}},[x,W]),ot.useLayoutEffect(function(){return function(){if(Q.current&&typeof Q.current.destroy=="function")try{Q.current.destroy(),Q.current=null}catch{}}},[]),ot.createElement("div",{id:f,className:p,ref:$})},l=function(d){Fw("mounts <".concat(s,">"));var f=d.id,p=d.className;return ot.createElement("div",{id:f,className:p})},u=t?l:r;return u.propTypes={id:_t.string,className:_t.string,onChange:_t.func,onBlur:_t.func,onFocus:_t.func,onReady:_t.func,onEscape:_t.func,onClick:_t.func,onLoadError:_t.func,onLoaderStart:_t.func,onNetworksChange:_t.func,onConfirm:_t.func,onCancel:_t.func,onShippingAddressChange:_t.func,onShippingRateChange:_t.func,options:_t.object},u.displayName=s,u.__elementType=e,u},Dt=typeof window>"u",k8=ot.createContext(null);k8.displayName="EmbeddedCheckoutProviderContext";It("auBankAccount",Dt);It("card",Dt);It("cardNumber",Dt);It("cardExpiry",Dt);It("cardCvc",Dt);It("fpxBank",Dt);It("iban",Dt);It("idealBank",Dt);It("p24Bank",Dt);It("epsBank",Dt);It("payment",Dt);It("expressCheckout",Dt);It("currencySelector",Dt);It("paymentRequestButton",Dt);It("linkAuthentication",Dt);It("address",Dt);It("shippingAddress",Dt);It("paymentMethodMessaging",Dt);It("affirmMessage",Dt);It("afterpayClearpayMessage",Dt);It("taxId",Dt);var A8="basil",Ej="https://js.stripe.com",T8="".concat(Ej,"/").concat(A8,"/stripe.js"),E8=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,R8=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var M8=function(e){return E8.test(e)||R8.test(e)},P8=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ej,'"]')),t=0;t<e.length;t++){var s=e[t];if(M8(s.src))return s}return null},Lw=function(e){var t="",s=document.createElement("script");s.src="".concat(T8).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(s),s},qa=null,tu=null,nu=null,O8=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},I8=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},D8=function(e){return qa!==null?qa:(qa=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var r=P8();if(!(r&&e)){if(!r)r=Lw(e);else if(r&&nu!==null&&tu!==null){var l;r.removeEventListener("load",nu),r.removeEventListener("error",tu),(l=r.parentNode)===null||l===void 0||l.removeChild(r),r=Lw(e)}}nu=I8(t,s),tu=O8(s),r.addEventListener("load",nu),r.addEventListener("error",tu)}catch(u){s(u);return}}),qa.catch(function(t){return qa=null,Promise.reject(t)}))},Ga,V8=function(){return Ga||(Ga=D8(null).catch(function(e){return Ga=null,Promise.reject(e)}),Ga)};Promise.resolve().then(function(){return V8()}).catch(function(n){console.warn(n)});function zw(){const[n,e]=v.useState(""),[t,s]=v.useState(!0),[r,l]=v.useState("pro");return v.useEffect(()=>{us("POST","/api/create-subscription",{tier:r}).then(u=>u.json()).then(u=>{e(u.clientSecret),s(!1)}).catch(u=>{console.error("Subscription creation failed:",u),s(!1)})},[r]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:i.jsxs(de,{className:"w-full max-w-md bg-gray-800/50 border-gray-700",children:[i.jsxs(Me,{className:"text-center",children:[i.jsx(Pe,{className:"text-white",children:"Payment Setup Required"}),i.jsx(js,{className:"text-gray-400",children:"Configure your Stripe keys to enable subscriptions"})]}),i.jsxs(ye,{className:"space-y-4",children:[i.jsxs("div",{className:"text-sm text-gray-300",children:[i.jsx("p",{children:"To enable payments, you need to:"}),i.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Set up your Stripe account"}),i.jsx("li",{children:"Create Basic ($10) and Pro ($39.99) products"}),i.jsx("li",{children:"Add your Stripe keys to environment variables"})]})]}),i.jsx(ee,{onClick:()=>window.location.href="/studio",className:"w-full","data-testid":"button-back-studio",children:"Back to Studio"})]})]})})}function F8(){const[n,e]=v.useState(!1),[t,s]=v.useState(null),r=async()=>{e(!0),s(null);try{const u=await(await us("POST","/api/test-circular-translation",{})).json();s(u)}catch(l){console.error("Test failed:",l),s({totalTests:0,passedTests:0,averageAccuracy:0,results:[],timestamp:new Date().toISOString(),success:!1,message:"Test execution failed"})}finally{e(!1)}};return i.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Circular Translation Testing"}),i.jsx("p",{className:"text-gray-400 text-lg",children:"Real accuracy testing for code → music → code conversion"})]}),i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx(ee,{onClick:r,disabled:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-run-tests",children:n?i.jsxs(i.Fragment,{children:[i.jsx(Ka,{className:"mr-2 h-5 w-5 animate-spin"}),"Running Tests..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ht,{className:"mr-2 h-5 w-5"}),"Run Circular Translation Tests"]})})}),t&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(de,{className:"bg-gray-900 border-gray-700",children:[i.jsxs(Me,{children:[i.jsx(Pe,{className:"text-white",children:"Test Results Summary"}),i.jsxs(js,{children:["Completed at ",new Date(t.timestamp).toLocaleString()]})]}),i.jsxs(ye,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-400","data-testid":"text-total-tests",children:t.totalTests}),i.jsx("div",{className:"text-gray-400",children:"Total Tests"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-green-400","data-testid":"text-passed-tests",children:t.passedTests}),i.jsx("div",{className:"text-gray-400",children:"Passed Tests"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold text-yellow-400","data-testid":"text-average-accuracy",children:[t.averageAccuracy.toFixed(1),"%"]}),i.jsx("div",{className:"text-gray-400",children:"Average Accuracy"})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Success Rate"}),i.jsxs("span",{children:[(t.passedTests/t.totalTests*100).toFixed(1),"%"]})]}),i.jsx(Wg,{value:t.passedTests/t.totalTests*100,className:"h-3"})]}),t.message&&i.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded text-sm","data-testid":"text-message",children:t.message})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Individual Test Results"}),t.results.map((l,u)=>i.jsxs(de,{className:"bg-gray-900 border-gray-700",children:[i.jsx(Me,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[l.passed?i.jsx(G1,{className:"h-5 w-5 text-green-400"}):i.jsx($1,{className:"h-5 w-5 text-red-400"}),l.testName]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{variant:l.passed?"default":"destructive",children:l.passed?"PASSED":"FAILED"}),i.jsxs(Te,{variant:"outline",children:[l.similarityScore.toFixed(1),"% accuracy"]})]})]})}),i.jsxs(ye,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium mb-2",children:"Original Code"}),i.jsx("pre",{className:"bg-gray-800 p-3 rounded text-sm overflow-x-auto",children:i.jsx("code",{children:l.originalCode})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium mb-2",children:"Regenerated Code"}),i.jsx("pre",{className:"bg-gray-800 p-3 rounded text-sm overflow-x-auto",children:i.jsx("code",{children:l.regeneratedCode})})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Structural Matches:"}),i.jsxs("span",{className:"ml-2 text-white",children:[l.structuralMatches,"/",l.totalStructuralElements]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Similarity Score:"}),i.jsxs("span",{className:"ml-2 text-white",children:[l.similarityScore.toFixed(2),"%"]})]})]}),l.errors&&l.errors.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-red-900/20 border border-red-700 rounded",children:[i.jsx("h5",{className:"text-red-400 font-medium mb-2",children:"Errors:"}),i.jsx("ul",{className:"text-red-300 text-sm space-y-1",children:l.errors.map((c,d)=>i.jsxs("li",{children:["• ",c]},d))})]})]})]},u))]})]})]})})}const Bw=[{id:"openai",name:"OpenAI GPT",description:"Advanced language model for creative and technical tasks",icon:lm,capabilities:["Text Generation","Code Analysis","Creative Writing"],status:"available"},{id:"anthropic",name:"Anthropic Claude",description:"Helpful, harmless, and honest AI assistant",icon:BT,capabilities:["Reasoning","Analysis","Code Review"],status:"available"},{id:"gemini",name:"Google Gemini",description:"Multimodal AI with advanced reasoning capabilities",icon:zo,capabilities:["Multimodal","Code Generation","Analysis"],status:"beta"},{id:"custom",name:"Custom Model",description:"Use your own AI model endpoint",icon:rr,capabilities:["Custom","Self-hosted"],status:"premium"}];function Rj({selectedProvider:n="openai",onProviderChange:e,className:t}){const[s,r]=v.useState(n),l=c=>{r(c),e?.(c)},u=Bw.find(c=>c.id===s);return i.jsxs(de,{className:t,children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center gap-2",children:[i.jsx(lm,{className:"h-5 w-5"}),"AI Provider"]})}),i.jsxs(ye,{className:"space-y-4",children:[i.jsxs(wt,{value:s,onValueChange:l,children:[i.jsx(ft,{children:i.jsx(bt,{placeholder:"Select AI provider"})}),i.jsx(pt,{children:Bw.map(c=>{const d=c.icon;return i.jsx(Oe,{value:c.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(d,{className:"h-4 w-4"}),i.jsx("span",{children:c.name}),i.jsx(Te,{variant:c.status==="available"?"default":c.status==="premium"?"secondary":"outline",className:"ml-auto text-xs",children:c.status})]})},c.id)})})]}),u&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(u.icon,{className:"h-5 w-5 mt-0.5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:u.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium mb-2",children:"Capabilities"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:u.capabilities.map(c=>i.jsx(Te,{variant:"outline",className:"text-xs",children:c},c))})]}),u.status==="premium"&&i.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[i.jsx("p",{className:"text-sm text-yellow-800",children:"This provider requires a premium subscription."}),i.jsx(ee,{size:"sm",className:"mt-2",children:"Upgrade to Premium"})]}),u.status==="beta"&&i.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:i.jsx("p",{className:"text-sm text-blue-800",children:"This provider is in beta. Features may be limited."})})]})]})]})}const L8=["Pop","Rock","Hip-Hop","Electronic","Jazz","Classical","Country","R&B","Reggae","Folk","Blues","Funk","Metal","Indie","Ambient"],z8=["Uplifting","Melancholic","Energetic","Relaxing","Dramatic","Romantic","Mysterious","Playful","Intense","Peaceful","Dark","Bright"],B8=["Modern","Vintage","Experimental","Minimal","Orchestral","Acoustic","Electronic","Cinematic","Lo-fi","High-energy"];function q8(){const[n,e]=v.useState(""),[t,s]=v.useState("Pop"),[r,l]=v.useState("Uplifting"),[u,c]=v.useState("Modern"),[d,f]=v.useState([180]),[p,m]=v.useState([120]),[x,b]=v.useState(!0),[S,w]=v.useState("openai"),[C,N]=v.useState("generate"),[E,T]=v.useState(null),[M,R]=v.useState(!1),{toast:I}=ar(),j=Gr({mutationFn:async z=>(await us("POST","/api/professional-audio/generate",z)).json(),onSuccess:z=>{T(z),I({title:"Professional song generated!",description:`Created a ${z.metadata?.duration}s ${t} composition`})},onError:z=>{I({title:"Generation failed",description:z.message,variant:"destructive"})}}),k=Gr({mutationFn:async z=>(await us("POST","/api/professional-audio/add-vocals",z)).json(),onSuccess:z=>{T(H=>({...H,vocals:z})),I({title:"Vocals added successfully!",description:"Professional vocal arrangement layered onto your track"})},onError:z=>{I({title:"Adding vocals failed",description:z.message,variant:"destructive"})}}),D=()=>{if(!n.trim()){I({title:"No prompt provided",description:"Please describe the song you want to create",variant:"destructive"});return}j.mutate({prompt:n,options:{genre:t,mood:r,style:u,duration:d[0],bpm:p[0],vocals:x,instruments:["piano","guitar","bass","drums","strings"]}})},A=async()=>{if(!E){I({title:"No song to play",description:"Generate a professional song first",variant:"destructive"});return}try{if(M)Lt.stop(),R(!1),I({title:"Playback stopped",description:"Professional audio playback halted"});else{await Lt.initialize();const z=E,H=z.metadata?.bpm||p[0]||120;z.realAudio?.hasRealAudio&&z.realAudio.samples?.length>0?(I({title:"Playing real audio",description:`${z.realAudio.sampleCount} professional samples`}),await V(z,H)):await V(z,H),R(!0),I({title:"Professional playback started",description:`Playing ${z.metadata?.quality||"studio quality"} composition`})}}catch(z){console.error("Playback error:",z),I({title:"Playback failed",description:"Audio system initialization error",variant:"destructive"})}},V=async(z,H)=>{z.chordProgression;const X=z.melody||[];Lt.setBpm(H);const Q=[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0];if(await Lt.playBeat(Q,["kick","snare","hihat"],H),X.length>0){const $=X.flatMap(q=>q.notes?.map(W=>({C:60,D:62,E:64,F:65,G:67,A:69,B:71,C4:60,D4:62,E4:64,F4:65,G4:67,A4:69,B4:71,C5:72,D5:74,E5:76,F5:77,G5:79,A5:81,B5:83})[W.note]||60)||[]);$.length>0&&setTimeout(()=>{Lt.playMelody($,H)},1e3)}},B=()=>{E&&k.mutate({instrumentalData:E,vocalOptions:{style:t.toLowerCase(),melody:!0,harmonies:!0,adLibs:!1}})},Z=z=>{const H=Math.floor(z/60),X=z%60;return`${H}:${X.toString().padStart(2,"0")}`};return i.jsx("div",{className:"min-h-screen bg-background text-foreground pt-16",children:i.jsx("div",{className:"flex",children:i.jsxs("div",{className:"flex-1 ml-64 p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 rounded-lg flex items-center justify-center mr-4",children:i.jsx(Ya,{className:"text-white h-6 w-6"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold",children:["Pro",i.jsx("span",{className:"text-purple-400",children:"Audio"})," Studio"]}),i.jsx("p",{className:"text-muted-foreground",children:"Professional AI music generation competing with Suno's quality"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Te,{variant:"secondary",children:"Studio Quality"}),i.jsx(Te,{variant:"secondary",children:"44.1 kHz"}),i.jsx(Te,{variant:"secondary",children:"Professional Mixing"}),i.jsx(Te,{variant:"secondary",children:"Commercial Ready"})]})]}),i.jsxs(Fi,{value:C,onValueChange:N,className:"space-y-6",children:[i.jsxs(si,{className:"grid w-full grid-cols-3",children:[i.jsx(mt,{value:"generate",children:"Generate Song"}),i.jsx(mt,{value:"vocals",children:"Add Vocals"}),i.jsx(mt,{value:"arrange",children:"Arrangements"})]}),i.jsx(gt,{value:"generate",className:"space-y-6",children:i.jsxs(de,{className:"bg-card border-border",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center",children:[i.jsx(Bt,{className:"mr-2 h-5 w-5 text-purple-400"}),"Professional Song Generation"]})}),i.jsxs(ye,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Song Description"}),i.jsx(cs,{value:n,onChange:z=>e(z.target.value),placeholder:"Describe the song you want to create... (e.g., 'An uplifting pop anthem about overcoming challenges with soaring vocals and energetic drums')",className:"min-h-32 bg-background border-border"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Genre"}),i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{className:"bg-background border-border",children:i.jsx(bt,{})}),i.jsx(pt,{children:L8.map(z=>i.jsx(Oe,{value:z,children:z},z))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mood"}),i.jsxs(wt,{value:r,onValueChange:l,children:[i.jsx(ft,{className:"bg-background border-border",children:i.jsx(bt,{})}),i.jsx(pt,{children:z8.map(z=>i.jsx(Oe,{value:z,children:z},z))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Style"}),i.jsxs(wt,{value:u,onValueChange:c,children:[i.jsx(ft,{className:"bg-background border-border",children:i.jsx(bt,{})}),i.jsx(pt,{children:B8.map(z=>i.jsx(Oe,{value:z,children:z},z))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"AI Provider"}),i.jsx(Rj,{value:S,onValueChange:w})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Duration: ",Z(d[0])]}),i.jsx(Ae,{value:d,onValueChange:f,min:30,max:480,step:15,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[i.jsx("span",{children:"30s"}),i.jsx("span",{children:"8:00"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["BPM: ",p[0]]}),i.jsx(Ae,{value:p,onValueChange:m,min:60,max:200,step:5,className:"w-full"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Include Vocals"}),i.jsxs(ee,{variant:x?"default":"outline",size:"sm",onClick:()=>b(!x),children:[x?i.jsx(yi,{className:"h-4 w-4"}):i.jsx(Bt,{className:"h-4 w-4"}),x?"Vocals":"Instrumental"]})]})]})]}),i.jsx("div",{className:"space-y-4",children:E?i.jsx(de,{className:"bg-background border-border",children:i.jsx(ye,{className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium",children:"Generated Composition"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee,{size:"sm",variant:"outline",children:i.jsx(Fo,{className:"h-4 w-4"})}),i.jsx(ee,{size:"sm",variant:"outline",children:i.jsx(K1,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),i.jsx("span",{className:"ml-2 font-medium",children:Z(E.metadata?.duration||180)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Quality:"}),i.jsx("span",{className:"ml-2 font-medium",children:"Studio 44.1kHz"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Format:"}),i.jsx("span",{className:"ml-2 font-medium",children:"Professional WAV"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Mastering:"}),i.jsx("span",{className:"ml-2 font-medium",children:"Commercial Ready"})]})]}),E.chordProgression&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Chord Progression:"}),i.jsx("div",{className:"flex gap-2 mt-1",children:typeof E.chordProgression=="object"&&E.chordProgression.main?E.chordProgression.main.map((z,H)=>i.jsx(Te,{variant:"outline",children:z},H)):Array.isArray(E.chordProgression)?E.chordProgression.map((z,H)=>i.jsx(Te,{variant:"outline",children:z},H)):i.jsx(Te,{variant:"outline",children:"Complex Progression"})})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border",children:[i.jsx(ee,{onClick:A,className:"bg-purple-600 hover:bg-purple-700",children:M?i.jsx(Zr,{className:"h-4 w-4"}):i.jsx(Ht,{className:"h-4 w-4"})}),i.jsx("div",{className:"text-sm text-muted-foreground",children:E.realAudio?.hasRealAudio?`${E.realAudio.sampleCount} real audio samples generated`:"Professional synthesis engine"})]})]})})}):i.jsx("div",{className:"min-h-64 bg-background border border-dashed border-border rounded-lg flex items-center justify-center text-muted-foreground",children:"Your professional composition will appear here"})})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(ee,{onClick:D,disabled:j.isPending,className:"px-8 py-3 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white font-semibold",size:"lg",children:j.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Ka,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating Professional Song..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ya,{className:"mr-2 h-5 w-5"}),"Generate Professional Song"]})})})]})]})}),i.jsx(gt,{value:"vocals",className:"space-y-6",children:i.jsxs(de,{className:"bg-card border-border",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center",children:[i.jsx(yi,{className:"mr-2 h-5 w-5 text-pink-400"}),"Add Professional Vocals"]})}),i.jsx(ye,{children:E?i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"Layer professional AI-generated vocals onto your instrumental track with sophisticated arrangement and harmony."}),i.jsx(ee,{onClick:B,disabled:k.isPending,className:"bg-pink-600 hover:bg-pink-700",children:k.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding Vocals..."]}):i.jsxs(i.Fragment,{children:[i.jsx(yi,{className:"mr-2 h-4 w-4"}),"Add Professional Vocals"]})})]}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Generate an instrumental track first to add vocals"})})]})}),i.jsx(gt,{value:"arrange",className:"space-y-6",children:i.jsxs(de,{className:"bg-card border-border",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center",children:[i.jsx(zo,{className:"mr-2 h-5 w-5 text-blue-400"}),"Advanced Arrangements"]})}),i.jsx(ye,{children:i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Advanced arrangement features coming soon..."})})]})})]})]})})})}const G8=["JavaScript","TypeScript","Python","Java","C#","C++","Go","Rust","PHP","Ruby","Swift","Kotlin","Dart","Scala"];function $8(){const[n,e]=v.useState(""),[t,s]=v.useState(""),[r,l]=v.useState(null),[u,c]=v.useState(!1),[d,f]=v.useState(!1),[p,m]=v.useState([75]),[x,b]=v.useState("openai"),{toast:S}=ar(),w=Gr({mutationFn:async I=>(await us("POST","/api/code/convert-to-music",I)).json(),onSuccess:I=>{l(I),S({title:"Code converted to music!",description:`Created a musical composition in ${I.key} at ${I.tempo} BPM`})},onError:I=>{S({title:"Conversion failed",description:I.message,variant:"destructive"})}}),C=()=>{if(!n.trim()){S({title:"No code provided",description:"Please enter some code to convert",variant:"destructive"});return}if(!t){S({title:"No language selected",description:"Please select the programming language",variant:"destructive"});return}w.mutate({code:n,language:t,aiProvider:x})},N=async()=>{try{await Lt.initialize(),f(!0),S({title:"Audio ready",description:"Audio system initialized successfully"})}catch{S({title:"Audio initialization failed",description:"Please check your browser audio settings",variant:"destructive"})}},E=async()=>{if(!d){S({title:"Audio not ready",description:"Click 'Start Audio' first to enable sound",variant:"destructive"});return}if(r)if(u)Lt.stop(),c(!1);else try{await Lt.playMelody(r.melody,r.tempo),c(!0),setTimeout(()=>{c(!1)},r.melody.length*(60/r.tempo)*.5*1e3)}catch{S({title:"Playback failed",description:"Could not play the generated music",variant:"destructive"})}},T={JavaScript:`function fibonacci(n) {
  if (n <= 1) return n;
  let a = 0, b = 1;
  for (let i = 2; i <= n; i++) {
    [a, b] = [b, a + b];
  }
  return b;
}

// Recursive pattern creates ascending melody
// Loop structure adds rhythmic complexity`,Python:`import random

def generate_pattern(size):
    pattern = []
    for i in range(size):
        if i % 2 == 0:
            pattern.append(random.choice([1, 2, 3]))
        else:
            pattern.append(0)
    return pattern

# Conditional logic creates syncopated rhythm
# Random elements add harmonic variation`,Java:`public class MelodyGenerator {
    private int[] notes = {60, 62, 64, 65, 67, 69, 71, 72};
    
    public void playScale() {
        for (int note : notes) {
            System.out.println("Playing note: " + note);
            Thread.sleep(250);
        }
    }
}

// Object structure maps to chord progressions
// Array iteration creates melodic sequences`},M=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],R=I=>{const j=Math.floor(I/12)-1,k=I%12;return`${M[k]}${j}`};return i.jsx("div",{className:"min-h-screen bg-background text-foreground pt-16",children:i.jsx("div",{className:"flex",children:i.jsxs("div",{className:"flex-1 ml-64 p-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 via-pink-600 to-orange-600 rounded-lg flex items-center justify-center mr-4",children:i.jsx(rr,{className:"text-white h-6 w-6"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold",children:["Code",i.jsx("span",{className:"text-purple-400",children:"Beat"})," Studio"]}),i.jsx("p",{className:"text-muted-foreground",children:"Transform your code into musical compositions with AI magic"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Te,{variant:"secondary",children:"Revolutionary"}),i.jsx(Te,{variant:"secondary",children:"Code Analysis"}),i.jsx(Te,{variant:"secondary",children:"Musical Mapping"}),i.jsx(Te,{variant:"secondary",children:"AI-Powered"})]})]}),i.jsxs(de,{className:"bg-card border-border mb-6",children:[i.jsx(Me,{children:i.jsxs(Pe,{className:"flex items-center",children:[i.jsx(er,{className:"mr-2 h-5 w-5 text-purple-400"}),"Code Input",i.jsx(B1,{className:"mx-4 h-5 w-5 text-purple-400"}),i.jsx(Bt,{className:"mr-2 h-5 w-5 text-pink-400"}),"Music Output"]})}),i.jsx(ye,{children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Programming Language"}),i.jsxs(wt,{value:t,onValueChange:s,children:[i.jsx(ft,{className:"bg-background border-border",children:i.jsx(bt,{placeholder:"Select language"})}),i.jsx(pt,{children:G8.map(I=>i.jsx(Oe,{value:I,children:I},I))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"AI Provider"}),i.jsx(Rj,{value:x,onValueChange:b})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source Code"}),i.jsx(cs,{value:n,onChange:I=>e(I.target.value),placeholder:"Enter your code here...",className:"min-h-64 font-mono bg-background border-border resize-none"})]}),t&&T[t]&&i.jsx(ee,{variant:"outline",size:"sm",onClick:()=>e(T[t]),children:"Load Example Code"})]}),i.jsx("div",{className:"space-y-4",children:r?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(de,{className:"bg-background border-border",children:i.jsxs(ye,{className:"p-4",children:[!d&&i.jsx("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4 mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-purple-400",children:"Audio Setup Required"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to enable audio playback"})]}),i.jsxs(ee,{onClick:N,className:"bg-purple-600 hover:bg-purple-700",children:[i.jsx(sr,{className:"mr-2 h-4 w-4"}),"Start Audio"]})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ee,{onClick:E,disabled:!d,className:"w-12 h-12 rounded-full bg-purple-600/20 hover:bg-purple-600/30 disabled:opacity-50",children:u?i.jsx(Zr,{className:"h-5 w-5 text-purple-400"}):i.jsx(Ht,{className:"h-5 w-5 text-purple-400"})}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"text-foreground",children:"Generated Composition"}),i.jsxs("div",{className:"text-muted-foreground text-xs",children:[r.tempo," BPM • ",r.key]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(Ae,{value:p,onValueChange:m,max:100,min:0,className:"w-20"})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(de,{className:"bg-background border-border",children:i.jsxs(ye,{className:"p-4",children:[i.jsx("h3",{className:"font-medium mb-2 text-purple-400",children:"Musical Key"}),i.jsx(Te,{variant:"outline",className:"text-purple-400",children:r.key})]})}),i.jsx(de,{className:"bg-background border-border",children:i.jsxs(ye,{className:"p-4",children:[i.jsx("h3",{className:"font-medium mb-2 text-pink-400",children:"Tempo"}),i.jsxs(Te,{variant:"outline",className:"text-pink-400",children:[r.tempo," BPM"]})]})})]}),i.jsx(de,{className:"bg-background border-border",children:i.jsxs(ye,{className:"p-4",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Melody Pattern"}),i.jsx("div",{className:"grid grid-cols-8 gap-1",children:r.melody.slice(0,16).map((I,j)=>i.jsx("div",{className:"p-2 bg-purple-600/20 rounded text-center text-xs font-mono",title:`MIDI Note ${I}`,children:R(I)},j))})]})}),r.rhythm&&i.jsx(de,{className:"bg-background border-border",children:i.jsxs(ye,{className:"p-4",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Rhythm Pattern"}),i.jsx("div",{className:"grid grid-cols-16 gap-1",children:r.rhythm.slice(0,16).map((I,j)=>i.jsx("div",{className:`w-4 h-4 rounded ${I?"bg-purple-400":"bg-border"}`},j))})]})})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(ee,{variant:"outline",className:"flex-1",children:[i.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Export MIDI"]}),i.jsxs(ee,{variant:"outline",className:"flex-1",children:[i.jsx(K1,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}):i.jsx("div",{className:"min-h-64 bg-background border border-dashed border-border rounded-lg flex items-center justify-center text-muted-foreground",children:"Your musical composition will appear here"})})]})})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(ee,{onClick:C,disabled:w.isPending,className:"px-8 py-3 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 text-white font-semibold",size:"lg",children:w.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Ka,{className:"mr-2 h-5 w-5 animate-spin"}),"Converting Code to Music..."]}):i.jsxs(i.Fragment,{children:[i.jsx(rr,{className:"mr-2 h-5 w-5"}),"Transform Code to Music"]})})}),r&&i.jsxs(de,{className:"bg-card border-border mb-6",children:[i.jsx(Me,{children:i.jsx(Pe,{children:"Conversion Analysis"})}),i.jsx(ye,{children:i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx("p",{className:"text-muted-foreground",children:r.description})})})]}),i.jsxs(de,{className:"bg-purple-500/10 border-purple-500/20",children:[i.jsx(Me,{children:i.jsx(Pe,{className:"text-purple-400",children:"🎵 How CodeBeat Fusion Works"})}),i.jsx(ye,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2 text-purple-400",children:"1. Code Analysis"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:"• Analyzes code structure and complexity"}),i.jsx("li",{children:"• Identifies patterns and loops"}),i.jsx("li",{children:"• Maps function calls to melodic phrases"}),i.jsx("li",{children:"• Converts variables to harmonic elements"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2 text-pink-400",children:"2. Musical Mapping"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:"• Conditional statements → chord changes"}),i.jsx("li",{children:"• Loops → repeating musical patterns"}),i.jsx("li",{children:"• Function depth → musical octaves"}),i.jsx("li",{children:"• Code complexity → rhythmic density"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-2 text-purple-400",children:"3. Composition"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:"• Generates MIDI note sequences"}),i.jsx("li",{children:"• Creates rhythmic patterns"}),i.jsx("li",{children:"• Assigns appropriate tempo and key"}),i.jsx("li",{children:"• Produces playable musical output"})]})]})]})})]})]})})})}const W8=()=>{const[n]=Jp(),e=v.useRef(n);v.useEffect(()=>{n!==e.current&&(e.current=n)},[n])};function U8(){return W8(),i.jsxs(Jw,{children:[i.jsx(qe,{path:"/",component:iS}),i.jsx(qe,{path:"/dashboard",component:pI}),i.jsx(qe,{path:"/music-studio",component:Ze}),i.jsx(qe,{path:"/song-uploader",component:Ze}),i.jsx(qe,{path:"/beat-studio",component:Ze}),i.jsx(qe,{path:"/melody-composer",component:Ze}),i.jsx(qe,{path:"/unified-studio",component:Ze}),i.jsx(qe,{path:"/code-translator",component:Ze}),i.jsx(qe,{path:"/codebeat-studio",component:Ze}),i.jsx(qe,{path:"/lyric-lab",component:Ze}),i.jsx(qe,{path:"/vulnerability-scanner",component:Ze}),i.jsx(qe,{path:"/ai-assistant",component:Ze}),i.jsx(qe,{path:"/mix-studio",component:Ze}),i.jsx(qe,{path:"/pro-console",component:Ze}),i.jsx(qe,{path:"/midi-controller",component:Ze}),i.jsx(qe,{path:"/advanced-sequencer",component:Ze}),i.jsx(qe,{path:"/granular-engine",component:Ze}),i.jsx(qe,{path:"/wavetable-oscillator",component:Ze}),i.jsx(qe,{path:"/pack-generator",component:Ze}),i.jsx(qe,{path:"/song-structure",component:Ze}),i.jsx(qe,{path:"/billing",component:zw}),i.jsx(qe,{path:"/settings",component:Ze}),i.jsx(qe,{path:"/studio",component:Ze}),i.jsx(qe,{path:"/subscribe",component:zw}),i.jsx(qe,{path:"/test-circular",component:F8}),i.jsx(qe,{component:fI})]})}function an({children:n}){return i.jsxs("div",{className:"flex h-screen",children:[i.jsx(dI,{}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(lI,{}),i.jsx("main",{className:"flex-1 overflow-x-auto overflow-y-auto",children:i.jsx("div",{className:"min-w-[1400px] w-full h-full",children:n})})]})]})}function H8(){return v.useEffect(()=>{console.warn("Missing required Google Analytics key: VITE_GA_MEASUREMENT_ID")},[]),i.jsx(NA,{client:f1,children:i.jsxs(OM,{children:[i.jsx(YE,{}),i.jsxs(Jw,{children:[i.jsx(qe,{path:"/",component:iS}),i.jsx(qe,{path:"/music-studio",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/song-uploader",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/beat-studio",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/melody-composer",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/code-translator",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/codebeat-studio",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/lyric-lab",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/vulnerability-scanner",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/ai-assistant",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/mix-studio",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/pro-console",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/midi-controller",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/song-structure",children:i.jsx(an,{children:i.jsx(Ze,{})})}),i.jsx(qe,{path:"/pro-audio",children:i.jsx(an,{children:i.jsx(q8,{})})}),i.jsx(qe,{path:"/codebeat-studio-direct",children:i.jsx(an,{children:i.jsx($8,{})})}),i.jsx(qe,{path:"*",children:i.jsx(an,{children:i.jsx(U8,{})})})]})]})})}Vk.createRoot(document.getElementById("root")).render(i.jsx(H8,{}));
